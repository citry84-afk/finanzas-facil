var eS=Object.defineProperty;var tS=(t,e,n)=>e in t?eS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>(tS(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function nS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qw={exports:{}},$d={},Yw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),sS=Symbol.for("react.portal"),rS=Symbol.for("react.fragment"),iS=Symbol.for("react.strict_mode"),aS=Symbol.for("react.profiler"),oS=Symbol.for("react.provider"),lS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),uS=Symbol.for("react.suspense"),dS=Symbol.for("react.memo"),hS=Symbol.for("react.lazy"),N0=Symbol.iterator;function fS(t){return t===null||typeof t!="object"?null:(t=N0&&t[N0]||t["@@iterator"],typeof t=="function"?t:null)}var Xw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jw=Object.assign,Zw={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=Zw,this.updater=n||Xw}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e_(){}e_.prototype=Pa.prototype;function Pp(t,e,n){this.props=t,this.context=e,this.refs=Zw,this.updater=n||Xw}var Rp=Pp.prototype=new e_;Rp.constructor=Pp;Jw(Rp,Pa.prototype);Rp.isPureReactComponent=!0;var E0=Array.isArray,t_=Object.prototype.hasOwnProperty,Mp={current:null},n_={key:!0,ref:!0,__self:!0,__source:!0};function s_(t,e,n){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)t_.call(e,s)&&!n_.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ql,type:t,key:i,ref:a,props:r,_owner:Mp.current}}function mS(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function pS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j0=/\/+/g;function nf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pS(""+t.key):e.toString(36)}function yu(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ql:case sS:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+nf(a,0):s,E0(r)?(n="",t!=null&&(n=t.replace(j0,"$&/")+"/"),yu(r,e,n,"",function(u){return u})):r!=null&&(Dp(r)&&(r=mS(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(j0,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",E0(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+nf(i,l);a+=yu(i,e,n,c,r)}else if(c=fS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+nf(i,l++),a+=yu(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Pc(t,e,n){if(t==null)return t;var s=[],r=0;return yu(t,s,"","",function(i){return e.call(n,i,r++)}),s}function gS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},bu={transition:null},xS={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:bu,ReactCurrentOwner:Mp};function r_(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Pc,forEach:function(t,e,n){Pc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pc(t,function(){e++}),e},toArray:function(t){return Pc(t,function(e){return e})||[]},only:function(t){if(!Dp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Pa;de.Fragment=rS;de.Profiler=aS;de.PureComponent=Pp;de.StrictMode=iS;de.Suspense=uS;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;de.act=r_;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Jw({},t.props),r=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Mp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)t_.call(e,c)&&!n_.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ql,type:t.type,key:r,ref:i,props:s,_owner:a}};de.createContext=function(t){return t={$$typeof:lS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oS,_context:t},t.Consumer=t};de.createElement=s_;de.createFactory=function(t){var e=s_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:cS,render:t}};de.isValidElement=Dp;de.lazy=function(t){return{$$typeof:hS,_payload:{_status:-1,_result:t},_init:gS}};de.memo=function(t,e){return{$$typeof:dS,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=bu.transition;bu.transition={};try{t()}finally{bu.transition=e}};de.unstable_act=r_;de.useCallback=function(t,e){return Ft.current.useCallback(t,e)};de.useContext=function(t){return Ft.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};de.useEffect=function(t,e){return Ft.current.useEffect(t,e)};de.useId=function(){return Ft.current.useId()};de.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Ft.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};de.useRef=function(t){return Ft.current.useRef(t)};de.useState=function(t){return Ft.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Ft.current.useTransition()};de.version="18.3.1";Yw.exports=de;var V=Yw.exports;const Gd=nS(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS=V,bS=Symbol.for("react.element"),vS=Symbol.for("react.fragment"),wS=Object.prototype.hasOwnProperty,_S=yS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NS={key:!0,ref:!0,__self:!0,__source:!0};function i_(t,e,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)wS.call(e,s)&&!NS.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:bS,type:t,key:i,ref:a,props:r,_owner:_S.current}}$d.Fragment=vS;$d.jsx=i_;$d.jsxs=i_;Qw.exports=$d;var o=Qw.exports,im={},a_={exports:{}},ln={},o_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var Z=U.length;U.push(H);e:for(;0<Z;){var ue=Z-1>>>1,oe=U[ue];if(0<r(oe,H))U[ue]=H,U[Z]=oe,Z=ue;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var H=U[0],Z=U.pop();if(Z!==H){U[0]=Z;e:for(var ue=0,oe=U.length,We=oe>>>1;ue<We;){var ye=2*(ue+1)-1,jt=U[ye],Ge=ye+1,Zt=U[Ge];if(0>r(jt,Z))Ge<oe&&0>r(Zt,jt)?(U[ue]=Zt,U[Ge]=Z,ue=Ge):(U[ue]=jt,U[ye]=Z,ue=ye);else if(Ge<oe&&0>r(Zt,Z))U[ue]=Zt,U[Ge]=Z,ue=Ge;else break e}}return H}function r(U,H){var Z=U.sortIndex-H.sortIndex;return Z!==0?Z:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,b=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var H=n(u);H!==null;){if(H.callback===null)s(u);else if(H.startTime<=U)s(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function P(U){if(_=!1,E(U),!b)if(n(c)!==null)b=!0,ne(R);else{var H=n(u);H!==null&&ae(P,H.startTime-U)}}function R(U,H){b=!1,_&&(_=!1,y(w),w=-1),g=!0;var Z=m;try{for(E(H),f=n(c);f!==null&&(!(f.expirationTime>H)||U&&!T());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,m=f.priorityLevel;var oe=ue(f.expirationTime<=H);H=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(c)&&s(c),E(H)}else s(c);f=n(c)}if(f!==null)var We=!0;else{var ye=n(u);ye!==null&&ae(P,ye.startTime-H),We=!1}return We}finally{f=null,m=Z,g=!1}}var M=!1,N=null,w=-1,I=5,C=-1;function T(){return!(t.unstable_now()-C<I)}function A(){if(N!==null){var U=t.unstable_now();C=U;var H=!0;try{H=N(!0,U)}finally{H?k():(M=!1,N=null)}}else M=!1}var k;if(typeof v=="function")k=function(){v(A)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=A,k=function(){X.postMessage(null)}}else k=function(){j(A,0)};function ne(U){N=U,M||(M=!0,k())}function ae(U,H){w=j(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,ne(R))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var Z=m;m=H;try{return U()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=m;m=U;try{return H()}finally{m=Z}},t.unstable_scheduleCallback=function(U,H,Z){var ue=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Z+oe,U={id:h++,callback:H,priorityLevel:U,startTime:Z,expirationTime:oe,sortIndex:-1},Z>ue?(U.sortIndex=Z,e(u,U),n(c)===null&&U===n(u)&&(_?(y(w),w=-1):_=!0,ae(P,Z-ue))):(U.sortIndex=oe,e(c,U),b||g||(b=!0,ne(R))),U},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(U){var H=m;return function(){var Z=m;m=H;try{return U.apply(this,arguments)}finally{m=Z}}}})(l_);o_.exports=l_;var ES=o_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=V,on=ES;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c_=new Set,dl={};function vi(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(dl[t]=e,t=0;t<e.length;t++)c_.add(e[t])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,SS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},I0={};function IS(t){return am.call(I0,t)?!0:am.call(S0,t)?!1:SS.test(t)?I0[t]=!0:(S0[t]=!0,!1)}function TS(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kS(t,e,n,s){if(e===null||typeof e>"u"||TS(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function Lp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,Lp);Nt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,Lp);Nt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,Lp);Nt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vp(t,e,n,s){var r=Nt.hasOwnProperty(e)?Nt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kS(e,n,r,s)&&(n=null),s||r===null?IS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Ts=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),cm=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),h_=Symbol.for("react.offscreen"),T0=Symbol.iterator;function lo(t){return t===null||typeof t!="object"?null:(t=T0&&t[T0]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,sf;function jo(t){if(sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sf=e&&e[1]||""}return`
`+sf+t}var rf=!1;function af(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,l=i.length-1;1<=a&&0<=l&&r[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==i[l]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jo(t):""}function CS(t){switch(t.tag){case 5:return jo(t.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return t=af(t.type,!1),t;case 11:return t=af(t.type.render,!1),t;case 1:return t=af(t.type,!0),t;default:return""}}function um(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wi:return"Fragment";case Bi:return"Portal";case om:return"Profiler";case Fp:return"StrictMode";case lm:return"Suspense";case cm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d_:return(t.displayName||"Context")+".Consumer";case u_:return(t._context.displayName||"Context")+".Provider";case zp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Up:return e=t.displayName||null,e!==null?e:um(t.type)||"Memo";case Bs:e=t._payload,t=t._init;try{return um(t(e))}catch{}}return null}function AS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(e);case 8:return e===Fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PS(t){var e=f_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mc(t){t._valueTracker||(t._valueTracker=PS(t))}function m_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=f_(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dm(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function k0(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p_(t,e){e=e.checked,e!=null&&Vp(t,"checked",e,!1)}function hm(t,e){p_(t,e);var n=br(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&fm(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fm(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var So=Array.isArray;function ta(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function mm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(So(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function g_(t,e){var n=br(e.value),s=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function P0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dc,y_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RS=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(t){RS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uo[e]=Uo[t]})});function b_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uo.hasOwnProperty(t)&&Uo[t]?(""+e).trim():e+"px"}function v_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=b_(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var MS=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(t,e){if(e){if(MS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function xm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function Bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bm=null,na=null,sa=null;function R0(t){if(t=Jl(t)){if(typeof bm!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Jd(e),bm(t.stateNode,t.type,e))}}function w_(t){na?sa?sa.push(t):sa=[t]:na=t}function __(){if(na){var t=na,e=sa;if(sa=na=null,R0(t),e)for(t=0;t<e.length;t++)R0(e[t])}}function N_(t,e){return t(e)}function E_(){}var of=!1;function j_(t,e,n){if(of)return t(e,n);of=!0;try{return N_(t,e,n)}finally{of=!1,(na!==null||sa!==null)&&(E_(),__())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var s=Jd(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var vm=!1;if(bs)try{var co={};Object.defineProperty(co,"passive",{get:function(){vm=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{vm=!1}function DS(t,e,n,s,r,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Bo=!1,$u=null,Gu=!1,wm=null,OS={onError:function(t){Bo=!0,$u=t}};function LS(t,e,n,s,r,i,a,l,c){Bo=!1,$u=null,DS.apply(OS,arguments)}function VS(t,e,n,s,r,i,a,l,c){if(LS.apply(this,arguments),Bo){if(Bo){var u=$u;Bo=!1,$u=null}else throw Error(B(198));Gu||(Gu=!0,wm=u)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M0(t){if(wi(t)!==t)throw Error(B(188))}function FS(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return M0(r),t;if(i===s)return M0(r),e;i=i.sibling}throw Error(B(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==s)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function I_(t){return t=FS(t),t!==null?T_(t):null}function T_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T_(t);if(e!==null)return e;t=t.sibling}return null}var k_=on.unstable_scheduleCallback,D0=on.unstable_cancelCallback,zS=on.unstable_shouldYield,US=on.unstable_requestPaint,Qe=on.unstable_now,BS=on.unstable_getCurrentPriorityLevel,Wp=on.unstable_ImmediatePriority,C_=on.unstable_UserBlockingPriority,Ku=on.unstable_NormalPriority,WS=on.unstable_LowPriority,A_=on.unstable_IdlePriority,Kd=null,Gn=null;function qS(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:GS,HS=Math.log,$S=Math.LN2;function GS(t){return t>>>=0,t===0?32:31-(HS(t)/$S|0)|0}var Oc=64,Lc=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=Io(l):(i&=a,i!==0&&(s=Io(i)))}else a=n&~r,a!==0?s=Io(a):i!==0&&(s=Io(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Cn(e),r=1<<n,s|=t[n],e&=~r;return s}function KS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QS(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Cn(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=KS(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function _m(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P_(){var t=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),t}function lf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function YS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Cn(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Cn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Se=0;function R_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var M_,Hp,D_,O_,L_,Nm=!1,Vc=[],rr=null,ir=null,ar=null,ml=new Map,pl=new Map,qs=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O0(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function uo(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Jl(e),e!==null&&Hp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function JS(t,e,n,s,r){switch(e){case"focusin":return rr=uo(rr,t,e,n,s,r),!0;case"dragenter":return ir=uo(ir,t,e,n,s,r),!0;case"mouseover":return ar=uo(ar,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return ml.set(i,uo(ml.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,pl.set(i,uo(pl.get(i)||null,t,e,n,s,r)),!0}return!1}function V_(t){var e=Xr(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=S_(n),e!==null){t.blockedOn=e,L_(t.priority,function(){D_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);ym=s,n.target.dispatchEvent(s),ym=null}else return e=Jl(n),e!==null&&Hp(e),t.blockedOn=n,!1;e.shift()}return!0}function L0(t,e,n){vu(t)&&n.delete(e)}function ZS(){Nm=!1,rr!==null&&vu(rr)&&(rr=null),ir!==null&&vu(ir)&&(ir=null),ar!==null&&vu(ar)&&(ar=null),ml.forEach(L0),pl.forEach(L0)}function ho(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,ZS)))}function gl(t){function e(r){return ho(r,t)}if(0<Vc.length){ho(Vc[0],t);for(var n=1;n<Vc.length;n++){var s=Vc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(rr!==null&&ho(rr,t),ir!==null&&ho(ir,t),ar!==null&&ho(ar,t),ml.forEach(e),pl.forEach(e),n=0;n<qs.length;n++)s=qs[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<qs.length&&(n=qs[0],n.blockedOn===null);)V_(n),n.blockedOn===null&&qs.shift()}var ra=Ts.ReactCurrentBatchConfig,Yu=!0;function eI(t,e,n,s){var r=Se,i=ra.transition;ra.transition=null;try{Se=1,$p(t,e,n,s)}finally{Se=r,ra.transition=i}}function tI(t,e,n,s){var r=Se,i=ra.transition;ra.transition=null;try{Se=4,$p(t,e,n,s)}finally{Se=r,ra.transition=i}}function $p(t,e,n,s){if(Yu){var r=Em(t,e,n,s);if(r===null)yf(t,e,s,Xu,n),O0(t,s);else if(JS(r,t,e,n,s))s.stopPropagation();else if(O0(t,s),e&4&&-1<XS.indexOf(t)){for(;r!==null;){var i=Jl(r);if(i!==null&&M_(i),i=Em(t,e,n,s),i===null&&yf(t,e,s,Xu,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else yf(t,e,s,null,n)}}var Xu=null;function Em(t,e,n,s){if(Xu=null,t=Bp(s),t=Xr(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xu=t,null}function F_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case Wp:return 1;case C_:return 4;case Ku:case WS:return 16;case A_:return 536870912;default:return 16}default:return 16}}var Ys=null,Gp=null,wu=null;function z_(){if(wu)return wu;var t,e=Gp,n=e.length,s,r="value"in Ys?Ys.value:Ys.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return wu=r.slice(t,1<s?1-s:void 0)}function _u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fc(){return!0}function V0(){return!1}function cn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fc:V0,this.isPropagationStopped=V0,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kp=cn(Ra),Xl=ze({},Ra,{view:0,detail:0}),nI=cn(Xl),cf,uf,fo,Qd=ze({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fo&&(fo&&t.type==="mousemove"?(cf=t.screenX-fo.screenX,uf=t.screenY-fo.screenY):uf=cf=0,fo=t),cf)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),F0=cn(Qd),sI=ze({},Qd,{dataTransfer:0}),rI=cn(sI),iI=ze({},Xl,{relatedTarget:0}),df=cn(iI),aI=ze({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),oI=cn(aI),lI=ze({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cI=cn(lI),uI=ze({},Ra,{data:0}),z0=cn(uI),dI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fI[t])?!!e[t]:!1}function Qp(){return mI}var pI=ze({},Xl,{key:function(t){if(t.key){var e=dI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(t){return t.type==="keypress"?_u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gI=cn(pI),xI=ze({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U0=cn(xI),yI=ze({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),bI=cn(yI),vI=ze({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),wI=cn(vI),_I=ze({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NI=cn(_I),EI=[9,13,27,32],Yp=bs&&"CompositionEvent"in window,Wo=null;bs&&"documentMode"in document&&(Wo=document.documentMode);var jI=bs&&"TextEvent"in window&&!Wo,U_=bs&&(!Yp||Wo&&8<Wo&&11>=Wo),B0=String.fromCharCode(32),W0=!1;function B_(t,e){switch(t){case"keyup":return EI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function SI(t,e){switch(t){case"compositionend":return W_(e);case"keypress":return e.which!==32?null:(W0=!0,B0);case"textInput":return t=e.data,t===B0&&W0?null:t;default:return null}}function II(t,e){if(qi)return t==="compositionend"||!Yp&&B_(t,e)?(t=z_(),wu=Gp=Ys=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U_&&e.locale!=="ko"?null:e.data;default:return null}}var TI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TI[t.type]:e==="textarea"}function q_(t,e,n,s){w_(s),e=Ju(e,"onChange"),0<e.length&&(n=new Kp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var qo=null,xl=null;function kI(t){t1(t,0)}function Yd(t){var e=Gi(t);if(m_(e))return t}function CI(t,e){if(t==="change")return e}var H_=!1;if(bs){var hf;if(bs){var ff="oninput"in document;if(!ff){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),ff=typeof H0.oninput=="function"}hf=ff}else hf=!1;H_=hf&&(!document.documentMode||9<document.documentMode)}function $0(){qo&&(qo.detachEvent("onpropertychange",$_),xl=qo=null)}function $_(t){if(t.propertyName==="value"&&Yd(xl)){var e=[];q_(e,xl,t,Bp(t)),j_(kI,e)}}function AI(t,e,n){t==="focusin"?($0(),qo=e,xl=n,qo.attachEvent("onpropertychange",$_)):t==="focusout"&&$0()}function PI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(xl)}function RI(t,e){if(t==="click")return Yd(e)}function MI(t,e){if(t==="input"||t==="change")return Yd(e)}function DI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:DI;function yl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!am.call(e,r)||!Pn(t[r],e[r]))return!1}return!0}function G0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K0(t,e){var n=G0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G0(n)}}function G_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K_(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OI(t){var e=K_(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G_(n.ownerDocument.documentElement,n)){if(s!==null&&Xp(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=K0(n,i);var a=K0(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LI=bs&&"documentMode"in document&&11>=document.documentMode,Hi=null,jm=null,Ho=null,Sm=!1;function Q0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sm||Hi==null||Hi!==Hu(s)||(s=Hi,"selectionStart"in s&&Xp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ho&&yl(Ho,s)||(Ho=s,s=Ju(jm,"onSelect"),0<s.length&&(e=new Kp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Hi)))}function zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},mf={},Q_={};bs&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Xd(t){if(mf[t])return mf[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q_)return mf[t]=e[n];return t}var Y_=Xd("animationend"),X_=Xd("animationiteration"),J_=Xd("animationstart"),Z_=Xd("transitionend"),e1=new Map,Y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){e1.set(t,e),vi(e,[t])}for(var pf=0;pf<Y0.length;pf++){var gf=Y0[pf],VI=gf.toLowerCase(),FI=gf[0].toUpperCase()+gf.slice(1);Tr(VI,"on"+FI)}Tr(Y_,"onAnimationEnd");Tr(X_,"onAnimationIteration");Tr(J_,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(Z_,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zI=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function X0(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,VS(s,e,void 0,t),t.currentTarget=null}function t1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;X0(r,l,u),i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;X0(r,l,u),i=c}}}if(Gu)throw t=wm,Gu=!1,wm=null,t}function Ae(t,e){var n=e[Am];n===void 0&&(n=e[Am]=new Set);var s=t+"__bubble";n.has(s)||(n1(e,t,2,!1),n.add(s))}function xf(t,e,n){var s=0;e&&(s|=4),n1(n,t,s,e)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Uc]){t[Uc]=!0,c_.forEach(function(n){n!=="selectionchange"&&(zI.has(n)||xf(n,!1,t),xf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uc]||(e[Uc]=!0,xf("selectionchange",!1,e))}}function n1(t,e,n,s){switch(F_(e)){case 1:var r=eI;break;case 4:r=tI;break;default:r=$p}n=r.bind(null,e,n,t),r=void 0,!vm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function yf(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Xr(l),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}l=l.parentNode}}s=s.return}j_(function(){var u=i,h=Bp(n),f=[];e:{var m=e1.get(t);if(m!==void 0){var g=Kp,b=t;switch(t){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":g=gI;break;case"focusin":b="focus",g=df;break;case"focusout":b="blur",g=df;break;case"beforeblur":case"afterblur":g=df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=F0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bI;break;case Y_:case X_:case J_:g=oI;break;case Z_:g=wI;break;case"scroll":g=nI;break;case"wheel":g=NI;break;case"copy":case"cut":case"paste":g=cI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=U0}var _=(e&4)!==0,j=!_&&t==="scroll",y=_?m!==null?m+"Capture":null:m;_=[];for(var v=u,E;v!==null;){E=v;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,y!==null&&(P=fl(v,y),P!=null&&_.push(vl(v,P,E)))),j)break;v=v.return}0<_.length&&(m=new g(m,b,null,n,h),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==ym&&(b=n.relatedTarget||n.fromElement)&&(Xr(b)||b[vs]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?Xr(b):null,b!==null&&(j=wi(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(_=F0,P="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=U0,P="onPointerLeave",y="onPointerEnter",v="pointer"),j=g==null?m:Gi(g),E=b==null?m:Gi(b),m=new _(P,v+"leave",g,n,h),m.target=j,m.relatedTarget=E,P=null,Xr(h)===u&&(_=new _(y,v+"enter",b,n,h),_.target=E,_.relatedTarget=j,P=_),j=P,g&&b)t:{for(_=g,y=b,v=0,E=_;E;E=Di(E))v++;for(E=0,P=y;P;P=Di(P))E++;for(;0<v-E;)_=Di(_),v--;for(;0<E-v;)y=Di(y),E--;for(;v--;){if(_===y||y!==null&&_===y.alternate)break t;_=Di(_),y=Di(y)}_=null}else _=null;g!==null&&J0(f,m,g,_,!1),b!==null&&j!==null&&J0(f,j,b,_,!0)}}e:{if(m=u?Gi(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var R=CI;else if(q0(m))if(H_)R=MI;else{R=PI;var M=AI}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=RI);if(R&&(R=R(t,u))){q_(f,R,n,h);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&fm(m,"number",m.value)}switch(M=u?Gi(u):window,t){case"focusin":(q0(M)||M.contentEditable==="true")&&(Hi=M,jm=u,Ho=null);break;case"focusout":Ho=jm=Hi=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Q0(f,n,h);break;case"selectionchange":if(LI)break;case"keydown":case"keyup":Q0(f,n,h)}var N;if(Yp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qi?B_(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(U_&&n.locale!=="ko"&&(qi||w!=="onCompositionStart"?w==="onCompositionEnd"&&qi&&(N=z_()):(Ys=h,Gp="value"in Ys?Ys.value:Ys.textContent,qi=!0)),M=Ju(u,w),0<M.length&&(w=new z0(w,t,null,n,h),f.push({event:w,listeners:M}),N?w.data=N:(N=W_(n),N!==null&&(w.data=N)))),(N=jI?SI(t,n):II(t,n))&&(u=Ju(u,"onBeforeInput"),0<u.length&&(h=new z0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=N))}t1(f,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=fl(t,n),i!=null&&s.unshift(vl(t,i,r)),i=fl(t,e),i!=null&&s.push(vl(t,i,r))),t=t.return}return s}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J0(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=fl(n,i),c!=null&&a.unshift(vl(n,c,l))):r||(c=fl(n,i),c!=null&&a.push(vl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var UI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function Z0(t){return(typeof t=="string"?t:""+t).replace(UI,`
`).replace(BI,"")}function Bc(t,e,n){if(e=Z0(e),Z0(t)!==e&&n)throw Error(B(425))}function Zu(){}var Im=null,Tm=null;function km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cm=typeof setTimeout=="function"?setTimeout:void 0,WI=typeof clearTimeout=="function"?clearTimeout:void 0,ey=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof ey<"u"?function(t){return ey.resolve(null).then(t).catch(HI)}:Cm;function HI(t){setTimeout(function(){throw t})}function bf(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),gl(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);gl(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ty(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ma,wl="__reactProps$"+Ma,vs="__reactContainer$"+Ma,Am="__reactEvents$"+Ma,$I="__reactListeners$"+Ma,GI="__reactHandles$"+Ma;function Xr(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vs]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ty(t);t!==null;){if(n=t[Hn])return n;t=ty(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[Hn]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Jd(t){return t[wl]||null}var Pm=[],Ki=-1;function kr(t){return{current:t}}function Re(t){0>Ki||(t.current=Pm[Ki],Pm[Ki]=null,Ki--)}function ke(t,e){Ki++,Pm[Ki]=t.current,t.current=e}var vr={},Rt=kr(vr),Qt=kr(!1),ai=vr;function ga(t,e){var n=t.type.contextTypes;if(!n)return vr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Yt(t){return t=t.childContextTypes,t!=null}function ed(){Re(Qt),Re(Rt)}function ny(t,e,n){if(Rt.current!==vr)throw Error(B(168));ke(Rt,e),ke(Qt,n)}function s1(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(B(108,AS(t)||"Unknown",r));return ze({},n,s)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vr,ai=Rt.current,ke(Rt,t),ke(Qt,Qt.current),!0}function sy(t,e,n){var s=t.stateNode;if(!s)throw Error(B(169));n?(t=s1(t,e,ai),s.__reactInternalMemoizedMergedChildContext=t,Re(Qt),Re(Rt),ke(Rt,t)):Re(Qt),ke(Qt,n)}var us=null,Zd=!1,vf=!1;function r1(t){us===null?us=[t]:us.push(t)}function KI(t){Zd=!0,r1(t)}function Cr(){if(!vf&&us!==null){vf=!0;var t=0,e=Se;try{var n=us;for(Se=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}us=null,Zd=!1}catch(r){throw us!==null&&(us=us.slice(t+1)),k_(Wp,Cr),r}finally{Se=e,vf=!1}}return null}var Qi=[],Yi=0,nd=null,sd=0,hn=[],fn=0,oi=null,hs=1,fs="";function $r(t,e){Qi[Yi++]=sd,Qi[Yi++]=nd,nd=t,sd=e}function i1(t,e,n){hn[fn++]=hs,hn[fn++]=fs,hn[fn++]=oi,oi=t;var s=hs;t=fs;var r=32-Cn(s)-1;s&=~(1<<r),n+=1;var i=32-Cn(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,hs=1<<32-Cn(e)+r|n<<r|s,fs=i+t}else hs=1<<i|n<<r|s,fs=t}function Jp(t){t.return!==null&&($r(t,1),i1(t,1,0))}function Zp(t){for(;t===nd;)nd=Qi[--Yi],Qi[Yi]=null,sd=Qi[--Yi],Qi[Yi]=null;for(;t===oi;)oi=hn[--fn],hn[fn]=null,fs=hn[--fn],hn[fn]=null,hs=hn[--fn],hn[fn]=null}var an=null,rn=null,Me=!1,In=null;function a1(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ry(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,rn=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oi!==null?{id:hs,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,rn=null,!0):!1;default:return!1}}function Rm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mm(t){if(Me){var e=rn;if(e){var n=e;if(!ry(t,e)){if(Rm(t))throw Error(B(418));e=or(n.nextSibling);var s=an;e&&ry(t,e)?a1(s,n):(t.flags=t.flags&-4097|2,Me=!1,an=t)}}else{if(Rm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Me=!1,an=t}}}function iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Wc(t){if(t!==an)return!1;if(!Me)return iy(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!km(t.type,t.memoizedProps)),e&&(e=rn)){if(Rm(t))throw o1(),Error(B(418));for(;e;)a1(t,e),e=or(e.nextSibling)}if(iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=an?or(t.stateNode.nextSibling):null;return!0}function o1(){for(var t=rn;t;)t=or(t.nextSibling)}function xa(){rn=an=null,Me=!1}function eg(t){In===null?In=[t]:In.push(t)}var QI=Ts.ReactCurrentBatchConfig;function mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var s=n.stateNode}if(!s)throw Error(B(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=r.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function qc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ay(t){var e=t._init;return e(t._payload)}function l1(t){function e(y,v){if(t){var E=y.deletions;E===null?(y.deletions=[v],y.flags|=16):E.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function r(y,v){return y=dr(y,v),y.index=0,y.sibling=null,y}function i(y,v,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<v?(y.flags|=2,v):E):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,E,P){return v===null||v.tag!==6?(v=If(E,y.mode,P),v.return=y,v):(v=r(v,E),v.return=y,v)}function c(y,v,E,P){var R=E.type;return R===Wi?h(y,v,E.props.children,P,E.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Bs&&ay(R)===v.type)?(P=r(v,E.props),P.ref=mo(y,v,E),P.return=y,P):(P=ku(E.type,E.key,E.props,null,y.mode,P),P.ref=mo(y,v,E),P.return=y,P)}function u(y,v,E,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Tf(E,y.mode,P),v.return=y,v):(v=r(v,E.children||[]),v.return=y,v)}function h(y,v,E,P,R){return v===null||v.tag!==7?(v=ni(E,y.mode,P,R),v.return=y,v):(v=r(v,E),v.return=y,v)}function f(y,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=If(""+v,y.mode,E),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rc:return E=ku(v.type,v.key,v.props,null,y.mode,E),E.ref=mo(y,null,v),E.return=y,E;case Bi:return v=Tf(v,y.mode,E),v.return=y,v;case Bs:var P=v._init;return f(y,P(v._payload),E)}if(So(v)||lo(v))return v=ni(v,y.mode,E,null),v.return=y,v;qc(y,v)}return null}function m(y,v,E,P){var R=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:l(y,v,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rc:return E.key===R?c(y,v,E,P):null;case Bi:return E.key===R?u(y,v,E,P):null;case Bs:return R=E._init,m(y,v,R(E._payload),P)}if(So(E)||lo(E))return R!==null?null:h(y,v,E,P,null);qc(y,E)}return null}function g(y,v,E,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(E)||null,l(v,y,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Rc:return y=y.get(P.key===null?E:P.key)||null,c(v,y,P,R);case Bi:return y=y.get(P.key===null?E:P.key)||null,u(v,y,P,R);case Bs:var M=P._init;return g(y,v,E,M(P._payload),R)}if(So(P)||lo(P))return y=y.get(E)||null,h(v,y,P,R,null);qc(v,P)}return null}function b(y,v,E,P){for(var R=null,M=null,N=v,w=v=0,I=null;N!==null&&w<E.length;w++){N.index>w?(I=N,N=null):I=N.sibling;var C=m(y,N,E[w],P);if(C===null){N===null&&(N=I);break}t&&N&&C.alternate===null&&e(y,N),v=i(C,v,w),M===null?R=C:M.sibling=C,M=C,N=I}if(w===E.length)return n(y,N),Me&&$r(y,w),R;if(N===null){for(;w<E.length;w++)N=f(y,E[w],P),N!==null&&(v=i(N,v,w),M===null?R=N:M.sibling=N,M=N);return Me&&$r(y,w),R}for(N=s(y,N);w<E.length;w++)I=g(N,y,w,E[w],P),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?w:I.key),v=i(I,v,w),M===null?R=I:M.sibling=I,M=I);return t&&N.forEach(function(T){return e(y,T)}),Me&&$r(y,w),R}function _(y,v,E,P){var R=lo(E);if(typeof R!="function")throw Error(B(150));if(E=R.call(E),E==null)throw Error(B(151));for(var M=R=null,N=v,w=v=0,I=null,C=E.next();N!==null&&!C.done;w++,C=E.next()){N.index>w?(I=N,N=null):I=N.sibling;var T=m(y,N,C.value,P);if(T===null){N===null&&(N=I);break}t&&N&&T.alternate===null&&e(y,N),v=i(T,v,w),M===null?R=T:M.sibling=T,M=T,N=I}if(C.done)return n(y,N),Me&&$r(y,w),R;if(N===null){for(;!C.done;w++,C=E.next())C=f(y,C.value,P),C!==null&&(v=i(C,v,w),M===null?R=C:M.sibling=C,M=C);return Me&&$r(y,w),R}for(N=s(y,N);!C.done;w++,C=E.next())C=g(N,y,w,C.value,P),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?w:C.key),v=i(C,v,w),M===null?R=C:M.sibling=C,M=C);return t&&N.forEach(function(A){return e(y,A)}),Me&&$r(y,w),R}function j(y,v,E,P){if(typeof E=="object"&&E!==null&&E.type===Wi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Rc:e:{for(var R=E.key,M=v;M!==null;){if(M.key===R){if(R=E.type,R===Wi){if(M.tag===7){n(y,M.sibling),v=r(M,E.props.children),v.return=y,y=v;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Bs&&ay(R)===M.type){n(y,M.sibling),v=r(M,E.props),v.ref=mo(y,M,E),v.return=y,y=v;break e}n(y,M);break}else e(y,M);M=M.sibling}E.type===Wi?(v=ni(E.props.children,y.mode,P,E.key),v.return=y,y=v):(P=ku(E.type,E.key,E.props,null,y.mode,P),P.ref=mo(y,v,E),P.return=y,y=P)}return a(y);case Bi:e:{for(M=E.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(y,v.sibling),v=r(v,E.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Tf(E,y.mode,P),v.return=y,y=v}return a(y);case Bs:return M=E._init,j(y,v,M(E._payload),P)}if(So(E))return b(y,v,E,P);if(lo(E))return _(y,v,E,P);qc(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(y,v.sibling),v=r(v,E),v.return=y,y=v):(n(y,v),v=If(E,y.mode,P),v.return=y,y=v),a(y)):n(y,v)}return j}var ya=l1(!0),c1=l1(!1),rd=kr(null),id=null,Xi=null,tg=null;function ng(){tg=Xi=id=null}function sg(t){var e=rd.current;Re(rd),t._currentValue=e}function Dm(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){id=t,tg=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(tg!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(id===null)throw Error(B(308));Xi=t,id.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var Jr=null;function rg(t){Jr===null?Jr=[t]:Jr.push(t)}function u1(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,rg(e)):(n.next=r.next,r.next=n),e.interleaved=n,ws(t,s)}function ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ws=!1;function ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ge&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,ws(t,n)}return r=s.interleaved,r===null?(e.next=e,rg(s)):(e.next=r.next,r.next=e),s.interleaved=e,ws(t,n)}function Nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,qp(t,n)}}function oy(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ad(t,e,n,s){var r=t.updateQueue;Ws=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=r.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,_=l;switch(m=e,g=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=ze({},f,m);break e;case 2:Ws=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(1);if(h===null&&(c=f),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ci|=a,t.lanes=a,t.memoizedState=f}}function ly(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(B(191,r));r.call(s)}}}var Zl={},Kn=kr(Zl),_l=kr(Zl),Nl=kr(Zl);function Zr(t){if(t===Zl)throw Error(B(174));return t}function ag(t,e){switch(ke(Nl,e),ke(_l,t),ke(Kn,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pm(e,t)}Re(Kn),ke(Kn,e)}function ba(){Re(Kn),Re(_l),Re(Nl)}function h1(t){Zr(Nl.current);var e=Zr(Kn.current),n=pm(e,t.type);e!==n&&(ke(_l,t),ke(Kn,n))}function og(t){_l.current===t&&(Re(Kn),Re(_l))}var Le=kr(0);function od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function lg(){for(var t=0;t<wf.length;t++)wf[t]._workInProgressVersionPrimary=null;wf.length=0}var Eu=Ts.ReactCurrentDispatcher,_f=Ts.ReactCurrentBatchConfig,li=0,Fe=null,rt=null,mt=null,ld=!1,$o=!1,El=0,YI=0;function St(){throw Error(B(321))}function cg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function ug(t,e,n,s,r,i){if(li=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eu.current=t===null||t.memoizedState===null?eT:tT,t=n(s,r),$o){i=0;do{if($o=!1,El=0,25<=i)throw Error(B(301));i+=1,mt=rt=null,e.updateQueue=null,Eu.current=nT,t=n(s,r)}while($o)}if(Eu.current=cd,e=rt!==null&&rt.next!==null,li=0,mt=rt=Fe=null,ld=!1,e)throw Error(B(300));return t}function dg(){var t=El!==0;return El=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Fe.memoizedState=mt=t:mt=mt.next=t,mt}function vn(){if(rt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=mt===null?Fe.memoizedState:mt.next;if(e!==null)mt=e,rt=t;else{if(t===null)throw Error(B(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},mt===null?Fe.memoizedState=mt=t:mt=mt.next=t}return mt}function jl(t,e){return typeof e=="function"?e(t):e}function Nf(t){var e=vn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var s=rt,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((li&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=s):c=c.next=f,Fe.lanes|=h,ci|=h}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=l,Pn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Fe.lanes|=i,ci|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=vn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Pn(i,e.memoizedState)||(Gt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function f1(){}function m1(t,e){var n=Fe,s=vn(),r=e(),i=!Pn(s.memoizedState,r);if(i&&(s.memoizedState=r,Gt=!0),s=s.queue,hg(x1.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Sl(9,g1.bind(null,n,s,r,e),void 0,null),xt===null)throw Error(B(349));li&30||p1(n,e,r)}return r}function p1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g1(t,e,n,s){e.value=n,e.getSnapshot=s,y1(e)&&b1(t)}function x1(t,e,n){return n(function(){y1(e)&&b1(t)})}function y1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function b1(t){var e=ws(t,1);e!==null&&An(e,t,1,-1)}function cy(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=ZI.bind(null,Fe,t),[e.memoizedState,t]}function Sl(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function v1(){return vn().memoizedState}function ju(t,e,n,s){var r=Bn();Fe.flags|=t,r.memoizedState=Sl(1|e,n,void 0,s===void 0?null:s)}function eh(t,e,n,s){var r=vn();s=s===void 0?null:s;var i=void 0;if(rt!==null){var a=rt.memoizedState;if(i=a.destroy,s!==null&&cg(s,a.deps)){r.memoizedState=Sl(e,n,i,s);return}}Fe.flags|=t,r.memoizedState=Sl(1|e,n,i,s)}function uy(t,e){return ju(8390656,8,t,e)}function hg(t,e){return eh(2048,8,t,e)}function w1(t,e){return eh(4,2,t,e)}function _1(t,e){return eh(4,4,t,e)}function N1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E1(t,e,n){return n=n!=null?n.concat([t]):null,eh(4,4,N1.bind(null,e,t),n)}function fg(){}function j1(t,e){var n=vn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&cg(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function S1(t,e){var n=vn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&cg(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function I1(t,e,n){return li&21?(Pn(n,e)||(n=P_(),Fe.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function XI(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var s=_f.transition;_f.transition={};try{t(!1),e()}finally{Se=n,_f.transition=s}}function T1(){return vn().memoizedState}function JI(t,e,n){var s=ur(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},k1(t))C1(e,n);else if(n=u1(t,e,n,s),n!==null){var r=Lt();An(n,t,s,r),A1(n,e,s)}}function ZI(t,e,n){var s=ur(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(k1(t))C1(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,Pn(l,a)){var c=e.interleaved;c===null?(r.next=r,rg(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=u1(t,e,r,s),n!==null&&(r=Lt(),An(n,t,s,r),A1(n,e,s))}}function k1(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function C1(t,e){$o=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A1(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,qp(t,n)}}var cd={readContext:bn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},eT={readContext:bn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:uy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ju(4194308,4,N1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return ju(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Bn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=JI.bind(null,Fe,t),[s.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:cy,useDebugValue:fg,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=cy(!1),e=t[0];return t=XI.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Fe,r=Bn();if(Me){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),xt===null)throw Error(B(349));li&30||p1(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,uy(x1.bind(null,s,i,t),[t]),s.flags|=2048,Sl(9,g1.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Bn(),e=xt.identifierPrefix;if(Me){var n=fs,s=hs;n=(s&~(1<<32-Cn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tT={readContext:bn,useCallback:j1,useContext:bn,useEffect:hg,useImperativeHandle:E1,useInsertionEffect:w1,useLayoutEffect:_1,useMemo:S1,useReducer:Nf,useRef:v1,useState:function(){return Nf(jl)},useDebugValue:fg,useDeferredValue:function(t){var e=vn();return I1(e,rt.memoizedState,t)},useTransition:function(){var t=Nf(jl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:f1,useSyncExternalStore:m1,useId:T1,unstable_isNewReconciler:!1},nT={readContext:bn,useCallback:j1,useContext:bn,useEffect:hg,useImperativeHandle:E1,useInsertionEffect:w1,useLayoutEffect:_1,useMemo:S1,useReducer:Ef,useRef:v1,useState:function(){return Ef(jl)},useDebugValue:fg,useDeferredValue:function(t){var e=vn();return rt===null?e.memoizedState=t:I1(e,rt.memoizedState,t)},useTransition:function(){var t=Ef(jl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:f1,useSyncExternalStore:m1,useId:T1,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Om(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var th={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Lt(),r=ur(t),i=xs(s,r);i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,r),e!==null&&(An(e,t,r,s),Nu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Lt(),r=ur(t),i=xs(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,r),e!==null&&(An(e,t,r,s),Nu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),s=ur(t),r=xs(n,s);r.tag=2,e!=null&&(r.callback=e),e=lr(t,r,s),e!==null&&(An(e,t,s,n),Nu(e,t,s))}};function dy(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!yl(n,s)||!yl(r,i):!0}function P1(t,e,n){var s=!1,r=vr,i=e.contextType;return typeof i=="object"&&i!==null?i=bn(i):(r=Yt(e)?ai:Rt.current,s=e.contextTypes,i=(s=s!=null)?ga(t,r):vr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=th,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function hy(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&th.enqueueReplaceState(e,e.state,null)}function Lm(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},ig(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=bn(i):(i=Yt(e)?ai:Rt.current,r.context=ga(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Om(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&th.enqueueReplaceState(r,r.state,null),ad(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function va(t,e){try{var n="",s=e;do n+=CS(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function jf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sT=typeof WeakMap=="function"?WeakMap:Map;function R1(t,e,n){n=xs(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){dd||(dd=!0,Km=s),Vm(t,e)},n}function M1(t,e,n){n=xs(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Vm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vm(t,e),typeof s!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function fy(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new sT;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=xT.bind(null,t,e,n),e.then(t,t))}function my(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function py(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xs(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var rT=Ts.ReactCurrentOwner,Gt=!1;function Ot(t,e,n,s){e.child=t===null?c1(e,null,n,s):ya(e,t.child,n,s)}function gy(t,e,n,s,r){n=n.render;var i=e.ref;return ia(e,r),s=ug(t,e,n,s,i,r),n=dg(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,_s(t,e,r)):(Me&&n&&Jp(e),e.flags|=1,Ot(t,e,s,r),e.child)}function xy(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!wg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,D1(t,e,i,s,r)):(t=ku(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(a,s)&&t.ref===e.ref)return _s(t,e,r)}return e.flags|=1,t=dr(i,s),t.ref=e.ref,t.return=e,e.child=t}function D1(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(yl(i,s)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,_s(t,e,r)}return Fm(t,e,n,s,r)}function O1(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Zi,sn),sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Zi,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ke(Zi,sn),sn|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,ke(Zi,sn),sn|=s;return Ot(t,e,r,n),e.child}function L1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fm(t,e,n,s,r){var i=Yt(n)?ai:Rt.current;return i=ga(e,i),ia(e,r),n=ug(t,e,n,s,i,r),s=dg(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,_s(t,e,r)):(Me&&s&&Jp(e),e.flags|=1,Ot(t,e,n,r),e.child)}function yy(t,e,n,s,r){if(Yt(n)){var i=!0;td(e)}else i=!1;if(ia(e,r),e.stateNode===null)Su(t,e),P1(e,n,s),Lm(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Yt(n)?ai:Rt.current,u=ga(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&hy(e,a,s,u),Ws=!1;var m=e.memoizedState;a.state=m,ad(e,s,a,r),c=e.memoizedState,l!==s||m!==c||Qt.current||Ws?(typeof h=="function"&&(Om(e,n,h,s),c=e.memoizedState),(l=Ws||dy(e,n,l,s,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,d1(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:jn(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=Yt(n)?ai:Rt.current,c=ga(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&hy(e,a,s,c),Ws=!1,m=e.memoizedState,a.state=m,ad(e,s,a,r);var b=e.memoizedState;l!==f||m!==b||Qt.current||Ws?(typeof g=="function"&&(Om(e,n,g,s),b=e.memoizedState),(u=Ws||dy(e,n,u,s,m,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=b),a.props=s,a.state=b,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return zm(t,e,n,s,i,r)}function zm(t,e,n,s,r,i){L1(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&sy(e,n,!1),_s(t,e,i);s=e.stateNode,rT.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=ya(e,t.child,null,i),e.child=ya(e,null,l,i)):Ot(t,e,l,i),e.memoizedState=s.state,r&&sy(e,n,!0),e.child}function V1(t){var e=t.stateNode;e.pendingContext?ny(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ny(t,e.context,!1),ag(t,e.containerInfo)}function by(t,e,n,s,r){return xa(),eg(r),e.flags|=256,Ot(t,e,n,s),e.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Bm(t){return{baseLanes:t,cachePool:null,transitions:null}}function F1(t,e,n){var s=e.pendingProps,r=Le.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ke(Le,r&1),t===null)return Mm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=rh(a,s,0,null),t=ni(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bm(n),e.memoizedState=Um,t):mg(e,a));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return iT(t,e,a,s,l,r,n);if(i){i=s.fallback,a=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=dr(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=dr(l,i):(i=ni(i,a,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=t.child.memoizedState,a=a===null?Bm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Um,s}return i=t.child,t=i.sibling,s=dr(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function mg(t,e){return e=rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hc(t,e,n,s){return s!==null&&eg(s),ya(e,t.child,null,n),t=mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iT(t,e,n,s,r,i,a){if(n)return e.flags&256?(e.flags&=-257,s=jf(Error(B(422))),Hc(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=rh({mode:"visible",children:s.children},r,0,null),i=ni(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&ya(e,t.child,null,a),e.child.memoizedState=Bm(a),e.memoizedState=Um,i);if(!(e.mode&1))return Hc(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(B(419)),s=jf(i,s,void 0),Hc(t,e,a,s)}if(l=(a&t.childLanes)!==0,Gt||l){if(s=xt,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ws(t,r),An(s,t,r,-1))}return vg(),s=jf(Error(B(421))),Hc(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=yT.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,rn=or(r.nextSibling),an=e,Me=!0,In=null,t!==null&&(hn[fn++]=hs,hn[fn++]=fs,hn[fn++]=oi,hs=t.id,fs=t.overflow,oi=e),e=mg(e,s.children),e.flags|=4096,e)}function vy(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Dm(t.return,e,n)}function Sf(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function z1(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Ot(t,e,s.children,n),s=Le.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,n,e);else if(t.tag===19)vy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ke(Le,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&od(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Sf(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&od(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Sf(e,!0,n,null,i);break;case"together":Sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aT(t,e,n){switch(e.tag){case 3:V1(e),xa();break;case 5:h1(e);break;case 1:Yt(e.type)&&td(e);break;case 4:ag(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;ke(rd,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ke(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?F1(t,e,n):(ke(Le,Le.current&1),t=_s(t,e,n),t!==null?t.sibling:null);ke(Le,Le.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return z1(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ke(Le,Le.current),s)break;return null;case 22:case 23:return e.lanes=0,O1(t,e,n)}return _s(t,e,n)}var U1,Wm,B1,W1;U1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wm=function(){};B1=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Zr(Kn.current);var i=null;switch(n){case"input":r=dm(t,r),s=dm(t,s),i=[];break;case"select":r=ze({},r,{value:void 0}),s=ze({},s,{value:void 0}),i=[];break;case"textarea":r=mm(t,r),s=mm(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Zu)}gm(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};W1=function(t,e,n,s){n!==s&&(e.flags|=4)};function po(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function oT(t,e,n){var s=e.pendingProps;switch(Zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Yt(e.type)&&ed(),It(e),null;case 3:return s=e.stateNode,ba(),Re(Qt),Re(Rt),lg(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(Xm(In),In=null))),Wm(t,e),It(e),null;case 5:og(e);var r=Zr(Nl.current);if(n=e.type,t!==null&&e.stateNode!=null)B1(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(B(166));return It(e),null}if(t=Zr(Kn.current),Wc(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Hn]=e,s[wl]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(r=0;r<To.length;r++)Ae(To[r],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":k0(s,i),Ae("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",s);break;case"textarea":A0(s,i),Ae("invalid",s)}gm(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bc(s.textContent,l,t),r=["children",""+l]):dl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ae("scroll",s)}switch(n){case"input":Mc(s),C0(s,i,!0);break;case"textarea":Mc(s),P0(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Zu)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[Hn]=e,t[wl]=s,U1(t,e,!1,!1),e.stateNode=t;e:{switch(a=xm(n,s),n){case"dialog":Ae("cancel",t),Ae("close",t),r=s;break;case"iframe":case"object":case"embed":Ae("load",t),r=s;break;case"video":case"audio":for(r=0;r<To.length;r++)Ae(To[r],t);r=s;break;case"source":Ae("error",t),r=s;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),r=s;break;case"details":Ae("toggle",t),r=s;break;case"input":k0(t,s),r=dm(t,s),Ae("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ze({},s,{value:void 0}),Ae("invalid",t);break;case"textarea":A0(t,s),r=mm(t,s),Ae("invalid",t);break;default:r=s}gm(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?v_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&y_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hl(t,c):typeof c=="number"&&hl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ae("scroll",t):c!=null&&Vp(t,i,c,a))}switch(n){case"input":Mc(t),C0(t,s,!1);break;case"textarea":Mc(t),P0(t);break;case"option":s.value!=null&&t.setAttribute("value",""+br(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?ta(t,!!s.multiple,i,!1):s.defaultValue!=null&&ta(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)W1(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(B(166));if(n=Zr(Nl.current),Zr(Kn.current),Wc(e)){if(s=e.stateNode,n=e.memoizedProps,s[Hn]=e,(i=s.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Bc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bc(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Hn]=e,e.stateNode=s}return It(e),null;case 13:if(Re(Le),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&rn!==null&&e.mode&1&&!(e.flags&128))o1(),xa(),e.flags|=98560,i=!1;else if(i=Wc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Hn]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else In!==null&&(Xm(In),In=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?ot===0&&(ot=3):vg())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return ba(),Wm(t,e),t===null&&bl(e.stateNode.containerInfo),It(e),null;case 10:return sg(e.type._context),It(e),null;case 17:return Yt(e.type)&&ed(),It(e),null;case 19:if(Re(Le),i=e.memoizedState,i===null)return It(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)po(i,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=od(t),a!==null){for(e.flags|=128,po(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qe()>wa&&(e.flags|=128,s=!0,po(i,!1),e.lanes=4194304)}else{if(!s)if(t=od(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Me)return It(e),null}else 2*Qe()-i.renderingStartTime>wa&&n!==1073741824&&(e.flags|=128,s=!0,po(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qe(),e.sibling=null,n=Le.current,ke(Le,s?n&1|2:n&1),e):(It(e),null);case 22:case 23:return bg(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?sn&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function lT(t,e){switch(Zp(e),e.tag){case 1:return Yt(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ba(),Re(Qt),Re(Rt),lg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return og(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return ba(),null;case 10:return sg(e.type._context),null;case 22:case 23:return bg(),null;case 24:return null;default:return null}}var $c=!1,At=!1,cT=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ji(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){He(t,e,s)}else n.current=null}function qm(t,e,n){try{n()}catch(s){He(t,e,s)}}var wy=!1;function uT(t,e){if(Im=Yu,t=K_(),Xp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||r!==0&&f.nodeType!==3||(l=a+r),f!==i||s!==0&&f.nodeType!==3||(c=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===r&&(l=a),m===i&&++h===s&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tm={focusedElem:t,selectionRange:n},Yu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,j=b.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:jn(e.type,_),j);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){He(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return b=wy,wy=!1,b}function Go(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&qm(e,n,i)}r=r.next}while(r!==s)}}function nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q1(t){var e=t.alternate;e!==null&&(t.alternate=null,q1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[wl],delete e[Am],delete e[$I],delete e[GI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H1(t){return t.tag===5||t.tag===3||t.tag===4}function _y(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $m(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(s!==4&&(t=t.child,t!==null))for($m(t,e,n),t=t.sibling;t!==null;)$m(t,e,n),t=t.sibling}function Gm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Gm(t,e,n),t=t.sibling;t!==null;)Gm(t,e,n),t=t.sibling}var bt=null,Sn=!1;function Vs(t,e,n){for(n=n.child;n!==null;)$1(t,e,n),n=n.sibling}function $1(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:At||Ji(n,e);case 6:var s=bt,r=Sn;bt=null,Vs(t,e,n),bt=s,Sn=r,bt!==null&&(Sn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Sn?(t=bt,n=n.stateNode,t.nodeType===8?bf(t.parentNode,n):t.nodeType===1&&bf(t,n),gl(t)):bf(bt,n.stateNode));break;case 4:s=bt,r=Sn,bt=n.stateNode.containerInfo,Sn=!0,Vs(t,e,n),bt=s,Sn=r;break;case 0:case 11:case 14:case 15:if(!At&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&qm(n,e,a),r=r.next}while(r!==s)}Vs(t,e,n);break;case 1:if(!At&&(Ji(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){He(n,e,l)}Vs(t,e,n);break;case 21:Vs(t,e,n);break;case 22:n.mode&1?(At=(s=At)||n.memoizedState!==null,Vs(t,e,n),At=s):Vs(t,e,n);break;default:Vs(t,e,n)}}function Ny(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cT),e.forEach(function(s){var r=bT.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,Sn=!1;break e;case 3:bt=l.stateNode.containerInfo,Sn=!0;break e;case 4:bt=l.stateNode.containerInfo,Sn=!0;break e}l=l.return}if(bt===null)throw Error(B(160));$1(i,a,r),bt=null,Sn=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){He(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G1(e,t),e=e.sibling}function G1(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Vn(t),s&4){try{Go(3,t,t.return),nh(3,t)}catch(_){He(t,t.return,_)}try{Go(5,t,t.return)}catch(_){He(t,t.return,_)}}break;case 1:En(e,t),Vn(t),s&512&&n!==null&&Ji(n,n.return);break;case 5:if(En(e,t),Vn(t),s&512&&n!==null&&Ji(n,n.return),t.flags&32){var r=t.stateNode;try{hl(r,"")}catch(_){He(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&p_(r,i),xm(l,a);var u=xm(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?v_(r,f):h==="dangerouslySetInnerHTML"?y_(r,f):h==="children"?hl(r,f):Vp(r,h,f,u)}switch(l){case"input":hm(r,i);break;case"textarea":g_(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ta(r,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?ta(r,!!i.multiple,i.defaultValue,!0):ta(r,!!i.multiple,i.multiple?[]:"",!1))}r[wl]=i}catch(_){He(t,t.return,_)}}break;case 6:if(En(e,t),Vn(t),s&4){if(t.stateNode===null)throw Error(B(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){He(t,t.return,_)}}break;case 3:if(En(e,t),Vn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(_){He(t,t.return,_)}break;case 4:En(e,t),Vn(t);break;case 13:En(e,t),Vn(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(xg=Qe())),s&4&&Ny(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||h,En(e,t),At=u):En(e,t),Vn(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(f=Q=h;Q!==null;){switch(m=Q,g=m.child,m.tag){case 0:case 11:case 14:case 15:Go(4,m,m.return);break;case 1:Ji(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){s=m,n=m.return;try{e=s,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){He(s,n,_)}}break;case 5:Ji(m,m.return);break;case 22:if(m.memoizedState!==null){jy(f);continue}}g!==null?(g.return=m,Q=g):jy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=b_("display",a))}catch(_){He(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){He(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Vn(t),s&4&&Ny(t);break;case 21:break;default:En(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H1(n)){var s=n;break e}n=n.return}throw Error(B(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(hl(r,""),s.flags&=-33);var i=_y(t);Gm(t,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=_y(t);$m(t,l,a);break;default:throw Error(B(161))}}catch(c){He(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dT(t,e,n){Q=t,K1(t)}function K1(t,e,n){for(var s=(t.mode&1)!==0;Q!==null;){var r=Q,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||$c;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||At;l=$c;var u=At;if($c=a,(At=c)&&!u)for(Q=r;Q!==null;)a=Q,c=a.child,a.tag===22&&a.memoizedState!==null?Sy(r):c!==null?(c.return=a,Q=c):Sy(r);for(;i!==null;)Q=i,K1(i),i=i.sibling;Q=r,$c=l,At=u}Ey(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Q=i):Ey(t)}}function Ey(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||nh(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!At)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ly(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ly(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&gl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}At||e.flags&512&&Hm(e)}catch(m){He(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function jy(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Sy(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nh(4,e)}catch(c){He(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){He(e,r,c)}}var i=e.return;try{Hm(e)}catch(c){He(e,i,c)}break;case 5:var a=e.return;try{Hm(e)}catch(c){He(e,a,c)}}}catch(c){He(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var hT=Math.ceil,ud=Ts.ReactCurrentDispatcher,pg=Ts.ReactCurrentOwner,yn=Ts.ReactCurrentBatchConfig,ge=0,xt=null,et=null,_t=0,sn=0,Zi=kr(0),ot=0,Il=null,ci=0,sh=0,gg=0,Ko=null,Ht=null,xg=0,wa=1/0,cs=null,dd=!1,Km=null,cr=null,Gc=!1,Xs=null,hd=0,Qo=0,Qm=null,Iu=-1,Tu=0;function Lt(){return ge&6?Qe():Iu!==-1?Iu:Iu=Qe()}function ur(t){return t.mode&1?ge&2&&_t!==0?_t&-_t:QI.transition!==null?(Tu===0&&(Tu=P_()),Tu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:F_(t.type)),t):1}function An(t,e,n,s){if(50<Qo)throw Qo=0,Qm=null,Error(B(185));Yl(t,n,s),(!(ge&2)||t!==xt)&&(t===xt&&(!(ge&2)&&(sh|=n),ot===4&&Hs(t,_t)),Xt(t,s),n===1&&ge===0&&!(e.mode&1)&&(wa=Qe()+500,Zd&&Cr()))}function Xt(t,e){var n=t.callbackNode;QS(t,e);var s=Qu(t,t===xt?_t:0);if(s===0)n!==null&&D0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&D0(n),e===1)t.tag===0?KI(Iy.bind(null,t)):r1(Iy.bind(null,t)),qI(function(){!(ge&6)&&Cr()}),n=null;else{switch(R_(s)){case 1:n=Wp;break;case 4:n=C_;break;case 16:n=Ku;break;case 536870912:n=A_;break;default:n=Ku}n=n2(n,Q1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q1(t,e){if(Iu=-1,Tu=0,ge&6)throw Error(B(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var s=Qu(t,t===xt?_t:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=fd(t,s);else{e=s;var r=ge;ge|=2;var i=X1();(xt!==t||_t!==e)&&(cs=null,wa=Qe()+500,ti(t,e));do try{pT();break}catch(l){Y1(t,l)}while(1);ng(),ud.current=i,ge=r,et!==null?e=0:(xt=null,_t=0,e=ot)}if(e!==0){if(e===2&&(r=_m(t),r!==0&&(s=r,e=Ym(t,r))),e===1)throw n=Il,ti(t,0),Hs(t,s),Xt(t,Qe()),n;if(e===6)Hs(t,s);else{if(r=t.current.alternate,!(s&30)&&!fT(r)&&(e=fd(t,s),e===2&&(i=_m(t),i!==0&&(s=i,e=Ym(t,i))),e===1))throw n=Il,ti(t,0),Hs(t,s),Xt(t,Qe()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(B(345));case 2:Gr(t,Ht,cs);break;case 3:if(Hs(t,s),(s&130023424)===s&&(e=xg+500-Qe(),10<e)){if(Qu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Lt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Cm(Gr.bind(null,t,Ht,cs),e);break}Gr(t,Ht,cs);break;case 4:if(Hs(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-Cn(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=Qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*hT(s/1960))-s,10<s){t.timeoutHandle=Cm(Gr.bind(null,t,Ht,cs),s);break}Gr(t,Ht,cs);break;case 5:Gr(t,Ht,cs);break;default:throw Error(B(329))}}}return Xt(t,Qe()),t.callbackNode===n?Q1.bind(null,t):null}function Ym(t,e){var n=Ko;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=fd(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Xm(e)),t}function Xm(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function fT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Pn(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hs(t,e){for(e&=~gg,e&=~sh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),s=1<<n;t[n]=-1,e&=~s}}function Iy(t){if(ge&6)throw Error(B(327));aa();var e=Qu(t,0);if(!(e&1))return Xt(t,Qe()),null;var n=fd(t,e);if(t.tag!==0&&n===2){var s=_m(t);s!==0&&(e=s,n=Ym(t,s))}if(n===1)throw n=Il,ti(t,0),Hs(t,e),Xt(t,Qe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,Ht,cs),Xt(t,Qe()),null}function yg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(wa=Qe()+500,Zd&&Cr())}}function ui(t){Xs!==null&&Xs.tag===0&&!(ge&6)&&aa();var e=ge;ge|=1;var n=yn.transition,s=Se;try{if(yn.transition=null,Se=1,t)return t()}finally{Se=s,yn.transition=n,ge=e,!(ge&6)&&Cr()}}function bg(){sn=Zi.current,Re(Zi)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WI(n)),et!==null)for(n=et.return;n!==null;){var s=n;switch(Zp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ed();break;case 3:ba(),Re(Qt),Re(Rt),lg();break;case 5:og(s);break;case 4:ba();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:sg(s.type._context);break;case 22:case 23:bg()}n=n.return}if(xt=t,et=t=dr(t.current,null),_t=sn=e,ot=0,Il=null,gg=sh=ci=0,Ht=Ko=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}Jr=null}return t}function Y1(t,e){do{var n=et;try{if(ng(),Eu.current=cd,ld){for(var s=Fe.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ld=!1}if(li=0,mt=rt=Fe=null,$o=!1,El=0,pg.current=null,n===null||n.return===null){ot=1,Il=e,et=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=_t,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=my(a);if(g!==null){g.flags&=-257,py(g,a,l,i,e),g.mode&1&&fy(i,u,e),e=g,c=u;var b=e.updateQueue;if(b===null){var _=new Set;_.add(c),e.updateQueue=_}else b.add(c);break e}else{if(!(e&1)){fy(i,u,e),vg();break e}c=Error(B(426))}}else if(Me&&l.mode&1){var j=my(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),py(j,a,l,i,e),eg(va(c,l));break e}}i=c=va(c,l),ot!==4&&(ot=2),Ko===null?Ko=[i]:Ko.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=R1(i,c,e);oy(i,y);break e;case 1:l=c;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(cr===null||!cr.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=M1(i,l,e);oy(i,P);break e}}i=i.return}while(i!==null)}Z1(n)}catch(R){e=R,et===n&&n!==null&&(et=n=n.return);continue}break}while(1)}function X1(){var t=ud.current;return ud.current=cd,t===null?cd:t}function vg(){(ot===0||ot===3||ot===2)&&(ot=4),xt===null||!(ci&268435455)&&!(sh&268435455)||Hs(xt,_t)}function fd(t,e){var n=ge;ge|=2;var s=X1();(xt!==t||_t!==e)&&(cs=null,ti(t,e));do try{mT();break}catch(r){Y1(t,r)}while(1);if(ng(),ge=n,ud.current=s,et!==null)throw Error(B(261));return xt=null,_t=0,ot}function mT(){for(;et!==null;)J1(et)}function pT(){for(;et!==null&&!zS();)J1(et)}function J1(t){var e=t2(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?Z1(t):et=e,pg.current=null}function Z1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lT(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,et=null;return}}else if(n=oT(n,e,sn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);ot===0&&(ot=5)}function Gr(t,e,n){var s=Se,r=yn.transition;try{yn.transition=null,Se=1,gT(t,e,n,s)}finally{yn.transition=r,Se=s}return null}function gT(t,e,n,s){do aa();while(Xs!==null);if(ge&6)throw Error(B(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(YS(t,i),t===xt&&(et=xt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gc||(Gc=!0,n2(Ku,function(){return aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yn.transition,yn.transition=null;var a=Se;Se=1;var l=ge;ge|=4,pg.current=null,uT(t,n),G1(n,t),OI(Tm),Yu=!!Im,Tm=Im=null,t.current=n,dT(n),US(),ge=l,Se=a,yn.transition=i}else t.current=n;if(Gc&&(Gc=!1,Xs=t,hd=r),i=t.pendingLanes,i===0&&(cr=null),qS(n.stateNode),Xt(t,Qe()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(dd)throw dd=!1,t=Km,Km=null,t;return hd&1&&t.tag!==0&&aa(),i=t.pendingLanes,i&1?t===Qm?Qo++:(Qo=0,Qm=t):Qo=0,Cr(),null}function aa(){if(Xs!==null){var t=R_(hd),e=yn.transition,n=Se;try{if(yn.transition=null,Se=16>t?16:t,Xs===null)var s=!1;else{if(t=Xs,Xs=null,hd=0,ge&6)throw Error(B(331));var r=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,a=i.child;if(Q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Go(8,h,i)}var f=h.child;if(f!==null)f.return=h,Q=f;else for(;Q!==null;){h=Q;var m=h.sibling,g=h.return;if(q1(h),h===u){Q=null;break}if(m!==null){m.return=g,Q=m;break}Q=g}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}Q=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Q=a;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Go(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){a=Q;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,Q=E;else e:for(a=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nh(9,l)}}catch(R){He(l,l.return,R)}if(l===a){Q=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Q=P;break e}Q=l.return}}if(ge=r,Cr(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Kd,t)}catch{}s=!0}return s}finally{Se=n,yn.transition=e}}return!1}function Ty(t,e,n){e=va(n,e),e=R1(t,e,1),t=lr(t,e,1),e=Lt(),t!==null&&(Yl(t,1,e),Xt(t,e))}function He(t,e,n){if(t.tag===3)Ty(t,t,n);else for(;e!==null;){if(e.tag===3){Ty(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(cr===null||!cr.has(s))){t=va(n,t),t=M1(e,t,1),e=lr(e,t,1),t=Lt(),e!==null&&(Yl(e,1,t),Xt(e,t));break}}e=e.return}}function xT(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(_t&n)===n&&(ot===4||ot===3&&(_t&130023424)===_t&&500>Qe()-xg?ti(t,0):gg|=n),Xt(t,e)}function e2(t,e){e===0&&(t.mode&1?(e=Lc,Lc<<=1,!(Lc&130023424)&&(Lc=4194304)):e=1);var n=Lt();t=ws(t,e),t!==null&&(Yl(t,e,n),Xt(t,n))}function yT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),e2(t,n)}function bT(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(B(314))}s!==null&&s.delete(e),e2(t,n)}var t2;t2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,aT(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Me&&e.flags&1048576&&i1(e,sd,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Su(t,e),t=e.pendingProps;var r=ga(e,Rt.current);ia(e,n),r=ug(null,e,s,t,r,n);var i=dg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(s)?(i=!0,td(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ig(e),r.updater=th,e.stateNode=r,r._reactInternals=e,Lm(e,s,t,n),e=zm(null,e,s,!0,i,n)):(e.tag=0,Me&&i&&Jp(e),Ot(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Su(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=wT(s),t=jn(s,t),r){case 0:e=Fm(null,e,s,t,n);break e;case 1:e=yy(null,e,s,t,n);break e;case 11:e=gy(null,e,s,t,n);break e;case 14:e=xy(null,e,s,jn(s.type,t),n);break e}throw Error(B(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jn(s,r),Fm(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jn(s,r),yy(t,e,s,r,n);case 3:e:{if(V1(e),t===null)throw Error(B(387));s=e.pendingProps,i=e.memoizedState,r=i.element,d1(t,e),ad(e,s,null,n);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=va(Error(B(423)),e),e=by(t,e,s,n,r);break e}else if(s!==r){r=va(Error(B(424)),e),e=by(t,e,s,n,r);break e}else for(rn=or(e.stateNode.containerInfo.firstChild),an=e,Me=!0,In=null,n=c1(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),s===r){e=_s(t,e,n);break e}Ot(t,e,s,n)}e=e.child}return e;case 5:return h1(e),t===null&&Mm(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,a=r.children,km(s,r)?a=null:i!==null&&km(s,i)&&(e.flags|=32),L1(t,e),Ot(t,e,a,n),e.child;case 6:return t===null&&Mm(e),null;case 13:return F1(t,e,n);case 4:return ag(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ya(e,null,s,n):Ot(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jn(s,r),gy(t,e,s,r,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,ke(rd,s._currentValue),s._currentValue=a,i!==null)if(Pn(i.value,a)){if(i.children===r.children&&!Qt.current){e=_s(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=xs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Dm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Dm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ot(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,ia(e,n),r=bn(r),s=s(r),e.flags|=1,Ot(t,e,s,n),e.child;case 14:return s=e.type,r=jn(s,e.pendingProps),r=jn(s.type,r),xy(t,e,s,r,n);case 15:return D1(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:jn(s,r),Su(t,e),e.tag=1,Yt(s)?(t=!0,td(e)):t=!1,ia(e,n),P1(e,s,r),Lm(e,s,r,n),zm(null,e,s,!0,t,n);case 19:return z1(t,e,n);case 22:return O1(t,e,n)}throw Error(B(156,e.tag))};function n2(t,e){return k_(t,e)}function vT(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,s){return new vT(t,e,n,s)}function wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wT(t){if(typeof t=="function")return wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zp)return 11;if(t===Up)return 14}return 2}function dr(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,s,r,i){var a=2;if(s=t,typeof t=="function")wg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Wi:return ni(n.children,r,i,e);case Fp:a=8,r|=8;break;case om:return t=gn(12,n,e,r|2),t.elementType=om,t.lanes=i,t;case lm:return t=gn(13,n,e,r),t.elementType=lm,t.lanes=i,t;case cm:return t=gn(19,n,e,r),t.elementType=cm,t.lanes=i,t;case h_:return rh(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u_:a=10;break e;case d_:a=9;break e;case zp:a=11;break e;case Up:a=14;break e;case Bs:a=16,s=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=gn(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function ni(t,e,n,s){return t=gn(7,t,s,e),t.lanes=n,t}function rh(t,e,n,s){return t=gn(22,t,s,e),t.elementType=h_,t.lanes=n,t.stateNode={isHidden:!1},t}function If(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function Tf(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _T(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function _g(t,e,n,s,r,i,a,l,c){return t=new _T(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(i),t}function NT(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function s2(t){if(!t)return vr;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Yt(n))return s1(t,n,e)}return e}function r2(t,e,n,s,r,i,a,l,c){return t=_g(n,s,!0,t,r,i,a,l,c),t.context=s2(null),n=t.current,s=Lt(),r=ur(n),i=xs(s,r),i.callback=e??null,lr(n,i,r),t.current.lanes=r,Yl(t,r,s),Xt(t,s),t}function ih(t,e,n,s){var r=e.current,i=Lt(),a=ur(r);return n=s2(n),e.context===null?e.context=n:e.pendingContext=n,e=xs(i,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=lr(r,e,a),t!==null&&(An(t,r,a,i),Nu(t,r,a)),a}function md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ky(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ng(t,e){ky(t,e),(t=t.alternate)&&ky(t,e)}function ET(){return null}var i2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eg(t){this._internalRoot=t}ah.prototype.render=Eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));ih(t,e,null,null)};ah.prototype.unmount=Eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){ih(null,t,null,null)}),e[vs]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=O_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qs.length&&e!==0&&e<qs[n].priority;n++);qs.splice(n,0,t),n===0&&V_(t)}};function jg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function jT(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=md(a);i.call(u)}}var a=r2(e,s,t,0,null,!1,!1,"",Cy);return t._reactRootContainer=a,t[vs]=a.current,bl(t.nodeType===8?t.parentNode:t),ui(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=md(c);l.call(u)}}var c=_g(t,0,!1,null,null,!1,!1,"",Cy);return t._reactRootContainer=c,t[vs]=c.current,bl(t.nodeType===8?t.parentNode:t),ui(function(){ih(e,c,n,s)}),c}function lh(t,e,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var l=r;r=function(){var c=md(a);l.call(c)}}ih(e,a,t,r)}else a=jT(n,e,t,r,s);return md(a)}M_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Io(e.pendingLanes);n!==0&&(qp(e,n|1),Xt(e,Qe()),!(ge&6)&&(wa=Qe()+500,Cr()))}break;case 13:ui(function(){var s=ws(t,1);if(s!==null){var r=Lt();An(s,t,1,r)}}),Ng(t,1)}};Hp=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var n=Lt();An(e,t,134217728,n)}Ng(t,134217728)}};D_=function(t){if(t.tag===13){var e=ur(t),n=ws(t,e);if(n!==null){var s=Lt();An(n,t,e,s)}Ng(t,e)}};O_=function(){return Se};L_=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};bm=function(t,e,n){switch(e){case"input":if(hm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Jd(s);if(!r)throw Error(B(90));m_(s),hm(s,r)}}}break;case"textarea":g_(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};N_=yg;E_=ui;var ST={usingClientEntryPoint:!1,Events:[Jl,Gi,Jd,w_,__,yg]},go={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IT={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I_(t),t===null?null:t.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||ET,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Kd=Kc.inject(IT),Gn=Kc}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ST;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jg(e))throw Error(B(200));return NT(t,e,null,n)};ln.createRoot=function(t,e){if(!jg(t))throw Error(B(299));var n=!1,s="",r=i2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=_g(t,1,!1,null,null,n,!1,s,r),t[vs]=e.current,bl(t.nodeType===8?t.parentNode:t),new Eg(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=I_(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return ui(t)};ln.hydrate=function(t,e,n){if(!oh(e))throw Error(B(200));return lh(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!jg(t))throw Error(B(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=i2;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=r2(e,null,t,1,n??null,r,!1,i,a),t[vs]=e.current,bl(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ah(e)};ln.render=function(t,e,n){if(!oh(e))throw Error(B(200));return lh(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!oh(t))throw Error(B(40));return t._reactRootContainer?(ui(function(){lh(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};ln.unstable_batchedUpdates=yg;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!oh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return lh(t,e,n,!1,s)};ln.version="18.3.1-next-f1338f8080-20240426";function a2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a2)}catch(t){console.error(t)}}a2(),a_.exports=ln;var TT=a_.exports,Ay=TT;im.createRoot=Ay.createRoot,im.hydrateRoot=Ay.hydrateRoot;var kT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const CT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AT=(t,e)=>{const n=V.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:l,...c},u)=>V.createElement("svg",{ref:u,...kT,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:`lucide lucide-${CT(t)}`,...c},[...e.map(([h,f])=>V.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n};var Be=AT;const Sg=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Py=Be("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),PT=Be("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),RT=Be("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),MT=Be("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),xo=Be("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),DT=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),OT=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ry=Be("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),LT=Be("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),My=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),VT=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),FT=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zT=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),UT=Be("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Dy=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Qc=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),BT=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),WT=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Oy=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),qT=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),HT=Be("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),$T=Be("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),GT=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},KT=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},l2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),s.push(n[h],n[f],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||u==null||f==null)throw new QT;const m=i<<2|l>>4;if(s.push(m),u!==64){const g=l<<4&240|u>>2;if(s.push(g),f!==64){const b=u<<6&192|f;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(t){const e=o2(t);return l2.encodeByteArray(e,!0)},pd=function(t){return YT(t).replace(/\./g,"")},c2=function(t){try{return l2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>XT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ek=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c2(t[1]);return e&&JSON.parse(e)},ch=()=>{try{return GT()||JT()||ZT()||ek()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u2=t=>{var e,n;return(n=(e=ch())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},tk=t=>{const e=u2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},d2=()=>{var t;return(t=ch())==null?void 0:t.config},h2=t=>{var e;return(e=ch())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[pd(JSON.stringify(n)),pd(JSON.stringify(a)),l].join(".")}const Yo={};function rk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yo))Yo[e]?t.emulator.push(e):t.prod.push(e);return t}function ik(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ly=!1;function m2(t,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||Yo[t]===e||Yo[t]||Ly)return;Yo[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=rk().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ly=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=ik(s),g=n("text"),b=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),j=document.getElementById(_)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;l(E),h(j,_);const P=u();c(v,y),E.append(v,b,j,P),document.body.appendChild(E)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function ok(){var e;const t=(e=ch())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ck(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dk(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hk(){return!ok()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="FirebaseError";class ks extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pk,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?gk(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ks(r,l,s)}}function gk(t,e){return t.replace(xk,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const xk=/\{\$([^}]+)}/g;function yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function di(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(Vy(i)&&Vy(a)){if(!di(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Vy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ko(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Co(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bk(t,e){const n=new vk(t,e);return n.subscribe.bind(n)}class vk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=kf),r.error===void 0&&(r.error=kf),r.complete===void 0&&(r.complete=kf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ek(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nk(t){return t===Kr?void 0:t}function Ek(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _k(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Sk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Ik=he.INFO,Tk={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},kk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Tk[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=Ik,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const Ck=(t,e)=>e.some(n=>t instanceof n);let Fy,zy;function Ak(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pk(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p2=new WeakMap,Jm=new WeakMap,g2=new WeakMap,Cf=new WeakMap,Tg=new WeakMap;function Rk(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(hr(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&p2.set(n,t)}).catch(()=>{}),Tg.set(e,t),e}function Mk(t){if(Jm.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Jm.set(t,e)}let Zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dk(t){Zm=t(Zm)}function Ok(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Af(this),e,...n);return g2.set(s,e.sort?e.sort():[e]),hr(s)}:Pk().includes(t)?function(...e){return t.apply(Af(this),e),hr(p2.get(this))}:function(...e){return hr(t.apply(Af(this),e))}}function Lk(t){return typeof t=="function"?Ok(t):(t instanceof IDBTransaction&&Mk(t),Ck(t,Ak())?new Proxy(t,Zm):t)}function hr(t){if(t instanceof IDBRequest)return Rk(t);if(Cf.has(t))return Cf.get(t);const e=Lk(t);return e!==t&&(Cf.set(t,e),Tg.set(e,t)),e}const Af=t=>Tg.get(t);function Vk(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=hr(a);return s&&a.addEventListener("upgradeneeded",c=>{s(hr(a.result),c.oldVersion,c.newVersion,hr(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Fk=["get","getKey","getAll","getAllKeys","count"],zk=["put","add","delete","clear"],Pf=new Map;function Uy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=zk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Fk.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return Pf.set(e,i),i}Dk(t=>({...t,get:(e,n,s)=>Uy(e,n)||t.get(e,n,s),has:(e,n)=>!!Uy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Bk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",By="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Ig("@firebase/app"),Wk="@firebase/app-compat",qk="@firebase/analytics-compat",Hk="@firebase/analytics",$k="@firebase/app-check-compat",Gk="@firebase/app-check",Kk="@firebase/auth",Qk="@firebase/auth-compat",Yk="@firebase/database",Xk="@firebase/data-connect",Jk="@firebase/database-compat",Zk="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",sC="@firebase/messaging",rC="@firebase/messaging-compat",iC="@firebase/performance",aC="@firebase/performance-compat",oC="@firebase/remote-config",lC="@firebase/remote-config-compat",cC="@firebase/storage",uC="@firebase/storage-compat",dC="@firebase/firestore",hC="@firebase/ai",fC="@firebase/firestore-compat",mC="firebase",pC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",gC={[ep]:"fire-core",[Wk]:"fire-core-compat",[Hk]:"fire-analytics",[qk]:"fire-analytics-compat",[Gk]:"fire-app-check",[$k]:"fire-app-check-compat",[Kk]:"fire-auth",[Qk]:"fire-auth-compat",[Yk]:"fire-rtdb",[Xk]:"fire-data-connect",[Jk]:"fire-rtdb-compat",[Zk]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[sC]:"fire-fcm",[rC]:"fire-fcm-compat",[iC]:"fire-perf",[aC]:"fire-perf-compat",[oC]:"fire-rc",[lC]:"fire-rc-compat",[cC]:"fire-gcs",[uC]:"fire-gcs-compat",[dC]:"fire-fst",[fC]:"fire-fst-compat",[hC]:"fire-vertex","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,xC=new Map,np=new Map;function Wy(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _a(t){const e=t.name;if(np.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of gd.values())Wy(n,t);for(const n of xC.values())Wy(n,t);return!0}function kg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function it(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new ec("app","Firebase",yC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=pC;function x2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:tp,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw fr.create("bad-app-name",{appName:String(r)});if(n||(n=d2()),!n)throw fr.create("no-options");const i=gd.get(r);if(i){if(di(n,i.options)&&di(s,i.config))return i;throw fr.create("duplicate-app",{appName:r})}const a=new jk(r);for(const c of np.values())a.addComponent(c);const l=new bC(n,s,a);return gd.set(r,l),l}function y2(t=tp){const e=gd.get(t);if(!e&&t===tp&&d2())return x2();if(!e)throw fr.create("no-app",{appName:t});return e}function mr(t,e,n){let s=gC[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}_a(new hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebase-heartbeat-database",wC=1,Tl="firebase-heartbeat-store";let Rf=null;function b2(){return Rf||(Rf=Vk(vC,wC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Rf}async function _C(t){try{const n=(await b2()).transaction(Tl),s=await n.objectStore(Tl).get(v2(t));return await n.done,s}catch(e){if(e instanceof ks)Ns.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function qy(t,e){try{const s=(await b2()).transaction(Tl,"readwrite");await s.objectStore(Tl).put(e,v2(t)),await s.done}catch(n){if(n instanceof ks)Ns.warn(n.message);else{const s=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(s.message)}}}function v2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,EC=30;class jC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>EC){const a=TC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ns.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hy(),{heartbeatsToSend:s,unsentEntries:r}=SC(this._heartbeatsCache.heartbeats),i=pd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ns.warn(n),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function SC(t,e=NC){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),$y(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$y(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class IC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _C(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $y(t){return pd(JSON.stringify({version:2,heartbeats:t})).length}function TC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){_a(new hi("platform-logger",e=>new Uk(e),"PRIVATE")),_a(new hi("heartbeat",e=>new jC(e),"PRIVATE")),mr(ep,By,t),mr(ep,By,"esm2020"),mr("fire-js","")}kC("");function w2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CC=w2,_2=new ec("auth","Firebase",w2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Ig("@firebase/auth");function AC(t,...e){xd.logLevel<=he.WARN&&xd.warn(`Auth (${La}): ${t}`,...e)}function Cu(t,...e){xd.logLevel<=he.ERROR&&xd.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw Ag(t,...e)}function Jt(t,...e){return Ag(t,...e)}function Cg(t,e,n){const s={...CC(),[e]:n};return new ec("auth","Firebase",s).create(e,{appName:t.name})}function Vt(t){return Cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uh(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&wn(t,"argument-error"),Cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ag(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return _2.create(t,...e)}function $(t,e,...n){if(!t)throw Ag(e,...n)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function Es(t,e){t||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Pg(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pg()||ck()||"connection"in navigator)?navigator.onLine:!0}function RC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=ak()||uk()}get(){return PC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){Es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OC=new tc(3e4,6e4);function ut(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function dt(t,e,n,s,r={}){return E2(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=Oa({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return lk()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Da(t.emulatorConfig.host)&&(u.credentials="include"),N2.fetch()(await j2(t,t.config.apiHost,n,l),u)})}async function E2(t,e,n){t._canInitEmulator=!1;const s={...MC,...e};try{const r=new VC(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ao(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ao(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ao(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ao(t,"user-disabled",a);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Cg(t,h,u);wn(t,h)}}catch(r){if(r instanceof ks)throw r;wn(t,"network-request-failed",{message:String(r)})}}async function Cs(t,e,n,s,r={}){const i=await dt(t,e,n,s,r);return"mfaPendingCredential"in i&&wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function j2(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?Rg(t.config,r):`${t.config.apiScheme}://${r}`;return DC.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function LC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Jt(this.auth,"network-request-failed")),OC.get())})}}function Ao(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Jt(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return t!==void 0&&t.getResponse!==void 0}function Qy(t){return t!==void 0&&t.enterprise!==void 0}class S2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t){return(await dt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function I2(t,e){return dt(t,"GET","/v2/recaptchaConfig",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(t,e){return dt(t,"POST","/v1/accounts:delete",e)}async function UC(t,e){return dt(t,"POST","/v1/accounts:update",e)}async function yd(t,e){return dt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BC(t,e=!1){const n=_e(t),s=await n.getIdToken(e),r=dh(s);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Xo(Mf(r.auth_time)),issuedAtTime:Xo(Mf(r.iat)),expirationTime:Xo(Mf(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mf(t){return Number(t)*1e3}function dh(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const r=c2(n);return r?JSON.parse(r):(Cu("Failed to decode base64 JWT payload"),null)}catch(r){return Cu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Yy(t){const e=dh(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ks&&WC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function WC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){var f;const e=t.auth,n=await t.getIdToken(),s=await fi(t,yd(e,{idToken:n}));$(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(f=r.providerUserInfo)!=null&&f.length?T2(r.providerUserInfo):[],a=$C(t.providerData,i),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new sp(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function HC(t){const e=_e(t);await Cl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function T2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t,e){const n=await E2(t,{},async()=>{const s=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await j2(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Da(t.emulatorConfig.host)&&(c.credentials="include"),N2.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KC(t,e){return dt(t,"POST","/v2/accounts:revokeToken",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");const n=Yy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await GC(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new oa;return s&&($(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&($(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&($(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new qC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new sp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await fi(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BC(this,e)}reload(){return HC(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Cl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(it(this.auth.app))return Promise.reject(Vt(this.auth));const e=await this.getIdToken();return await fi(this,zC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:_}=n;$(f&&_,e,"internal-error");const j=oa.fromJSON(this.name,_);$(typeof f=="string",e,"internal-error"),Fs(s,e.name),Fs(r,e.name),$(typeof m=="boolean",e,"internal-error"),$(typeof g=="boolean",e,"internal-error"),Fs(i,e.name),Fs(a,e.name),Fs(l,e.name),Fs(c,e.name),Fs(u,e.name),Fs(h,e.name);const y=new Tn({uid:f,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:j,createdAt:u,lastLoginAt:h});return b&&Array.isArray(b)&&(y.providerData=b.map(v=>({...v}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,n,s=!1){const r=new oa;r.updateFromServerResponse(n);const i=new Tn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Cl(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];$(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?T2(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new oa;l.updateFromIdToken(s);const c=new Tn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new sp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;function ps(t){Es(t instanceof Function,"Expected a class definition");let e=Xy.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k2.type="NONE";const Jy=k2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){return`firebase:${t}:${e}:${n}`}class la{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Au(this.userKey,r.apiKey,i),this.fullPersistenceKey=Au("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yd(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new la(ps(Jy),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||ps(Jy);const a=Au(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let f;if(typeof h=="string"){const m=await yd(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Tn._fromGetAccountInfoResponse(e,m,h)}else f=Tn._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new la(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new la(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D2(e))return"Blackberry";if(O2(e))return"Webos";if(A2(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(M2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function C2(t=Mt()){return/firefox\//i.test(t)}function A2(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(t=Mt()){return/crios\//i.test(t)}function R2(t=Mt()){return/iemobile/i.test(t)}function M2(t=Mt()){return/android/i.test(t)}function D2(t=Mt()){return/blackberry/i.test(t)}function O2(t=Mt()){return/webos/i.test(t)}function Mg(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QC(t=Mt()){var e;return Mg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YC(){return dk()&&document.documentMode===10}function L2(t=Mt()){return Mg(t)||M2(t)||O2(t)||D2(t)||/windows phone/i.test(t)||R2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e=[]){let n;switch(t){case"Browser":n=Zy(Mt());break;case"Worker":n=`${Zy(Mt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e={}){return dt(t,"GET","/v2/passwordPolicy",ut(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=6;class eA{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eb(this),this.idTokenSubscription=new eb(this),this.beforeStateQueue=new XC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await la.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yd(this,{idToken:e}),s=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(it(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(it(this.app))return Promise.reject(Vt(this));const n=e?_e(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return it(this.app)?Promise.reject(Vt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return it(this.app)?Promise.reject(Vt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),n=new eA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ps(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(it(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&AC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function yt(t){return _e(t)}class eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=bk(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nA(t){nc=t}function Dg(t){return nc.loadJS(t)}function sA(){return nc.recaptchaV2Script}function rA(){return nc.recaptchaEnterpriseScript}function iA(){return nc.gapiScript}function F2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=500,oA=6e4,Yc=1e12;class lA{constructor(e){this.auth=e,this.counter=Yc,this._widgets=new Map}render(e,n){const s=this.counter;return this._widgets.set(s,new dA(e,this.auth.name,n||{})),this.counter++,s}reset(e){var s;const n=e||Yc;(s=this._widgets.get(n))==null||s.delete(),this._widgets.delete(n)}getResponse(e){var s;const n=e||Yc;return((s=this._widgets.get(n))==null?void 0:s.getResponse())||""}async execute(e){var s;const n=e||Yc;return(s=this._widgets.get(n))==null||s.execute(),""}}class cA{constructor(){this.enterprise=new uA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dA{constructor(e,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;$(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=hA(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},oA)},aA))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function hA(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<t;s++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const fA="recaptcha-enterprise",Jo="NO_RECAPTCHA";class z2{constructor(e){this.type=fA,this.auth=yt(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{I2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new S2(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;Qy(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(Jo)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cA().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&Qy(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rA();c.length!==0&&(c+=l),Dg(c).then(()=>{r(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function yo(t,e,n,s=!1,r=!1){const i=new z2(t);let a;if(r)a=Jo;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function pr(t,e,n,s,r){var i,a;if(r==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await yo(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await yo(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)});else if(r==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await yo(t,e,n);return s(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await yo(t,e,n,!1,!0);return s(t,h)}return Promise.reject(c)})}else{const l=await yo(t,e,n,!1,!0);return s(t,l)}else return Promise.reject(r+" provider is not supported.")}async function mA(t){const e=yt(t),n=await I2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new S2(n);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new z2(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){const n=kg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(di(i,e??{}))return r;wn(r,"already-initialized")}return n.initialize({options:e})}function gA(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function xA(t,e,n){const s=yt(t);$(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=U2(e),{host:a,port:l}=yA(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){$(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),$(di(u,s.config.emulator)&&di(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Da(a)?(f2(`${i}//${a}${c}`),m2("Auth",!0)):r||bA()}function U2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yA(t){const e=U2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:tb(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:tb(a)}}}function tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e){return dt(t,"POST","/v1/accounts:resetPassword",ut(t,e))}async function wA(t,e){return dt(t,"POST","/v1/accounts:update",e)}async function _A(t,e){return dt(t,"POST","/v1/accounts:signUp",e)}async function NA(t,e){return dt(t,"POST","/v1/accounts:update",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e){return Cs(t,"POST","/v1/accounts:signInWithPassword",ut(t,e))}async function fh(t,e){return dt(t,"POST","/v1/accounts:sendOobCode",ut(t,e))}async function jA(t,e){return fh(t,e)}async function SA(t,e){return fh(t,e)}async function IA(t,e){return fh(t,e)}async function TA(t,e){return fh(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e){return Cs(t,"POST","/v1/accounts:signInWithEmailLink",ut(t,e))}async function CA(t,e){return Cs(t,"POST","/v1/accounts:signInWithEmailLink",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends hh{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Al(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Al(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pr(e,n,"signInWithPassword",EA,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kA(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pr(e,s,"signUpPassword",_A,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return CA(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return Cs(t,"POST","/v1/accounts:signInWithIdp",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="http://localhost";class js extends hh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new js(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ca(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:AA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(t,e){return dt(t,"POST","/v1/accounts:sendVerificationCode",ut(t,e))}async function PA(t,e){return Cs(t,"POST","/v1/accounts:signInWithPhoneNumber",ut(t,e))}async function RA(t,e){const n=await Cs(t,"POST","/v1/accounts:signInWithPhoneNumber",ut(t,e));if(n.temporaryProof)throw Ao(t,"account-exists-with-different-credential",n);return n}const MA={USER_NOT_FOUND:"user-not-found"};async function DA(t,e){const n={...e,operation:"REAUTH"};return Cs(t,"POST","/v1/accounts:signInWithPhoneNumber",ut(t,n),MA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends hh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Zo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Zo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return PA(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return RA(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return DA(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:s,phoneNumber:r,temporaryProof:i}=e;return!s&&!n&&!r&&!i?null:new Zo({verificationId:n,verificationCode:s,phoneNumber:r,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LA(t){const e=ko(Co(t)).link,n=e?ko(Co(e)).deep_link_id:null,s=ko(Co(t)).deep_link_id;return(s?ko(Co(s)).link:null)||s||n||e||t}class mh{constructor(e){const n=ko(Co(e)),s=n.apiKey??null,r=n.oobCode??null,i=OA(n.mode??null);$(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=LA(e);try{return new mh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.providerId=_i.PROVIDER_ID}static credential(e,n){return Al._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=mh.parseLink(n);return $(s,"argument-error"),Al._fromEmailAndCode(e,s.code,s.tenantId)}}_i.PROVIDER_ID="password";_i.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Va{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pu extends Fa{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return $("providerId"in n&&"signInMethod"in n,"argument-error"),js._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return $(e.idToken||e.accessToken,"argument-error"),js._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Pu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Pu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:r,pendingToken:i,nonce:a,providerId:l}=e;if(!s&&!r&&!n&&!i||!l)return null;try{return new Pu(l)._credential({idToken:n,accessToken:s,nonce:a,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Fa{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gs.credential(n,s)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Fa{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Fa{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qs.credential(n,s)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t,e){return Cs(t,"POST","/v1/accounts:signUp",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Tn._fromIdTokenResponse(e,s,r),a=sb(s);return new es({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=sb(s);return new es({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function sb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t){var r;if(it(t.app))return Promise.reject(Vt(t));const e=yt(t);if(await e._initializationPromise,(r=e.currentUser)!=null&&r.isAnonymous)return new es({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await B2(e,{returnSecureToken:!0}),s=await es._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends ks{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new bd(e,n,s,r)}}function W2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(t,i,e,s):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){const n=_e(t);await ph(!0,n,e);const{providerUserInfo:s}=await UC(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),r=q2(s||[]);return n.providerData=n.providerData.filter(i=>r.has(i.providerId)),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function H2(t,e,n=!1){const s=await fi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return es._forOperation(t,"link",s)}async function ph(t,e,n){await Cl(e);const s=q2(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";$(s.has(n)===t,e.auth,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e,n=!1){const{auth:s}=t;if(it(s.app))return Promise.reject(Vt(s));const r="reauthenticate";try{const i=await fi(t,W2(s,r,e,t),n);$(i.idToken,s,"internal-error");const a=dh(i.idToken);$(a,s,"internal-error");const{sub:l}=a;return $(t.uid===l,s,"user-mismatch"),es._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e,n=!1){if(it(t.app))return Promise.reject(Vt(t));const s="signIn",r=await W2(t,s,e),i=await es._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function Og(t,e){return $2(yt(t),e)}async function FA(t,e){const n=_e(t);return await ph(!1,n,e.providerId),H2(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e){return Cs(t,"POST","/v1/accounts:signInWithCustomToken",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){if(it(t.app))return Promise.reject(Vt(t));const n=yt(t),s=await zA(n,{token:e,returnSecureToken:!0}),r=await es._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e,n){var s;$(((s=n.url)==null?void 0:s.length)>0,t,"invalid-continue-uri"),$(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),$(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&($(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(t){const e=yt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UA(t,e,n){const s=yt(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&gh(s,r,n),await pr(s,r,"getOobCode",SA,"EMAIL_PASSWORD_PROVIDER")}async function xV(t,e,n){await vA(_e(t),{oobCode:e,newPassword:n}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Lg(t),s})}async function yV(t,e){await NA(_e(t),{oobCode:e})}async function BA(t,e,n){if(it(t.app))return Promise.reject(Vt(t));const s=yt(t),a=await pr(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B2,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Lg(t),c}),l=await es._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function WA(t,e,n){return it(t.app)?Promise.reject(Vt(t)):Og(_e(t),_i.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Lg(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e,n){const s=yt(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function i(a,l){$(l.handleCodeInApp,s,"argument-error"),l&&gh(s,a,l)}i(r,n),await pr(s,r,"getOobCode",IA,"EMAIL_PASSWORD_PROVIDER")}function vV(t,e){const n=mh.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function wV(t,e,n){if(it(t.app))return Promise.reject(Vt(t));const s=_e(t),r=_i.credentialWithLink(e,n||kl());return $(r._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Og(s,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e){return dt(t,"POST","/v1/accounts:createAuthUri",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){const n=Pg()?kl():"http://localhost",s={identifier:e,continueUri:n},{signinMethods:r}=await qA(_e(t),s);return r||[]}async function NV(t,e){const n=_e(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&gh(n.auth,r,e);const{email:i}=await jA(n.auth,r);i!==t.email&&await t.reload()}async function EV(t,e,n){const s=_e(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&gh(s.auth,i,n);const{email:a}=await TA(s.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t,e){return dt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=_e(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await fi(s,HA(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function SV(t,e){const n=_e(t);return it(n.auth.app)?Promise.reject(Vt(n.auth)):G2(n,e,null)}function IV(t,e){return G2(_e(t),null,e)}async function G2(t,e,n){const{auth:s}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const a=await fi(t,wA(s,i));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){var r,i;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const a=(i=(r=dh(t.idToken))==null?void 0:r.firebase)==null?void 0:i.sign_in_provider;if(a){const l=a!=="anonymous"&&a!=="custom"?a:null;return new ua(s,l)}}if(!e)return null;switch(e){case"facebook.com":return new GA(s,n);case"github.com":return new KA(s,n);case"google.com":return new QA(s,n);case"twitter.com":return new YA(s,n,t.screenName||null);case"custom":case"anonymous":return new ua(s,null);default:return new ua(s,e,n)}}class ua{constructor(e,n,s={}){this.isNewUser=e,this.providerId=n,this.profile=s}}class K2 extends ua{constructor(e,n,s,r){super(e,n,s),this.username=r}}class GA extends ua{constructor(e,n){super(e,"facebook.com",n)}}class KA extends K2{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class QA extends ua{constructor(e,n){super(e,"google.com",n)}}class YA extends K2{constructor(e,n,s){super(e,"twitter.com",n,s)}}function TV(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:$A(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){return _e(t).setPersistence(e)}function XA(t,e,n,s){return _e(t).onIdTokenChanged(e,n,s)}function JA(t,e,n){return _e(t).beforeAuthStateChanged(e,n)}function ZA(t,e,n,s){return _e(t).onAuthStateChanged(e,n,s)}function eP(t){return _e(t).signOut()}function CV(t,e){return yt(t).revokeAccessToken(e)}async function AV(t){return _e(t).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e){return dt(t,"POST","/v2/accounts/mfaEnrollment:start",ut(t,e))}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1e3,nP=10;class Y2 extends Q2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);YC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,nP):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y2.type="LOCAL";const sP=Y2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends Q2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X2.type="SESSION";const J2=X2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await rP(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=yh("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return window}function aP(t){Ze().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(){return typeof Ze().WorkerGlobalScope<"u"&&typeof Ze().importScripts=="function"}async function oP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function cP(){return Vg()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="firebaseLocalStorageDb",uP=1,wd="firebaseLocalStorage",eN="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(t,e){return t.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function dP(){const t=indexedDB.deleteDatabase(Z2);return new sc(t).toPromise()}function rp(){const t=indexedDB.open(Z2,uP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(wd,{keyPath:eN})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(wd)?e(s):(s.close(),await dP(),e(await rp()))})})}async function ib(t,e,n){const s=bh(t,!0).put({[eN]:e,value:n});return new sc(s).toPromise()}async function hP(t,e){const n=bh(t,!1).get(e),s=await new sc(n).toPromise();return s===void 0?null:s.value}function ab(t,e){const n=bh(t,!0).delete(e);return new sc(n).toPromise()}const fP=800,mP=3;class tN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>mP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(cP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await oP(),!this.activeServiceWorker)return;this.sender=new iP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await ib(e,vd,"1"),await ab(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ib(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ab(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=bh(r,!1).getAll();return new sc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tN.type="LOCAL";const pP=tN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e){return dt(t,"POST","/v2/accounts/mfaSignIn:start",ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=F2("rcb"),gP=new tc(3e4,6e4);class xP{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Ze().grecaptcha)!=null&&e.render)}load(e,n=""){return $(yP(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ky(Ze().grecaptcha)?Promise.resolve(Ze().grecaptcha):new Promise((s,r)=>{const i=Ze().setTimeout(()=>{r(Jt(e,"network-request-failed"))},gP.get());Ze()[Df]=()=>{Ze().clearTimeout(i),delete Ze()[Df];const l=Ze().grecaptcha;if(!l||!Ky(l)){r(Jt(e,"internal-error"));return}const c=l.render;l.render=(u,h)=>{const f=c(u,h);return this.counter++,f},this.hostLanguage=n,s(l)};const a=`${sA()}?${Oa({onload:Df,render:"explicit",hl:n})}`;Dg(a).catch(()=>{clearTimeout(i),r(Jt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=Ze().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function yP(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class bP{async load(e){return new lA(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="recaptcha",vP={theme:"light",type:"image"};class PV{constructor(e,n,s={...vP}){this.parameters=s,this.type=el,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yt(e),this.isInvisible=this.parameters.size==="invisible",$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof n=="string"?document.getElementById(n):n;$(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bP:new xP,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(e);return s||new Promise(r=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),r(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof e=="function")e(n);else if(typeof e=="string"){const s=Ze()[e];typeof s=="function"&&s(n)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){$(Pg()&&!Vg(),this.auth,"internal-error"),await wP(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await FC(this.auth);$(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function wP(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Zo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function RV(t,e,n){if(it(t.app))return Promise.reject(Vt(t));const s=yt(t),r=await sN(s,e,_e(n));return new nN(r,i=>Og(s,i))}async function MV(t,e,n){const s=_e(t);await ph(!1,s,"phone");const r=await sN(s.auth,e,_e(n));return new nN(r,i=>FA(s,i))}async function sN(t,e,n){var s;if(!t._getRecaptchaConfig())try{await mA(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){$(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await pr(t,a,"mfaSmsEnrollment",async(h,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===Jo){$((n==null?void 0:n.type)===el,h,"argument-error");const m=await Of(h,f,n);return rb(h,m)}return rb(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{$(i.type==="signin",t,"internal-error");const a=((s=r.multiFactorHint)==null?void 0:s.uid)||r.multiFactorUid;$(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await pr(t,l,"mfaSmsSignIn",async(f,m)=>{if(m.phoneSignInInfo.captchaResponse===Jo){$((n==null?void 0:n.type)===el,f,"argument-error");const g=await Of(f,m,n);return ob(f,g)}return ob(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await pr(t,i,"sendVerificationCode",async(u,h)=>{if(h.captchaResponse===Jo){$((n==null?void 0:n.type)===el,u,"argument-error");const f=await Of(u,h,n);return nb(u,f)}return nb(u,h)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function Of(t,e,n){$(n.type===el,t,"argument-error");const s=await n.verify();$(typeof s=="string",t,"argument-error");const r={...e};if("phoneEnrollmentInfo"in r){const i=r.phoneEnrollmentInfo.phoneNumber,a=r.phoneEnrollmentInfo.captchaResponse,l=r.phoneEnrollmentInfo.clientType,c=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:s,captchaResponse:a,clientType:l,recaptchaVersion:c}}),r}else if("phoneSignInInfo"in r){const i=r.phoneSignInInfo.captchaResponse,a=r.phoneSignInInfo.clientType,l=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:i,clientType:a,recaptchaVersion:l}}),r}else return Object.assign(r,{recaptchaToken:s}),r}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,e){return e?ps(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends hh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _P(t){return $2(t.auth,new Fg(t),t.bypassAuthState)}function NP(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),VA(n,new Fg(t),t.bypassAuthState)}async function EP(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),H2(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _P;case"linkViaPopup":case"linkViaRedirect":return EP;case"reauthViaPopup":case"reauthViaRedirect":return NP;default:wn(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new tc(2e3,1e4);async function DV(t,e,n){if(it(t.app))return Promise.reject(Jt(t,"operation-not-supported-in-this-environment"));const s=yt(t);uh(t,e,Va);const r=rc(s,n);return new Js(s,"signInViaPopup",e,r).executeNotNull()}async function OV(t,e,n){const s=_e(t);uh(s.auth,e,Va);const r=rc(s.auth,n);return new Js(s.auth,"linkViaPopup",e,r,s).executeNotNull()}class Js extends rN{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=yh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jP.get())};e()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="pendingRedirect",Ru=new Map;class IP extends rN{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const s=await TP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TP(t,e){const n=oN(e),s=aN(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}async function iN(t,e){return aN(t)._set(oN(e),"true")}function kP(t,e){Ru.set(t._key(),e)}function aN(t){return ps(t._redirectPersistence)}function oN(t){return Au(SP,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t,e,n){return CP(t,e,n)}async function CP(t,e,n){if(it(t.app))return Promise.reject(Vt(t));const s=yt(t);uh(t,e,Va),await s._initializationPromise;const r=rc(s,n);return await iN(r,s),r._openRedirect(s,e,"signInViaRedirect")}function VV(t,e,n){return AP(t,e,n)}async function AP(t,e,n){const s=_e(t);uh(s.auth,e,Va),await s.auth._initializationPromise;const r=rc(s.auth,n);await ph(!1,s,e.providerId),await iN(r,s.auth);const i=await PP(s);return r._openRedirect(s.auth,e,"linkViaRedirect",i)}async function FV(t,e){return await yt(t)._initializationPromise,lN(t,e,!1)}async function lN(t,e,n=!1){if(it(t.app))return Promise.reject(Vt(t));const s=yt(t),r=rc(s,e),a=await new IP(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}async function PP(t){const e=yh(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=10*60*1e3;class MP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cN(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Jt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RP&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e={}){return dt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VP=/^https?/;async function FP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OP(t);for(const n of e)try{if(zP(n))return}catch{}wn(t,"unauthorized-domain")}function zP(t){const e=kl(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!VP.test(n))return!1;if(LP.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new tc(3e4,6e4);function cb(){const t=Ze().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BP(t){return new Promise((e,n)=>{var r,i,a;function s(){cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cb(),n(Jt(t,"network-request-failed"))},timeout:UP.get()})}if((i=(r=Ze().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Ze().gapi)!=null&&a.load)s();else{const l=F2("iframefcb");return Ze()[l]=()=>{gapi.load?s():n(Jt(t,"network-request-failed"))},Dg(`${iA()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function WP(t){return Mu=Mu||BP(t),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new tc(5e3,15e3),HP="__/auth/iframe",$P="emulator/auth/iframe",GP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QP(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rg(e,$P):`https://${t.config.authDomain}/${HP}`,s={apiKey:e.apiKey,appName:t.name,v:La},r=KP.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Oa(s).slice(1)}`}async function YP(t){const e=await WP(t),n=Ze().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:QP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GP,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=Jt(t,"network-request-failed"),l=Ze().setTimeout(()=>{i(a)},qP.get());function c(){Ze().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JP=500,ZP=600,eR="_blank",tR="http://localhost";class ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(t,e,n,s=JP,r=ZP){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...XP,width:s.toString(),height:r.toString(),top:i,left:a},u=Mt().toLowerCase();n&&(l=P2(u)?eR:n),C2(u)&&(e=e||tR,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(QC(u)&&l!=="_self")return sR(e||"",l),new ub(null);const f=window.open(e||"",l,h);$(f,t,"popup-blocked");try{f.focus()}catch{}return new ub(f)}function sR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="__/auth/handler",iR="emulator/auth/handler",aR=encodeURIComponent("fac");async function db(t,e,n,s,r,i){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:La,eventId:r};if(e instanceof Va){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(i||{}))a[h]=f}if(e instanceof Fa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${aR}=${encodeURIComponent(c)}`:"";return`${oR(t)}?${Oa(l).slice(1)}${u}`}function oR({config:t}){return t.emulator?Rg(t,iR):`https://${t.authDomain}/${rR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J2,this._completeRedirectFn=lN,this._overrideRedirectResult=kP}async _openPopup(e,n,s,r){var a;Es((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await db(e,n,s,kl(),r);return nR(e,i,yh())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await db(e,n,s,kl(),r);return aP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Es(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YP(e),s=new MP(e);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lf,{type:Lf},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[Lf];i!==void 0&&n(!!i),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L2()||A2()||Mg()}}const cR=lR;var hb="@firebase/auth",fb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(t){_a(new hi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V2(t)},u=new tA(s,r,i,c);return gA(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_a(new hi("auth-internal",e=>{const n=yt(e.getProvider("auth").getImmediate());return(s=>new uR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(hb,fb,dR(t)),mr(hb,fb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=5*60,mR=h2("authIdTokenMaxAge")||fR;let mb=null;const pR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mR)return;const r=n==null?void 0:n.token;mb!==r&&(mb=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function gR(t=y2()){const e=kg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pA(t,{popupRedirectResolver:cR,persistence:[pP,sP,J2]}),s=h2("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=pR(i.toString());JA(n,a,()=>a(n.currentUser)),XA(n,l=>a(l))}}const r=u2("auth");return r&&xA(n,`http://${r}`),n}function xR(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}nA({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Jt("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",xR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var yR="firebase",bR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(yR,bR,"app");var pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,uN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(C,T,A){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return w.prototype[T].apply(C,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,w,I){I||(I=0);const C=Array(16);if(typeof w=="string")for(var T=0;T<16;++T)C[T]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(T=0;T<16;++T)C[T]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],T=N.g[2];let A=N.g[3],k;k=w+(A^I&(T^A))+C[0]+3614090360&4294967295,w=I+(k<<7&4294967295|k>>>25),k=A+(T^w&(I^T))+C[1]+3905402710&4294967295,A=w+(k<<12&4294967295|k>>>20),k=T+(I^A&(w^I))+C[2]+606105819&4294967295,T=A+(k<<17&4294967295|k>>>15),k=I+(w^T&(A^w))+C[3]+3250441966&4294967295,I=T+(k<<22&4294967295|k>>>10),k=w+(A^I&(T^A))+C[4]+4118548399&4294967295,w=I+(k<<7&4294967295|k>>>25),k=A+(T^w&(I^T))+C[5]+1200080426&4294967295,A=w+(k<<12&4294967295|k>>>20),k=T+(I^A&(w^I))+C[6]+2821735955&4294967295,T=A+(k<<17&4294967295|k>>>15),k=I+(w^T&(A^w))+C[7]+4249261313&4294967295,I=T+(k<<22&4294967295|k>>>10),k=w+(A^I&(T^A))+C[8]+1770035416&4294967295,w=I+(k<<7&4294967295|k>>>25),k=A+(T^w&(I^T))+C[9]+2336552879&4294967295,A=w+(k<<12&4294967295|k>>>20),k=T+(I^A&(w^I))+C[10]+4294925233&4294967295,T=A+(k<<17&4294967295|k>>>15),k=I+(w^T&(A^w))+C[11]+2304563134&4294967295,I=T+(k<<22&4294967295|k>>>10),k=w+(A^I&(T^A))+C[12]+1804603682&4294967295,w=I+(k<<7&4294967295|k>>>25),k=A+(T^w&(I^T))+C[13]+4254626195&4294967295,A=w+(k<<12&4294967295|k>>>20),k=T+(I^A&(w^I))+C[14]+2792965006&4294967295,T=A+(k<<17&4294967295|k>>>15),k=I+(w^T&(A^w))+C[15]+1236535329&4294967295,I=T+(k<<22&4294967295|k>>>10),k=w+(T^A&(I^T))+C[1]+4129170786&4294967295,w=I+(k<<5&4294967295|k>>>27),k=A+(I^T&(w^I))+C[6]+3225465664&4294967295,A=w+(k<<9&4294967295|k>>>23),k=T+(w^I&(A^w))+C[11]+643717713&4294967295,T=A+(k<<14&4294967295|k>>>18),k=I+(A^w&(T^A))+C[0]+3921069994&4294967295,I=T+(k<<20&4294967295|k>>>12),k=w+(T^A&(I^T))+C[5]+3593408605&4294967295,w=I+(k<<5&4294967295|k>>>27),k=A+(I^T&(w^I))+C[10]+38016083&4294967295,A=w+(k<<9&4294967295|k>>>23),k=T+(w^I&(A^w))+C[15]+3634488961&4294967295,T=A+(k<<14&4294967295|k>>>18),k=I+(A^w&(T^A))+C[4]+3889429448&4294967295,I=T+(k<<20&4294967295|k>>>12),k=w+(T^A&(I^T))+C[9]+568446438&4294967295,w=I+(k<<5&4294967295|k>>>27),k=A+(I^T&(w^I))+C[14]+3275163606&4294967295,A=w+(k<<9&4294967295|k>>>23),k=T+(w^I&(A^w))+C[3]+4107603335&4294967295,T=A+(k<<14&4294967295|k>>>18),k=I+(A^w&(T^A))+C[8]+1163531501&4294967295,I=T+(k<<20&4294967295|k>>>12),k=w+(T^A&(I^T))+C[13]+2850285829&4294967295,w=I+(k<<5&4294967295|k>>>27),k=A+(I^T&(w^I))+C[2]+4243563512&4294967295,A=w+(k<<9&4294967295|k>>>23),k=T+(w^I&(A^w))+C[7]+1735328473&4294967295,T=A+(k<<14&4294967295|k>>>18),k=I+(A^w&(T^A))+C[12]+2368359562&4294967295,I=T+(k<<20&4294967295|k>>>12),k=w+(I^T^A)+C[5]+4294588738&4294967295,w=I+(k<<4&4294967295|k>>>28),k=A+(w^I^T)+C[8]+2272392833&4294967295,A=w+(k<<11&4294967295|k>>>21),k=T+(A^w^I)+C[11]+1839030562&4294967295,T=A+(k<<16&4294967295|k>>>16),k=I+(T^A^w)+C[14]+4259657740&4294967295,I=T+(k<<23&4294967295|k>>>9),k=w+(I^T^A)+C[1]+2763975236&4294967295,w=I+(k<<4&4294967295|k>>>28),k=A+(w^I^T)+C[4]+1272893353&4294967295,A=w+(k<<11&4294967295|k>>>21),k=T+(A^w^I)+C[7]+4139469664&4294967295,T=A+(k<<16&4294967295|k>>>16),k=I+(T^A^w)+C[10]+3200236656&4294967295,I=T+(k<<23&4294967295|k>>>9),k=w+(I^T^A)+C[13]+681279174&4294967295,w=I+(k<<4&4294967295|k>>>28),k=A+(w^I^T)+C[0]+3936430074&4294967295,A=w+(k<<11&4294967295|k>>>21),k=T+(A^w^I)+C[3]+3572445317&4294967295,T=A+(k<<16&4294967295|k>>>16),k=I+(T^A^w)+C[6]+76029189&4294967295,I=T+(k<<23&4294967295|k>>>9),k=w+(I^T^A)+C[9]+3654602809&4294967295,w=I+(k<<4&4294967295|k>>>28),k=A+(w^I^T)+C[12]+3873151461&4294967295,A=w+(k<<11&4294967295|k>>>21),k=T+(A^w^I)+C[15]+530742520&4294967295,T=A+(k<<16&4294967295|k>>>16),k=I+(T^A^w)+C[2]+3299628645&4294967295,I=T+(k<<23&4294967295|k>>>9),k=w+(T^(I|~A))+C[0]+4096336452&4294967295,w=I+(k<<6&4294967295|k>>>26),k=A+(I^(w|~T))+C[7]+1126891415&4294967295,A=w+(k<<10&4294967295|k>>>22),k=T+(w^(A|~I))+C[14]+2878612391&4294967295,T=A+(k<<15&4294967295|k>>>17),k=I+(A^(T|~w))+C[5]+4237533241&4294967295,I=T+(k<<21&4294967295|k>>>11),k=w+(T^(I|~A))+C[12]+1700485571&4294967295,w=I+(k<<6&4294967295|k>>>26),k=A+(I^(w|~T))+C[3]+2399980690&4294967295,A=w+(k<<10&4294967295|k>>>22),k=T+(w^(A|~I))+C[10]+4293915773&4294967295,T=A+(k<<15&4294967295|k>>>17),k=I+(A^(T|~w))+C[1]+2240044497&4294967295,I=T+(k<<21&4294967295|k>>>11),k=w+(T^(I|~A))+C[8]+1873313359&4294967295,w=I+(k<<6&4294967295|k>>>26),k=A+(I^(w|~T))+C[15]+4264355552&4294967295,A=w+(k<<10&4294967295|k>>>22),k=T+(w^(A|~I))+C[6]+2734768916&4294967295,T=A+(k<<15&4294967295|k>>>17),k=I+(A^(T|~w))+C[13]+1309151649&4294967295,I=T+(k<<21&4294967295|k>>>11),k=w+(T^(I|~A))+C[4]+4149444226&4294967295,w=I+(k<<6&4294967295|k>>>26),k=A+(I^(w|~T))+C[11]+3174756917&4294967295,A=w+(k<<10&4294967295|k>>>22),k=T+(w^(A|~I))+C[2]+718787259&4294967295,T=A+(k<<15&4294967295|k>>>17),k=I+(A^(T|~w))+C[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(T+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+T&4294967295,N.g[3]=N.g[3]+A&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,C=this.C;let T=this.h,A=0;for(;A<w;){if(T==0)for(;A<=I;)r(this,N,A),A+=this.blockSize;if(typeof N=="string"){for(;A<w;)if(C[T++]=N.charCodeAt(A++),T==this.blockSize){r(this,C),T=0;break}}else for(;A<w;)if(C[T++]=N[A++],T==this.blockSize){r(this,C),T=0;break}}this.h=T,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let C=0;C<32;C+=8)N[w++]=this.g[I]>>>C&255;return N};function i(N,w){var I=l;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function a(N,w){this.h=w;const I=[];let C=!0;for(let T=N.length-1;T>=0;T--){const A=N[T]|0;C&&A==w||(I[T]=A,C=!1)}this.g=I}var l={};function c(N){return-128<=N&&N<128?i(N,function(w){return new a([w|0],w<0?-1:0)}):new a([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return f;if(N<0)return j(u(-N));const w=[];let I=1;for(let C=0;N>=I;C++)w[C]=N/I|0,I*=4294967296;return new a(w,0)}function h(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return j(h(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(w,8));let C=f;for(let A=0;A<N.length;A+=8){var T=Math.min(8,N.length-A);const k=parseInt(N.substring(A,A+T),w);T<8?(T=u(Math.pow(w,T)),C=C.j(T).add(u(k))):(C=C.j(I),C=C.add(u(k)))}return C}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(_(this))return-j(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const C=this.i(I);N+=(C>=0?C:4294967296+C)*w,w*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(_(this))return"-"+j(this).toString(N);const w=u(Math.pow(N,6));var I=this;let C="";for(;;){const T=P(I,w).g;I=y(I,T.j(w));let A=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=T,b(I))return A+C;for(;A.length<6;)A="0"+A;C=A+C}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function _(N){return N.h==-1}t.l=function(N){return N=y(this,N),_(N)?-1:b(N)?0:1};function j(N){const w=N.g.length,I=[];for(let C=0;C<w;C++)I[C]=~N.g[C];return new a(I,~N.h).add(m)}t.abs=function(){return _(this)?j(this):this},t.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let C=0;for(let T=0;T<=w;T++){let A=C+(this.i(T)&65535)+(N.i(T)&65535),k=(A>>>16)+(this.i(T)>>>16)+(N.i(T)>>>16);C=k>>>16,A&=65535,k&=65535,I[T]=k<<16|A}return new a(I,I[I.length-1]&-2147483648?-1:0)};function y(N,w){return N.add(j(w))}t.j=function(N){if(b(this)||b(N))return f;if(_(this))return _(N)?j(this).j(j(N)):j(j(this).j(N));if(_(N))return j(this.j(j(N)));if(this.l(g)<0&&N.l(g)<0)return u(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var C=0;C<2*w;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(let T=0;T<N.g.length;T++){const A=this.i(C)>>>16,k=this.i(C)&65535,J=N.i(T)>>>16,X=N.i(T)&65535;I[2*C+2*T]+=k*X,v(I,2*C+2*T),I[2*C+2*T+1]+=A*X,v(I,2*C+2*T+1),I[2*C+2*T+1]+=k*J,v(I,2*C+2*T+1),I[2*C+2*T+2]+=A*J,v(I,2*C+2*T+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new a(I,0)};function v(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function E(N,w){this.g=N,this.h=w}function P(N,w){if(b(w))throw Error("division by zero");if(b(N))return new E(f,f);if(_(N))return w=P(j(N),w),new E(j(w.g),j(w.h));if(_(w))return w=P(N,j(w)),new E(j(w.g),w.h);if(N.g.length>30){if(_(N)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=w;C.l(N)<=0;)I=R(I),C=R(C);var T=M(I,1),A=M(C,1);for(C=M(C,2),I=M(I,2);!b(C);){var k=A.add(C);k.l(N)<=0&&(T=T.add(I),A=k),C=M(C,1),I=M(I,1)}return w=y(N,T.j(w)),new E(T,w)}for(T=f;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),A=u(I),k=A.j(w);_(k)||k.l(N)>0;)I-=C,A=u(I),k=A.j(w);b(A)&&(A=m),T=T.add(A),N=y(N,k)}return new E(T,N)}t.B=function(N){return P(this,N).h},t.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let C=0;C<w;C++)I[C]=this.i(C)&N.i(C);return new a(I,this.h&N.h)},t.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let C=0;C<w;C++)I[C]=this.i(C)|N.i(C);return new a(I,this.h|N.h)},t.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let C=0;C<w;C++)I[C]=this.i(C)^N.i(C);return new a(I,this.h^N.h)};function R(N){const w=N.g.length+1,I=[];for(let C=0;C<w;C++)I[C]=N.i(C)<<1|N.i(C-1)>>>31;return new a(I,N.h)}function M(N,w){const I=w>>5;w%=32;const C=N.g.length-I,T=[];for(let A=0;A<C;A++)T[A]=w>0?N.i(A+I)>>>w|N.i(A+I+1)<<32-w:N.i(A+I);return new a(T,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uN=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,gr=a}).apply(typeof pb<"u"?pb:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dN,Po,hN,Du,ip,fN,mN,pN;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var p=0;p<d.length;++p){var x=d[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function r(d,p){if(p)e:{var x=s;d=d.split(".");for(var S=0;S<d.length-1;S++){var D=d[S];if(!(D in x))break e;x=x[D]}d=d[d.length-1],S=x[d],p=p(S),p!=S&&p!=null&&e(x,d,{configurable:!0,writable:!0,value:p})}}r("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(d){return d||function(p){var x=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&x.push([S,p[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function c(d,p,x){return d.call.apply(d.bind,arguments)}function u(d,p,x){return u=c,u.apply(null,arguments)}function h(d,p){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function f(d,p){function x(){}x.prototype=p.prototype,d.Z=p.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(S,D,L){for(var q=Array(arguments.length-2),le=2;le<arguments.length;le++)q[le-2]=arguments[le];return p.prototype[D].apply(S,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function g(d){const p=d.length;if(p>0){const x=Array(p);for(let S=0;S<p;S++)x[S]=d[S];return x}return[]}function b(d,p){for(let S=1;S<arguments.length;S++){const D=arguments[S];var x=typeof D;if(x=x!="object"?x:D?Array.isArray(D)?"array":x:"null",x=="array"||x=="object"&&typeof D.length=="number"){x=d.length||0;const L=D.length||0;d.length=x+L;for(let q=0;q<L;q++)d[x+q]=D[q]}else d.push(D)}}class _{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function j(d){a.setTimeout(()=>{throw d},0)}function y(){var d=N;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,x){const S=E.get();S.set(p,x),this.h?this.h.next=S:this.g=S,this.h=S}}var E=new _(()=>new P,d=>d.reset());class P{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let R,M=!1,N=new v,w=()=>{const d=Promise.resolve(void 0);R=()=>{d.then(I)}};function I(){for(var d;d=y();){try{d.h.call(d.g)}catch(x){j(x)}var p=E;p.j(d),p.h<100&&(p.h++,d.next=p.g,p.g=d)}M=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};a.addEventListener("test",x,p),a.removeEventListener("test",x,p)}catch{}return d}();function k(d){return/^[\s\xa0]*$/.test(d)}function J(d,p){T.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,p)}f(J,T),J.prototype.init=function(d,p){const x=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget,p||(x=="mouseover"?p=d.fromElement:x=="mouseout"&&(p=d.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),ne=0;function ae(d,p,x,S,D){this.listener=d,this.proxy=null,this.src=p,this.type=x,this.capture=!!S,this.ha=D,this.key=++ne,this.da=this.fa=!1}function U(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function H(d,p,x){for(const S in d)p.call(x,d[S],S,d)}function Z(d,p){for(const x in d)p.call(void 0,d[x],x,d)}function ue(d){const p={};for(const x in d)p[x]=d[x];return p}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function We(d,p){let x,S;for(let D=1;D<arguments.length;D++){S=arguments[D];for(x in S)d[x]=S[x];for(let L=0;L<oe.length;L++)x=oe[L],Object.prototype.hasOwnProperty.call(S,x)&&(d[x]=S[x])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,p,x,S,D){const L=d.toString();d=this.g[L],d||(d=this.g[L]=[],this.h++);const q=Ge(d,p,S,D);return q>-1?(p=d[q],x||(p.fa=!1)):(p=new ae(p,this.src,L,!!S,D),p.fa=x,d.push(p)),p};function jt(d,p){const x=p.type;if(x in d.g){var S=d.g[x],D=Array.prototype.indexOf.call(S,p,void 0),L;(L=D>=0)&&Array.prototype.splice.call(S,D,1),L&&(U(p),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ge(d,p,x,S){for(let D=0;D<d.length;++D){const L=d[D];if(!L.da&&L.listener==p&&L.capture==!!x&&L.ha==S)return D}return-1}var Zt="closure_lm_"+(Math.random()*1e6|0),$a={};function Pr(d,p,x,S,D){if(S&&S.once)return fc(d,p,x,S,D);if(Array.isArray(p)){for(let L=0;L<p.length;L++)Pr(d,p[L],x,S,D);return null}return x=Ci(x),d&&d[X]?d.J(p,x,l(S)?!!S.capture:!!S,D):hc(d,p,x,!1,S,D)}function hc(d,p,x,S,D,L){if(!p)throw Error("Invalid event type");const q=l(D)?!!D.capture:!!D;let le=As(d);if(le||(d[Zt]=le=new ye(d)),x=le.add(p,x,S,q,L),x.proxy)return x;if(S=Ti(),x.proxy=S,S.src=d,S.listener=x,d.addEventListener)A||(D=q),D===void 0&&(D=!1),d.addEventListener(p.toString(),S,D);else if(d.attachEvent)d.attachEvent(ki(p.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ti(){function d(x){return p.call(d.src,d.listener,x)}const p=_n;return d}function fc(d,p,x,S,D){if(Array.isArray(p)){for(let L=0;L<p.length;L++)fc(d,p[L],x,S,D);return null}return x=Ci(x),d&&d[X]?d.K(p,x,l(S)?!!S.capture:!!S,D):hc(d,p,x,!0,S,D)}function Rr(d,p,x,S,D){if(Array.isArray(p))for(var L=0;L<p.length;L++)Rr(d,p[L],x,S,D);else S=l(S)?!!S.capture:!!S,x=Ci(x),d&&d[X]?(d=d.i,L=String(p).toString(),L in d.g&&(p=d.g[L],x=Ge(p,x,S,D),x>-1&&(U(p[x]),Array.prototype.splice.call(p,x,1),p.length==0&&(delete d.g[L],d.h--)))):d&&(d=As(d))&&(p=d.g[p.toString()],d=-1,p&&(d=Ge(p,x,S,D)),(x=d>-1?p[d]:null)&&Mn(x))}function Mn(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[X])jt(p.i,d);else{var x=d.type,S=d.proxy;p.removeEventListener?p.removeEventListener(x,S,d.capture):p.detachEvent?p.detachEvent(ki(x),S):p.addListener&&p.removeListener&&p.removeListener(S),(x=As(p))?(jt(x,d),x.h==0&&(x.src=null,p[Zt]=null)):U(d)}}}function ki(d){return d in $a?$a[d]:$a[d]="on"+d}function _n(d,p){if(d.da)d=!0;else{p=new J(p,this);const x=d.listener,S=d.ha||d.src;d.fa&&Mn(d),d=x.call(S,p)}return d}function As(d){return d=d[Zt],d instanceof ye?d:null}var ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ci(d){return typeof d=="function"?d:(d[ss]||(d[ss]=function(p){return d.handleEvent(p)}),d[ss])}function nt(){C.call(this),this.i=new ye(this),this.M=this,this.G=null}f(nt,C),nt.prototype[X]=!0,nt.prototype.removeEventListener=function(d,p,x,S){Rr(this,d,p,x,S)};function Xe(d,p){var x,S=d.G;if(S)for(x=[];S;S=S.G)x.push(S);if(d=d.M,S=p.type||p,typeof p=="string")p=new T(p,d);else if(p instanceof T)p.target=p.target||d;else{var D=p;p=new T(S,d),We(p,D)}D=!0;let L,q;if(x)for(q=x.length-1;q>=0;q--)L=p.g=x[q],D=rs(L,S,!0,p)&&D;if(L=p.g=d,D=rs(L,S,!0,p)&&D,D=rs(L,S,!1,p)&&D,x)for(q=0;q<x.length;q++)L=p.g=x[q],D=rs(L,S,!1,p)&&D}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var d=this.i;for(const p in d.g){const x=d.g[p];for(let S=0;S<x.length;S++)U(x[S]);delete d.g[p],d.h--}}this.G=null},nt.prototype.J=function(d,p,x,S){return this.i.add(String(d),p,!1,x,S)},nt.prototype.K=function(d,p,x,S){return this.i.add(String(d),p,!0,x,S)};function rs(d,p,x,S){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();let D=!0;for(let L=0;L<p.length;++L){const q=p[L];if(q&&!q.da&&q.capture==x){const le=q.listener,st=q.ha||q.src;q.fa&&jt(d.i,q),D=le.call(st,S)!==!1&&D}}return D&&!S.defaultPrevented}function mc(d,p){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:a.setTimeout(d,p||0)}function pc(d){d.g=mc(()=>{d.g=null,d.i&&(d.i=!1,pc(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class gc extends C{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:pc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(d){C.call(this),this.h=d,this.g={}}f(Mr,C);var xc=[];function yc(d){H(d.g,function(p,x){this.g.hasOwnProperty(x)&&Mn(p)},d),d.g={}}Mr.prototype.N=function(){Mr.Z.N.call(this),yc(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=a.JSON.stringify,Vh=a.JSON.parse,Fh=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function bc(){}function Ga(){}var Dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ka(){T.call(this,"d")}f(Ka,T);function Qa(){T.call(this,"c")}f(Qa,T);var Nn={},vc=null;function Or(){return vc=vc||new nt}Nn.Ia="serverreachability";function wc(d){T.call(this,Nn.Ia,d)}f(wc,T);function Ut(d){const p=Or();Xe(p,new wc(p))}Nn.STAT_EVENT="statevent";function Ya(d,p){T.call(this,Nn.STAT_EVENT,d),this.stat=p}f(Ya,T);function O(d){const p=Or();Xe(p,new Ya(p,d))}Nn.Ja="timingevent";function W(d,p){T.call(this,Nn.Ja,d),this.size=p}f(W,T);function G(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function ve(){this.g=!0}ve.prototype.ua=function(){this.g=!1};function un(d,p,x,S,D,L){d.info(function(){if(d.g)if(L){var q="",le=L.split("&");for(let Ie=0;Ie<le.length;Ie++){var st=le[Ie].split("=");if(st.length>1){const ht=st[0];st=st[1];const Ln=ht.split("_");q=Ln.length>=2&&Ln[1]=="type"?q+(ht+"="+st+"&"):q+(ht+"=redacted&")}}}else q=null;else q=L;return"XMLHTTP REQ ("+S+") [attempt "+D+"]: "+p+`
`+x+`
`+q})}function Pi(d,p,x,S,D,L,q){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+D+"]: "+p+`
`+x+`
`+L+" "+q})}function Dn(d,p,x,S){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+Uh(d,x)+(S?" "+S:"")})}function zh(d,p){d.info(function(){return"TIMEOUT: "+p})}ve.prototype.info=function(){};function Uh(d,p){if(!d.g)return p;if(!p)return null;try{const L=JSON.parse(p);if(L){for(d=0;d<L.length;d++)if(Array.isArray(L[d])){var x=L[d];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var D=S[0];if(D!="noop"&&D!="stop"&&D!="close")for(let q=1;q<S.length;q++)S[q]=""}}}}return Ai(L)}catch{return p}}var _c={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vx={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fx;function Bh(){}f(Bh,bc),Bh.prototype.g=function(){return new XMLHttpRequest},Fx=new Bh;function Xa(d){return encodeURIComponent(String(d))}function Oj(d){var p=1;d=d.split(":");const x=[];for(;p>0&&d.length;)x.push(d.shift()),p--;return d.length&&x.push(d.join(":")),x}function Ps(d,p,x,S){this.j=d,this.i=p,this.l=x,this.S=S||1,this.V=new Mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zx}function zx(){this.i=null,this.g="",this.h=!1}var Ux={},Wh={};function qh(d,p,x){d.M=1,d.A=Ec(On(p)),d.u=x,d.R=!0,Bx(d,null)}function Bx(d,p){d.F=Date.now(),Nc(d),d.B=On(d.A);var x=d.B,S=d.S;Array.isArray(S)||(S=[String(S)]),t0(x.i,"t",S),d.C=0,x=d.j.L,d.h=new zx,d.g=b0(d.j,x?p:null,!d.u),d.P>0&&(d.O=new gc(u(d.Y,d,d.g),d.P)),p=d.V,x=d.g,S=d.ba;var D="readystatechange";Array.isArray(D)||(D&&(xc[0]=D.toString()),D=xc);for(let L=0;L<D.length;L++){const q=Pr(x,D[L],S||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=d.J?ue(d.J):{},d.u?(d.v||(d.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,p)):(d.v="GET",d.g.ea(d.B,d.v,null,p)),Ut(),un(d.i,d.v,d.B,d.l,d.S,d.u)}Ps.prototype.ba=function(d){d=d.target;const p=this.O;p&&Ds(d)==3?p.j():this.Y(d)},Ps.prototype.Y=function(d){try{if(d==this.g)e:{const le=Ds(this.g),st=this.g.ya(),Ie=this.g.ca();if(!(le<3)&&(le!=3||this.g&&(this.h.h||this.g.la()||l0(this.g)))){this.K||le!=4||st==7||(st==8||Ie<=0?Ut(3):Ut(2)),Hh(this);var p=this.g.ca();this.X=p;var x=Lj(this);if(this.o=p==200,Pi(this.i,this.v,this.B,this.l,this.S,le,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,D=this.g;if((S=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(S)){var L=S;break t}}L=null}if(d=L)Dn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$h(this,d);else{this.o=!1,this.m=3,O(12),Lr(this),Ja(this);break e}}if(this.R){d=!0;let ht;for(;!this.K&&this.C<x.length;)if(ht=Vj(this,x),ht==Wh){le==4&&(this.m=4,O(14),d=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Ux){this.m=4,O(15),Dn(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else Dn(this.i,this.l,ht,null),$h(this,ht);if(Wx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),le!=4||x.length!=0||this.h.h||(this.m=1,O(16),d=!1),this.o=this.o&&d,!d)Dn(this.i,this.l,x,"[Invalid Chunked Response]"),Lr(this),Ja(this);else if(x.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ef(q),q.P=!0,O(11))}}else Dn(this.i,this.l,x,null),$h(this,x);le==4&&Lr(this),this.o&&!this.K&&(le==4?p0(this.j,this):(this.o=!1,Nc(this)))}else Jj(this.g),p==400&&x.indexOf("Unknown SID")>0?(this.m=3,O(12)):(this.m=0,O(13)),Lr(this),Ja(this)}}}catch{}finally{}};function Lj(d){if(!Wx(d))return d.g.la();const p=l0(d.g);if(p==="")return"";let x="";const S=p.length,D=Ds(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Lr(d),Ja(d),"";d.h.i=new a.TextDecoder}for(let L=0;L<S;L++)d.h.h=!0,x+=d.h.i.decode(p[L],{stream:!(D&&L==S-1)});return p.length=0,d.h.g+=x,d.C=0,d.h.g}function Wx(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Vj(d,p){var x=d.C,S=p.indexOf(`
`,x);return S==-1?Wh:(x=Number(p.substring(x,S)),isNaN(x)?Ux:(S+=1,S+x>p.length?Wh:(p=p.slice(S,S+x),d.C=S+x,p)))}Ps.prototype.cancel=function(){this.K=!0,Lr(this)};function Nc(d){d.T=Date.now()+d.H,qx(d,d.H)}function qx(d,p){if(d.D!=null)throw Error("WatchDog timer not null");d.D=G(u(d.aa,d),p)}function Hh(d){d.D&&(a.clearTimeout(d.D),d.D=null)}Ps.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(zh(this.i,this.B),this.M!=2&&(Ut(),O(17)),Lr(this),this.m=2,Ja(this)):qx(this,this.T-d)};function Ja(d){d.j.I==0||d.K||p0(d.j,d)}function Lr(d){Hh(d);var p=d.O;p&&typeof p.dispose=="function"&&p.dispose(),d.O=null,yc(d.V),d.g&&(p=d.g,d.g=null,p.abort(),p.dispose())}function $h(d,p){try{var x=d.j;if(x.I!=0&&(x.g==d||Gh(x.h,d))){if(!d.L&&Gh(x.h,d)&&x.I==3){try{var S=x.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var D=S;if(D[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)kc(x),Ic(x);else break e;Zh(x),O(18)}}else x.xa=D[1],0<x.xa-x.K&&D[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=G(u(x.Va,x),6e3));Gx(x.h)<=1&&x.ta&&(x.ta=void 0)}else Fr(x,11)}else if((d.L||x.g==d)&&kc(x),!k(p))for(D=x.Ba.g.parse(p),p=0;p<D.length;p++){let Ie=D[p];const ht=Ie[0];if(!(ht<=x.K))if(x.K=ht,Ie=Ie[1],x.I==2)if(Ie[0]=="c"){x.M=Ie[1],x.ba=Ie[2];const Ln=Ie[3];Ln!=null&&(x.ka=Ln,x.j.info("VER="+x.ka));const zr=Ie[4];zr!=null&&(x.za=zr,x.j.info("SVER="+x.za));const Os=Ie[5];Os!=null&&typeof Os=="number"&&Os>0&&(S=1.5*Os,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const Ls=d.g;if(Ls){const Ac=Ls.g?Ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ac){var L=S.h;L.g||Ac.indexOf("spdy")==-1&&Ac.indexOf("quic")==-1&&Ac.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Kh(L,L.h),L.h=null))}if(S.G){const tf=Ls.g?Ls.g.getResponseHeader("X-HTTP-Session-Id"):null;tf&&(S.wa=tf,Ce(S.J,S.G,tf))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var q=d;if(S.na=y0(S,S.L?S.ba:null,S.W),q.L){Kx(S.h,q);var le=q,st=S.O;st&&(le.H=st),le.D&&(Hh(le),Nc(le)),S.g=q}else f0(S);x.i.length>0&&Tc(x)}else Ie[0]!="stop"&&Ie[0]!="close"||Fr(x,7);else x.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Fr(x,7):Jh(x):Ie[0]!="noop"&&x.l&&x.l.qa(Ie),x.A=0)}}Ut(4)}catch{}}var Fj=class{constructor(d,p){this.g=d,this.map=p}};function Hx(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $x(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gx(d){return d.h?1:d.g?d.g.size:0}function Gh(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function Kh(d,p){d.g?d.g.add(p):d.h=p}function Kx(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}Hx.prototype.cancel=function(){if(this.i=Qx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Qx(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const x of d.g.values())p=p.concat(x.G);return p}return g(d.i)}var Yx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zj(d,p){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const S=d[x].indexOf("=");let D,L=null;S>=0?(D=d[x].substring(0,S),L=d[x].substring(S+1)):D=d[x],p(D,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Rs(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;d instanceof Rs?(this.l=d.l,Za(this,d.j),this.o=d.o,this.g=d.g,eo(this,d.u),this.h=d.h,Qh(this,n0(d.i)),this.m=d.m):d&&(p=String(d).match(Yx))?(this.l=!1,Za(this,p[1]||"",!0),this.o=to(p[2]||""),this.g=to(p[3]||"",!0),eo(this,p[4]),this.h=to(p[5]||"",!0),Qh(this,p[6]||"",!0),this.m=to(p[7]||"")):(this.l=!1,this.i=new so(null,this.l))}Rs.prototype.toString=function(){const d=[];var p=this.j;p&&d.push(no(p,Xx,!0),":");var x=this.g;return(x||p=="file")&&(d.push("//"),(p=this.o)&&d.push(no(p,Xx,!0),"@"),d.push(Xa(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(no(x,x.charAt(0)=="/"?Wj:Bj,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",no(x,Hj)),d.join("")},Rs.prototype.resolve=function(d){const p=On(this);let x=!!d.j;x?Za(p,d.j):x=!!d.o,x?p.o=d.o:x=!!d.g,x?p.g=d.g:x=d.u!=null;var S=d.h;if(x)eo(p,d.u);else if(x=!!d.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var D=p.h.lastIndexOf("/");D!=-1&&(S=p.h.slice(0,D+1)+S)}if(D=S,D==".."||D==".")S="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){S=D.lastIndexOf("/",0)==0,D=D.split("/");const L=[];for(let q=0;q<D.length;){const le=D[q++];le=="."?S&&q==D.length&&L.push(""):le==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),S&&q==D.length&&L.push("")):(L.push(le),S=!0)}S=L.join("/")}else S=D}return x?p.h=S:x=d.i.toString()!=="",x?Qh(p,n0(d.i)):x=!!d.m,x&&(p.m=d.m),p};function On(d){return new Rs(d)}function Za(d,p,x){d.j=x?to(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function eo(d,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);d.u=p}else d.u=null}function Qh(d,p,x){p instanceof so?(d.i=p,$j(d.i,d.l)):(x||(p=no(p,qj)),d.i=new so(p,d.l))}function Ce(d,p,x){d.i.set(p,x)}function Ec(d){return Ce(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function to(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function no(d,p,x){return typeof d=="string"?(d=encodeURI(d).replace(p,Uj),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Uj(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xx=/[#\/\?@]/g,Bj=/[#\?:]/g,Wj=/[#\?]/g,qj=/[#\?@]/g,Hj=/#/g;function so(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function Vr(d){d.g||(d.g=new Map,d.h=0,d.i&&zj(d.i,function(p,x){d.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}t=so.prototype,t.add=function(d,p){Vr(this),this.i=null,d=Ri(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(p),this.h+=1,this};function Jx(d,p){Vr(d),p=Ri(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function Zx(d,p){return Vr(d),p=Ri(d,p),d.g.has(p)}t.forEach=function(d,p){Vr(this),this.g.forEach(function(x,S){x.forEach(function(D){d.call(p,D,S,this)},this)},this)};function e0(d,p){Vr(d);let x=[];if(typeof p=="string")Zx(d,p)&&(x=x.concat(d.g.get(Ri(d,p))));else for(d=Array.from(d.g.values()),p=0;p<d.length;p++)x=x.concat(d[p]);return x}t.set=function(d,p){return Vr(this),this.i=null,d=Ri(this,d),Zx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=e0(this,d),d.length>0?String(d[0]):p):p};function t0(d,p,x){Jx(d,p),x.length>0&&(d.i=null,d.g.set(Ri(d,p),g(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var x=p[S];const D=Xa(x);x=e0(this,x);for(let L=0;L<x.length;L++){let q=D;x[L]!==""&&(q+="="+Xa(x[L])),d.push(q)}}return this.i=d.join("&")};function n0(d){const p=new so;return p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),p}function Ri(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function $j(d,p){p&&!d.j&&(Vr(d),d.i=null,d.g.forEach(function(x,S){const D=S.toLowerCase();S!=D&&(Jx(this,S),t0(this,D,x))},d)),d.j=p}function Gj(d,p){const x=new ve;if(a.Image){const S=new Image;S.onload=h(Ms,x,"TestLoadImage: loaded",!0,p,S),S.onerror=h(Ms,x,"TestLoadImage: error",!1,p,S),S.onabort=h(Ms,x,"TestLoadImage: abort",!1,p,S),S.ontimeout=h(Ms,x,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else p(!1)}function Kj(d,p){const x=new ve,S=new AbortController,D=setTimeout(()=>{S.abort(),Ms(x,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:S.signal}).then(L=>{clearTimeout(D),L.ok?Ms(x,"TestPingServer: ok",!0,p):Ms(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),Ms(x,"TestPingServer: error",!1,p)})}function Ms(d,p,x,S,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),S(x)}catch{}}function Qj(){this.g=new Fh}function Yh(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Yh,bc),Yh.prototype.g=function(){return new jc(this.i,this.h)};function jc(d,p){nt.call(this),this.H=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(jc,nt),t=jc.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=p,this.readyState=1,io(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(p.body=d),(this.H||a).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;s0(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function s0(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?ro(this):io(this),this.readyState==3&&s0(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,ro(this))},t.Na=function(d){this.g&&(this.response=d,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(d){d.readyState=4,d.l=null,d.j=null,d.B=null,io(d)}t.setRequestHeader=function(d,p){this.A.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=p.next();return d.join(`\r
`)};function io(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function r0(d){let p="";return H(d,function(x,S){p+=S,p+=":",p+=x,p+=`\r
`}),p}function Xh(d,p,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=r0(x),typeof d=="string"?x!=null&&Xa(x):Ce(d,p,x))}function qe(d){nt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(qe,nt);var Yj=/^https?$/i,Xj=["POST","PUT"];t=qe.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,p,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fx.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(L){i0(this,L);return}if(d=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var D in S)x.set(D,S[D]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())x.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(L=>L.toLowerCase()=="content-type"),D=a.FormData&&d instanceof a.FormData,!(Array.prototype.indexOf.call(Xj,p,void 0)>=0)||S||D||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of x)this.g.setRequestHeader(L,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(L){i0(this,L)}};function i0(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.o=5,a0(d),Sc(d)}function a0(d){d.A||(d.A=!0,Xe(d,"complete"),Xe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Xe(this,"complete"),Xe(this,"abort"),Sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sc(this,!0)),qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?o0(this):this.Xa())},t.Xa=function(){o0(this)};function o0(d){if(d.h&&typeof i<"u"){if(d.v&&Ds(d)==4)setTimeout(d.Ca.bind(d),0);else if(Xe(d,"readystatechange"),Ds(d)==4){d.h=!1;try{const L=d.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var S;if(S=L===0){let q=String(d.D).match(Yx)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),S=!Yj.test(q?q.toLowerCase():"")}x=S}if(x)Xe(d,"complete"),Xe(d,"success");else{d.o=6;try{var D=Ds(d)>2?d.g.statusText:""}catch{D=""}d.l=D+" ["+d.ca()+"]",a0(d)}}finally{Sc(d)}}}}function Sc(d,p){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,p||Xe(d,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ds(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),Vh(p)}};function l0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Jj(d){const p={};d=(d.g&&Ds(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(k(d[S]))continue;var x=Oj(d[S]);const D=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const L=p[D]||[];p[D]=L,L.push(x)}Z(p,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ao(d,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||p}function c0(d){this.za=0,this.i=[],this.j=new ve,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ao("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ao("baseRetryDelayMs",5e3,d),this.Za=ao("retryDelaySeedMs",1e4,d),this.Ta=ao("forwardChannelMaxRetries",2,d),this.va=ao("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Hx(d&&d.concurrentRequestLimit),this.Ba=new Qj,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=c0.prototype,t.ka=8,t.I=1,t.connect=function(d,p,x,S){O(0),this.W=d,this.H=p||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=y0(this,null,this.W),Tc(this)};function Jh(d){if(u0(d),d.I==3){var p=d.V++,x=On(d.J);if(Ce(x,"SID",d.M),Ce(x,"RID",p),Ce(x,"TYPE","terminate"),oo(d,x),p=new Ps(d,d.j,p),p.M=2,p.A=Ec(On(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(p.A.toString(),"")}catch{}!x&&a.Image&&(new Image().src=p.A,x=!0),x||(p.g=b0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Nc(p)}x0(d)}function Ic(d){d.g&&(ef(d),d.g.cancel(),d.g=null)}function u0(d){Ic(d),d.v&&(a.clearTimeout(d.v),d.v=null),kc(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&a.clearTimeout(d.m),d.m=null)}function Tc(d){if(!$x(d.h)&&!d.m){d.m=!0;var p=d.Ea;R||w(),M||(R(),M=!0),N.add(p,d),d.D=0}}function Zj(d,p){return Gx(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=p.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=G(u(d.Ea,d,p),g0(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const D=new Ps(this,this.j,d);let L=this.o;if(this.U&&(L?(L=ue(L),We(L,this.U)):L=this.U),this.u!==null||this.R||(D.J=L,L=null),this.S)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=h0(this,D,p),x=On(this.J),Ce(x,"RID",d),Ce(x,"CVER",22),this.G&&Ce(x,"X-HTTP-Session-Id",this.G),oo(this,x),L&&(this.R?p="headers="+Xa(r0(L))+"&"+p:this.u&&Xh(x,this.u,L)),Kh(this.h,D),this.Ra&&Ce(x,"TYPE","init"),this.S?(Ce(x,"$req",p),Ce(x,"SID","null"),D.U=!0,qh(D,x,null)):qh(D,x,p),this.I=2}}else this.I==3&&(d?d0(this,d):this.i.length==0||$x(this.h)||d0(this))};function d0(d,p){var x;p?x=p.l:x=d.V++;const S=On(d.J);Ce(S,"SID",d.M),Ce(S,"RID",x),Ce(S,"AID",d.K),oo(d,S),d.u&&d.o&&Xh(S,d.u,d.o),x=new Ps(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),p&&(d.i=p.G.concat(d.i)),p=h0(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Kh(d.h,x),qh(x,S,p)}function oo(d,p){d.H&&H(d.H,function(x,S){Ce(p,S,x)}),d.l&&H({},function(x,S){Ce(p,S,x)})}function h0(d,p,x){x=Math.min(d.i.length,x);const S=d.l?u(d.l.Ka,d.l,d):null;e:{var D=d.i;let le=-1;for(;;){const st=["count="+x];le==-1?x>0?(le=D[0].g,st.push("ofs="+le)):le=0:st.push("ofs="+le);let Ie=!0;for(let ht=0;ht<x;ht++){var L=D[ht].g;const Ln=D[ht].map;if(L-=le,L<0)le=Math.max(0,D[ht].g-100),Ie=!1;else try{L="req"+L+"_"||"";try{var q=Ln instanceof Map?Ln:Object.entries(Ln);for(const[zr,Os]of q){let Ls=Os;l(Os)&&(Ls=Ai(Os)),st.push(L+zr+"="+encodeURIComponent(Ls))}}catch(zr){throw st.push(L+"type="+encodeURIComponent("_badmap")),zr}}catch{S&&S(Ln)}}if(Ie){q=st.join("&");break e}}q=void 0}return d=d.i.splice(0,x),p.G=d,q}function f0(d){if(!d.g&&!d.v){d.Y=1;var p=d.Da;R||w(),M||(R(),M=!0),N.add(p,d),d.A=0}}function Zh(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=G(u(d.Da,d),g0(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,m0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=G(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,O(10),Ic(this),m0(this))};function ef(d){d.B!=null&&(a.clearTimeout(d.B),d.B=null)}function m0(d){d.g=new Ps(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var p=On(d.na);Ce(p,"RID","rpc"),Ce(p,"SID",d.M),Ce(p,"AID",d.K),Ce(p,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ce(p,"TO",d.ia),Ce(p,"TYPE","xmlhttp"),oo(d,p),d.u&&d.o&&Xh(p,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Ec(On(p)),x.u=null,x.R=!0,Bx(x,d)}t.Va=function(){this.C!=null&&(this.C=null,Ic(this),Zh(this),O(19))};function kc(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function p0(d,p){var x=null;if(d.g==p){kc(d),ef(d),d.g=null;var S=2}else if(Gh(d.h,p))x=p.G,Kx(d.h,p),S=1;else return;if(d.I!=0){if(p.o)if(S==1){x=p.u?p.u.length:0,p=Date.now()-p.F;var D=d.D;S=Or(),Xe(S,new W(S,x)),Tc(d)}else f0(d);else if(D=p.m,D==3||D==0&&p.X>0||!(S==1&&Zj(d,p)||S==2&&Zh(d)))switch(x&&x.length>0&&(p=d.h,p.i=p.i.concat(x)),D){case 1:Fr(d,5);break;case 4:Fr(d,10);break;case 3:Fr(d,6);break;default:Fr(d,2)}}}function g0(d,p){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*p}function Fr(d,p){if(d.j.info("Error code "+p),p==2){var x=u(d.bb,d),S=d.Ua;const D=!S;S=new Rs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Za(S,"https"),Ec(S),D?Gj(S.toString(),x):Kj(S.toString(),x)}else O(2);d.I=0,d.l&&d.l.pa(p),x0(d),u0(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),O(2)):(this.j.info("Failed to ping google.com"),O(1))};function x0(d){if(d.I=0,d.ja=[],d.l){const p=Qx(d.h);(p.length!=0||d.i.length!=0)&&(b(d.ja,p),b(d.ja,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.oa()}}function y0(d,p,x){var S=x instanceof Rs?On(x):new Rs(x);if(S.g!="")p&&(S.g=p+"."+S.g),eo(S,S.u);else{var D=a.location;S=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;const L=new Rs(null);S&&Za(L,S),p&&(L.g=p),D&&eo(L,D),x&&(L.h=x),S=L}return x=d.G,p=d.wa,x&&p&&Ce(S,x,p),Ce(S,"VER",d.ka),oo(d,S),S}function b0(d,p,x){if(p&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Aa&&!d.ma?new qe(new Yh({ab:x})):new qe(d.ma),p.Fa(d.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function v0(){}t=v0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Cc(){}Cc.prototype.g=function(d,p){return new en(d,p)};function en(d,p){nt.call(this),this.g=new c0(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(d?d["X-WebChannel-Client-Profile"]=p.sa:d={"X-WebChannel-Client-Profile":p.sa}),this.g.U=d,(d=p&&p.Qb)&&!k(d)&&(this.g.u=d),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new Mi(this)}f(en,nt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Jh(this.g)},en.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Ai(d),d=x);p.i.push(new Fj(p.Ya++,d)),p.I==3&&Tc(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,en.Z.N.call(this)};function w0(d){Ka.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const x in p){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}f(w0,Ka);function _0(){Qa.call(this),this.status=1}f(_0,Qa);function Mi(d){this.g=d}f(Mi,v0),Mi.prototype.ra=function(){Xe(this.g,"a")},Mi.prototype.qa=function(d){Xe(this.g,new w0(d))},Mi.prototype.pa=function(d){Xe(this.g,new _0)},Mi.prototype.oa=function(){Xe(this.g,"b")},Cc.prototype.createWebChannel=Cc.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,pN=function(){return new Cc},mN=function(){return Or()},fN=Nn,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_c.NO_ERROR=0,_c.TIMEOUT=8,_c.HTTP_ERROR=6,Du=_c,Vx.COMPLETE="complete",hN=Vx,Ga.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",nt.prototype.listen=nt.prototype.J,Po=Ga,qe.prototype.listenOnce=qe.prototype.K,qe.prototype.getLastError=qe.prototype.Ha,qe.prototype.getLastErrorCode=qe.prototype.ya,qe.prototype.getStatus=qe.prototype.ca,qe.prototype.getResponseJson=qe.prototype.La,qe.prototype.getResponseText=qe.prototype.la,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Fa,dN=qe}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const gb="@firebase/firestore",xb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Ig("@firebase/firestore");function Vi(){return mi.logLevel}function K(t,...e){if(mi.logLevel<=he.DEBUG){const n=e.map(zg);mi.debug(`Firestore (${za}): ${t}`,...n)}}function Ss(t,...e){if(mi.logLevel<=he.ERROR){const n=e.map(zg);mi.error(`Firestore (${za}): ${t}`,...n)}}function Na(t,...e){if(mi.logLevel<=he.WARN){const n=e.map(zg);mi.warn(`Firestore (${za}): ${t}`,...n)}}function zg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gN(t,s,n)}function gN(t,e,n){let s=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ss(s),new Error(s)}function Ee(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||gN(e,r,s)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class wR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _R{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ee(typeof s.accessToken=="string",31837,{l:s}),new xN(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Ct(e)}}class NR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ER{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,it(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const s=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=SR(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function fe(t,e){return t<e?-1:t>e?1:0}function ap(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return Vf(r)===Vf(i)?fe(r,i):Vf(r)?1:-1}return fe(t.length,e.length)}const IR=55296,TR=57343;function Vf(t){const e=t.charCodeAt(0);return e>=IR&&e<=TR}function Ea(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=qn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return fe(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),r=qn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?qn.extractNumericId(e).compare(qn.extractNumericId(n)):ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class Ve extends qn{construct(e,n,s){return new Ve(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends qn{construct(e,n,s){return new wt(e,n,s)}static isValidIdentifier(e){return kR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bb}static keyField(){return new wt([bb])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ve.fromString(e))}static fromName(e){return new te(Ve.fromString(e).popFirst(5))}static empty(){return new te(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AR(t,e,n,s){if(e===!0&&s===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vb(t){if(!te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function Pl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bg(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ic(t,e){if(!yN(t))throw new ee(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new ee(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=-62135596800,_b=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_b);return new Pe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wb)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_b}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ic(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:tt("string",Pe._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Pe(0,0))}static max(){return new re(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function PR(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=re.fromTimestamp(s===1e9?new Pe(n+1,0):new Pe(n,s));return new wr(r,te.empty(),e)}function RR(t){return new wr(t.readTime,t.key,Rl)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(re.min(),te.empty(),Rl)}static max(){return new wr(re.max(),te.empty(),Rl)}}function MR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==DR)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,s)=>{n(e)})}static reject(e){return new F((n,s)=>{s(e)})}static waitFor(e){return new F((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=F.resolve(!1);for(const s of e)n=n.next(r=>r?F.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new F((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&s(a)},h=>r(h))}})}static doWhile(e,n){return new F((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function LR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=-1;function wh(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function VR(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="";function FR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Nb(e)),e=zR(t.get(n),e);return Nb(e)}function zR(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case bN:n+="";break;default:n+=i}}return n}function Nb(t){return t+bN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??vt.RED,this.left=r??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new vt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new ct(wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wN("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=UR.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="server_timestamp",NN="__type__",EN="__previous_value__",jN="__local_write_time__";function qg(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NN])==null?void 0:s.stringValue)===_N}function _h(t){const e=t.mapValue.fields[EN];return qg(e)?_h(e):e}function Ml(t){const e=_r(t.mapValue.fields[jN].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s,r,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Nd="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||Nd}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Nd}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="__type__",IN="__max__",Zc={mapValue:{fields:{__type__:{stringValue:IN}}}},TN="__vector__",Ed="value";function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:qR(t)?9007199254740991:WR(t)?10:11:se(28295,{value:t})}function ts(t,e){if(t===e)return!0;const n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ml(t).isEqual(Ml(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=_r(r.timestampValue),l=_r(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Nr(r.bytesValue).isEqual(Nr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ke(r.doubleValue),l=Ke(i.doubleValue);return a===l?_d(a)===_d(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Eb(a)!==Eb(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!ts(a[c],l[c])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function Ol(t,e){return(t.values||[]).find(n=>ts(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=Er(t),s=Er(e);if(n!==s)return fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ke(i.integerValue||i.doubleValue),c=Ke(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Sb(t.timestampValue,e.timestampValue);case 4:return Sb(Ml(t),Ml(e));case 5:return ap(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Nr(i),c=Nr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=fe(l[u],c[u]);if(h!==0)return h}return fe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=fe(Ke(i.latitude),Ke(a.latitude));return l!==0?l:fe(Ke(i.longitude),Ke(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ib(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,g,b,_;const l=i.fields||{},c=a.fields||{},u=(m=l[Ed])==null?void 0:m.arrayValue,h=(g=c[Ed])==null?void 0:g.arrayValue,f=fe(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((_=h==null?void 0:h.values)==null?void 0:_.length)||0);return f!==0?f:Ib(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Zc.mapValue&&a===Zc.mapValue)return 0;if(i===Zc.mapValue)return 1;if(a===Zc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=ap(c[f],h[f]);if(m!==0)return m;const g=ja(l[c[f]],u[h[f]]);if(g!==0)return g}return fe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function Sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=_r(t),s=_r(e),r=fe(n.seconds,s.seconds);return r!==0?r:fe(n.nanos,s.nanos)}function Ib(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=ja(n[r],s[r]);if(i)return i}return fe(n.length,s.length)}function Sa(t){return op(t)}function op(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=_r(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=op(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${op(n.fields[a])}`;return r+"}"}(t.mapValue):se(61005,{value:t})}function Ou(t){switch(Er(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(t);return e?16+Ou(e):16;case 5:return 2*t.stringValue.length;case 6:return Nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Ou(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Ni(s.fields,(i,a)=>{r+=i.length+Ou(a)}),r}(t.mapValue);default:throw se(13486,{value:t})}}function lp(t){return!!t&&"integerValue"in t}function Hg(t){return!!t&&"arrayValue"in t}function Tb(t){return!!t&&"nullValue"in t}function kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lu(t){return!!t&&"mapValue"in t}function WR(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SN])==null?void 0:s.stringValue)===TN}function tl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=tl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return{...t}}function qR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=wt.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=tl(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Lu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ni(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new mn(tl(this.value))}}function kN(t){const e=[];return Ni(t.fields,(n,s)=>{const r=new wt([n]);if(Lu(s)){const i=kN(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Pt(e,0,re.min(),re.min(),re.min(),mn.empty(),0)}static newFoundDocument(e,n,s,r){return new Pt(e,1,n,re.min(),s,r,0)}static newNoDocument(e,n){return new Pt(e,2,n,re.min(),re.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,re.min(),re.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.position=e,this.inclusive=n}}function Cb(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=te.comparator(te.fromName(a.referenceValue),n.key):s=ja(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ab(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function HR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{}class at extends CN{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GR(e,n,s):n==="array-contains"?new YR(e,s):n==="in"?new XR(e,s):n==="not-in"?new JR(e,s):n==="array-contains-any"?new ZR(e,s):new at(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new KR(e,s):new QR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends CN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ns(e,n)}matches(e){return AN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AN(t){return t.op==="and"}function PN(t){return $R(t)&&AN(t)}function $R(t){for(const e of t.filters)if(e instanceof ns)return!1;return!0}function cp(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(PN(t))return t.filters.map(e=>cp(e)).join(",");{const e=t.filters.map(n=>cp(n)).join(",");return`${t.op}(${e})`}}function RN(t,e){return t instanceof at?function(s,r){return r instanceof at&&s.op===r.op&&s.field.isEqual(r.field)&&ts(s.value,r.value)}(t,e):t instanceof ns?function(s,r){return r instanceof ns&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&RN(a,r.filters[l]),!0):!1}(t,e):void se(19439)}function MN(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`}(t):t instanceof ns?function(n){return n.op.toString()+" {"+n.getFilters().map(MN).join(" ,")+"}"}(t):"Filter"}class GR extends at{constructor(e,n,s){super(e,n,s),this.key=te.fromName(s.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class KR extends at{constructor(e,n){super(e,"in",n),this.keys=DN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QR extends at{constructor(e,n){super(e,"not-in",n),this.keys=DN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>te.fromName(s.referenceValue))}class YR extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hg(n)&&Ol(n.arrayValue,this.value)}}class XR extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class JR extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class ZR extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ol(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Pb(t,e=null,n=[],s=[],r=null,i=null,a=null){return new e4(t,e,n,s,r,i,a)}function $g(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>cp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Sa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Sa(s)).join(",")),e.Te=n}return e.Te}function Gg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ab(t.startAt,e.startAt)&&Ab(t.endAt,e.endAt)}function up(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function t4(t,e,n,s,r,i,a,l){return new Nh(t,e,n,s,r,i,a,l)}function Kg(t){return new Nh(t)}function Rb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n4(t){return t.collectionGroup!==null}function nl(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ct(wt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Sd(i,s))}),n.has(wt.keyField().canonicalString())||e.Ie.push(new Sd(wt.keyField(),s))}return e.Ie}function Qn(t){const e=ie(t);return e.Ee||(e.Ee=s4(e,nl(t))),e.Ee}function s4(t,e){if(t.limitType==="F")return Pb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Sd(r.field,i)});const n=t.endAt?new jd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new jd(t.startAt.position,t.startAt.inclusive):null;return Pb(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function dp(t,e,n){return new Nh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return Gg(Qn(t),Qn(e))&&t.limitType===e.limitType}function ON(t){return`${$g(Qn(t))}|lt:${t.limitType}`}function Fi(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>MN(r)).join(", ")}]`),wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Sa(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Sa(r)).join(",")),`Target(${s})`}(Qn(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):te.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of nl(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const u=Cb(a,l,c);return a.inclusive?u<=0:u<0}(s.startAt,nl(s),r)||s.endAt&&!function(a,l,c){const u=Cb(a,l,c);return a.inclusive?u>=0:u>0}(s.endAt,nl(s),r))}(t,e)}function r4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LN(t){return(e,n)=>{let s=!1;for(const r of nl(t)){const i=i4(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function i4(t,e,n){const s=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?ja(c,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return vN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Ue(te.comparator);function Is(){return a4}const VN=new Ue(te.comparator);function Ro(...t){let e=VN;for(const n of t)e=e.insert(n.key,n);return e}function FN(t){let e=VN;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ei(){return sl()}function zN(){return sl()}function sl(){return new Ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const o4=new Ue(te.comparator),l4=new ct(te.comparator);function me(...t){let e=l4;for(const n of t)e=e.add(n);return e}const c4=new ct(fe);function u4(){return c4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function UN(t){return{integerValue:""+t}}function d4(t,e){return VR(e)?UN(e):Qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function h4(t,e,n){return t instanceof Id?function(r,i){const a={fields:{[NN]:{stringValue:_N},[jN]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&qg(i)&&(i=_h(i)),i&&(a.fields[EN]=i),{mapValue:a}}(n,e):t instanceof Ll?WN(t,e):t instanceof Vl?qN(t,e):function(r,i){const a=BN(r,i),l=Mb(a)+Mb(r.Ae);return lp(a)&&lp(r.Ae)?UN(l):Qg(r.serializer,l)}(t,e)}function f4(t,e,n){return t instanceof Ll?WN(t,e):t instanceof Vl?qN(t,e):n}function BN(t,e){return t instanceof Td?function(s){return lp(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Id extends Sh{}class Ll extends Sh{constructor(e){super(),this.elements=e}}function WN(t,e){const n=HN(e);for(const s of t.elements)n.some(r=>ts(r,s))||n.push(s);return{arrayValue:{values:n}}}class Vl extends Sh{constructor(e){super(),this.elements=e}}function qN(t,e){let n=HN(e);for(const s of t.elements)n=n.filter(r=>!ts(r,s));return{arrayValue:{values:n}}}class Td extends Sh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Mb(t){return Ke(t.integerValue||t.doubleValue)}function HN(t){return Hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function m4(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Ll&&r instanceof Ll||s instanceof Vl&&r instanceof Vl?Ea(s.elements,r.elements,ts):s instanceof Td&&r instanceof Td?ts(s.Ae,r.Ae):s instanceof Id&&r instanceof Id}(t.transform,e.transform)}class p4{constructor(e,n){this.version=e,this.transformResults=n}}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ih{}function $N(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KN(t.key,ys.none()):new ac(t.key,t.data,ys.none());{const n=t.data,s=mn.empty();let r=new ct(wt.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new ji(t.key,s,new kn(r.toArray()),ys.none())}}function g4(t,e,n){t instanceof ac?function(r,i,a){const l=r.value.clone(),c=Ob(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(r,i,a){if(!Vu(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Ob(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(GN(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,s){return t instanceof ac?function(i,a,l,c){if(!Vu(i.precondition,a))return l;const u=i.value.clone(),h=Lb(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof ji?function(i,a,l,c){if(!Vu(i.precondition,a))return l;const u=Lb(i.fieldTransforms,c,a),h=a.data;return h.setAll(GN(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(i,a,l){return Vu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function x4(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=BN(s.transform,r||null);i!=null&&(n===null&&(n=mn.empty()),n.set(s.field,i))}return n||null}function Db(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Ea(s,r,(i,a)=>m4(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ac extends Ih{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ji extends Ih{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function GN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Ob(t,e,n){const s=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,f4(a,l,n[r]))}return s}function Lb(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,h4(i,a,e))}return s}class KN extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y4 extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&g4(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zN();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=$N(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,s)=>Db(n,s))&&Ea(this.baseMutations,e.baseMutations,(n,s)=>Db(n,s))}}class Yg{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ee(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return o4}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new Yg(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,pe;function _4(t){switch(t){case z.OK:return se(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function QN(t){if(t===void 0)return Ss("GRPC error has no .code"),z.UNKNOWN;switch(t){case Je.OK:return z.OK;case Je.CANCELLED:return z.CANCELLED;case Je.UNKNOWN:return z.UNKNOWN;case Je.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Je.INTERNAL:return z.INTERNAL;case Je.UNAVAILABLE:return z.UNAVAILABLE;case Je.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Je.NOT_FOUND:return z.NOT_FOUND;case Je.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Je.ABORTED:return z.ABORTED;case Je.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Je.DATA_LOSS:return z.DATA_LOSS;default:return se(39323,{code:t})}}(pe=Je||(Je={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new gr([4294967295,4294967295],0);function Vb(t){const e=N4().encode(t),n=new uN;return n.update(e),new Uint8Array(n.digest())}function Fb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gr([n,s],0),new gr([r,i],0)]}class Xg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(s<0)throw new Mo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(gr.fromNumber(s)));return r.compare(E4)===1&&(r=new gr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Vb(e),[s,r]=Fb(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Xg(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=Vb(e),[s,r]=Fb(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Th(re.min(),r,new Ue(fe),Is(),me())}}class oc{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new oc(s,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class YN{constructor(e,n){this.targetId=e,this.Ce=n}}class XN{constructor(e,n,s=Et.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class zb{constructor(){this.ve=0,this.Fe=Ub(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),s=me();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:se(38017,{changeType:i})}}),new oc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ub()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=eu(),this.He=eu(),this.Ye=new Ue(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(up(i))if(s===0){const a=new te(i.path);this.et(n,a,Pt.newNoDocument(a,re.min()))}else Ee(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Nr(s).toUint8Array()}catch(c){if(c instanceof wN)return Na("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Xg(a,r,i)}catch(c){return Na(c instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&up(l.target)){const c=new te(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Pt.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=me();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new Th(e,n,this.Ye,this.je,s);return this.je=Is(),this.Je=eu(),this.He=eu(),this.Ye=new Ue(fe),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eu(){return new Ue(te.comparator)}function Ub(){return new Ue(te.comparator)}const S4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),I4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),T4=(()=>({and:"AND",or:"OR"}))();class k4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(t,e){return t.useProto3Json||wh(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C4(t,e){return kd(t,e.toTimestamp())}function Yn(t){return Ee(!!t,49232),re.fromTimestamp(function(n){const s=_r(n);return new Pe(s.seconds,s.nanos)}(t))}function Jg(t,e){return fp(t,e).canonicalString()}function fp(t,e){const n=function(r){return new Ve(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZN(t){const e=Ve.fromString(t);return Ee(rE(e),10190,{key:e.toString()}),e}function mp(t,e){return Jg(t.databaseId,e.path)}function Ff(t,e){const n=ZN(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(tE(n))}function eE(t,e){return Jg(t.databaseId,e)}function A4(t){const e=ZN(t);return e.length===4?Ve.emptyPath():tE(e)}function pp(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tE(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bb(t,e,n){return{name:mp(t,e),fields:n.value.mapValue.fields}}function P4(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?z.UNKNOWN:QN(u.code);return new ee(h,u.message||"")}(a);n=new XN(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ff(t,s.document.name),i=Yn(s.document.updateTime),a=s.document.createTime?Yn(s.document.createTime):re.min(),l=new mn({mapValue:{fields:s.document.fields}}),c=Pt.newFoundDocument(r,i,a,l),u=s.targetIds||[],h=s.removedTargetIds||[];n=new Fu(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Ff(t,s.document),i=s.readTime?Yn(s.readTime):re.min(),a=Pt.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Fu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Ff(t,s.document),i=s.removedTargetIds||[];n=new Fu([],i,r,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new w4(r,i),l=s.targetId;n=new YN(l,a)}}return n}function R4(t,e){let n;if(e instanceof ac)n={update:Bb(t,e.key,e.value)};else if(e instanceof KN)n={delete:mp(t,e.key)};else if(e instanceof ji)n={update:Bb(t,e.key,e.data),updateMask:B4(e.fieldMask)};else{if(!(e instanceof y4))return se(16599,{Vt:e.type});n={verify:mp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof Id)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ll)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Td)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw se(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:C4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function M4(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?Yn(r.updateTime):Yn(i);return a.isEqual(re.min())&&(a=Yn(i)),new p4(a,r.transformResults||[])}(n,e))):[]}function D4(t,e){return{documents:[eE(t,e.path)]}}function O4(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eE(t,r);const i=function(u){if(u.length!==0)return sE(ns.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:zi(m.field),direction:F4(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=hp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:r}}function L4(t){let e=A4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ee(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=nE(f);return m instanceof ns&&PN(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(b){return new Sd(Ui(b.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,wh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new jd(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new jd(g,m)}(n.endAt)),t4(e,r,a,i,l,"F",c,u)}function V4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ui(n.unaryFilter.field);return at.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Ui(n.unaryFilter.field);return at.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ui(n.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ui(n.unaryFilter.field);return at.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return at.create(Ui(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ns.create(n.compositeFilter.filters.map(s=>nE(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function F4(t){return S4[t]}function z4(t){return I4[t]}function U4(t){return T4[t]}function zi(t){return{fieldPath:t.canonicalString()}}function Ui(t){return wt.fromServerFormat(t.fieldPath)}function sE(t){return t instanceof at?function(n){if(n.op==="=="){if(kb(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NAN"}};if(Tb(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kb(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NAN"}};if(Tb(n.value))return{unaryFilter:{field:zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(n.field),op:z4(n.op),value:n.value}}}(t):t instanceof ns?function(n){const s=n.getFilters().map(r=>sE(r));return s.length===1?s[0]:{compositeFilter:{op:U4(n.op),filters:s}}}(t):se(54877,{filter:t})}function B4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,s,r,i=re.min(),a=re.min(),l=Et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.yt=e}}function q4(t){const e=L4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.Cn=new $4}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(wr.min())}updateCollectionGroup(e,n,s){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class $4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ct(Ve.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ct(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(iE,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="LruGarbageCollector",G4=1048576;function Hb([t,e],[n,s]){const r=fe(t,n);return r===0?fe(e,s):r}class K4{constructor(e){this.Ir=e,this.buffer=new ct(Hb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Hb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(qb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ba(n)?K(qb,"Ignoring IndexedDB error during garbage collection: ",n):await Ua(n)}await this.Vr(3e5)})}}class Y4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return F.resolve(vh.ce);const s=new K4(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Wb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,a=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(u=Date.now(),Vi()<=he.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:f})))}}function X4(t,e){return new Y4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.changes=new Ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?F.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&rl(s.mutation,r,kn.empty(),Pe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=me()){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=Ro();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,me()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=Is();const a=sl(),l=function(){return sl()}();return n.forEach((c,u)=>{const h=s.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof ji)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),rl(h.mutation,u,h.mutation.getFieldMask(),Pe.now())):a.set(u.key,kn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>l.set(u,new Z4(h,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const s=sl();let r=new Ue((a,l)=>a-l),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=s.get(c)||kn.empty();h=l.applyToLocalView(u,h),s.set(c,h);const f=(r.get(l.batchId)||me()).add(c);r=r.insert(l.batchId,f)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=zN();h.forEach(m=>{if(!i.has(m)){const g=$N(n.get(m),s.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):F.resolve(ei());let l=Rl,c=i;return a.next(u=>F.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,me())).next(h=>({batchId:l,changes:FN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(s=>{let r=Ro();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=Ro();return this.indexManager.getCollectionParents(e,i).next(l=>F.forEach(l,c=>{const u=function(f,m){return new Nh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Pt.newInvalidDocument(h)))});let l=Ro();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&rl(h.mutation,u,kn.empty(),Pe.now()),jh(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Yn(r.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:q4(r.bundledQuery),readTime:Yn(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.overlays=new Ue(te.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ei();return F.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),F.resolve()}getOverlaysForCollection(e,n,s){const r=ei(),i=n.length+1,a=new te(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return F.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ue((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=i.get(u.largestBatchId);h===null&&(h=ei(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=ei(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=r)););return F.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new v4(n,s));let i=this.qr.get(n);i===void 0&&(i=me(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Qr=new ct(ft.$r),this.Ur=new ct(ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ft(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new ft(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new te(new Ve([])),s=new ft(n,e),r=new ft(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Ve([])),s=new ft(n,e),r=new ft(n,e+1);let i=me();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new ft(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(ft.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new b4(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new ft(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Wg:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ft(n,0),r=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ct(fe);return n.forEach(r=>{const i=new ft(r,0),a=new ft(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),F.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;te.isDocumentKey(i)||(i=i.child(""));const a=new ft(new te(i),0);let l=new ct(fe);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Yr)),!0)},a),F.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return F.forEach(n.mutations,r=>{const i=new ft(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new ft(n,0),r=this.Zr.firstAfterOrEqual(s);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.ri=e,this.docs=function(){return new Ue(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return F.resolve(s?s.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let s=Is();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Pt.newInvalidDocument(r))}),F.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Is();const a=n.path,l=new te(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||MR(RR(h),s)<=0||(r.has(h.key)||jh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,s,r){se(9500)}ii(e,n){return F.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new a3(this)}getSize(e){return F.resolve(this.size)}}class a3 extends J4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.persistence=e,this.si=new Ei(n=>$g(n),Gg),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new Zg,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),F.waitFor(i).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return F.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),F.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return F.resolve(s)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new s3,this.referenceDelegate=e(this),this.Pi=new o3(this),this.indexManager=new H4,this.remoteDocumentCache=function(r){return new i3(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new W4(n),this.Ii=new t3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new r3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){K("MemoryPersistence","Starting transaction:",e);const r=new l3(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class l3 extends OR{constructor(e){super(),this.currentSequenceNumber=e}}class ex{constructor(e){this.persistence=e,this.Ri=new Zg,this.Vi=null}static mi(e){return new ex(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),F.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,s=>{const r=te.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cd{constructor(e,n){this.persistence=e,this.pi=new Ei(s=>FR(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=X4(this,n)}static mi(e,n){return new Cd(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?F.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,re.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ou(e.data.value)),n}br(e,n,s){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return F.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=me(),r=me();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new tx(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hk()?8:LR(Mt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new c3;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Vi()<=he.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Vi()<=he.DEBUG&&K("QueryEngine","Query:",Fi(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Vi()<=he.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):F.resolve())}ys(e,n){if(Rb(n))return F.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=dp(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=me(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,dp(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,r){return Rb(n)||r.isEqual(re.min())?F.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?F.resolve(null):(Vi()<=he.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fi(n)),this.vs(e,a,n,PR(r,Rl)).next(l=>l))})}Ds(e,n){let s=new ct(LN(e));return n.forEach((r,i)=>{jh(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return Vi()<=he.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="LocalStore",d3=3e8;class h3{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ue(fe),this.xs=new Ei(i=>$g(i),Gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function f3(t,e,n,s){return new h3(t,e,n,s)}async function oE(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=me();for(const u of r){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function m3(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let g=F.resolve();return m.forEach(b=>{g=g.next(()=>h.getEntry(c,b)).next(_=>{const j=u.docVersions.get(b);Ee(j!==null,48541),_.version.compareTo(j)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),h.addEntry(_)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=me();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function lE(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function p3(t,e){const n=ie(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const m=r.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Et.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(f,g),function(_,j,y){return _.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=d3?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,g,h)&&l.push(n.Pi.updateTargetData(i,g))});let c=Is(),u=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(g3(i,a,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!s.isEqual(re.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(h)}return F.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=r,i))}function g3(t,e,n){let s=me(),r=me();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=Is();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(re.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):K(nx,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:r}})}function x3(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Wg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function y3(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,F.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new Zs(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function gp(t,e,n){const s=ie(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Ba(a))throw a;K(nx,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function $b(t,e,n){const s=ie(t);let r=re.min(),i=me();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const f=ie(c),m=f.xs.get(h);return m!==void 0?F.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(s,a,Qn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:re.min(),n?i:me())).next(l=>(b3(s,r4(e),l),{documents:l,Qs:i})))}function b3(t,e,n){let s=t.Os.get(e)||re.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class Gb{constructor(){this.activeTargetIds=u4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v3{constructor(){this.Mo=new Gb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class Qb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=null;function xp(){return tu===null?tu=function(){return 268435456+Math.round(2147483648*Math.random())}():tu++,"0x"+tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",_3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Nd?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=xp(),l=this.zo(e,n.toUriEncodedString());K(zf,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:u}=new URL(l),h=Da(u);return this.Jo(e,l,c,s,h).then(f=>(K(zf,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Na(zf,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",s),f})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=_3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class j3 extends N3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=xp();return new Promise((l,c)=>{const u=new dN;u.setWithCredentials(!0),u.listenOnce(hN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const f=u.getResponseJson();K(Tt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case Du.TIMEOUT:K(Tt,`RPC '${e}' ${a} timed out`),c(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const m=u.getStatus();if(K(Tt,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const _=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(b.status);c(new ee(_,b.message))}else c(new ee(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ee(z.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{K(Tt,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(r);K(Tt,`RPC '${e}' ${a} sending request:`,r),u.send(n,"POST",h,s,15)})}T_(e,n,s){const r=xp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pN(),l=mN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=i.join("");K(Tt,`Creating RPC '${e}' stream ${r}: ${h}`,c);const f=a.createWebChannel(h,c);this.I_(f);let m=!1,g=!1;const b=new E3({Yo:j=>{g?K(Tt,`Not sending because RPC '${e}' stream ${r} is closed:`,j):(m||(K(Tt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),K(Tt,`RPC '${e}' stream ${r} sending:`,j),f.send(j))},Zo:()=>f.close()}),_=(j,y,v)=>{j.listen(y,E=>{try{v(E)}catch(P){setTimeout(()=>{throw P},0)}})};return _(f,Po.EventType.OPEN,()=>{g||(K(Tt,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),_(f,Po.EventType.CLOSE,()=>{g||(g=!0,K(Tt,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(f))}),_(f,Po.EventType.ERROR,j=>{g||(g=!0,Na(Tt,`RPC '${e}' stream ${r} transport errored. Name:`,j.name,"Message:",j.message),b.a_(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),_(f,Po.EventType.MESSAGE,j=>{var y;if(!g){const v=j.data[0];Ee(!!v,16349);const E=v,P=(E==null?void 0:E.error)||((y=E[0])==null?void 0:y.error);if(P){K(Tt,`RPC '${e}' stream ${r} received error:`,P);const R=P.status;let M=function(I){const C=Je[I];if(C!==void 0)return QN(C)}(R),N=P.message;M===void 0&&(M=z.INTERNAL,N="Unknown error status: "+R+" with message "+P.message),g=!0,b.a_(new ee(M,N)),f.close()}else K(Tt,`RPC '${e}' stream ${r} received:`,v),b.u_(v)}}),_(l,fN.STAT_EVENT,j=>{j.stat===ip.PROXY?K(Tt,`RPC '${e}' stream ${r} detected buffering proxy`):j.stat===ip.NOPROXY&&K(Tt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){return new k4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="PersistentStream";class uE{constructor(e,n,s,r,i,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new ee(z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(Yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(Yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S3 extends uE{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P4(this.serializer,e),s=function(i){if(!("targetChange"in i))return re.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?re.min():a.readTime?Yn(a.readTime):re.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=up(c)?{documents:D4(i,c)}:{query:O4(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=JN(i,a.resumeToken);const u=hp(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(re.min())>0){l.readTime=kd(i,a.snapshotVersion.toTimestamp());const u=hp(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=V4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.q_(n)}}class I3 extends uE{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=M4(e.writeResults,e.commitTime),s=Yn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>R4(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{}class k3 extends T3{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,fp(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(z.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,fp(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class C3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="RemoteStore";class A3{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Si(this)&&(K(pi,"Restarting streams for network reachability change."),await async function(c){const u=ie(c);u.Ea.add(4),await lc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ch(u)}(this))})}),this.Ra=new C3(s,r)}}async function Ch(t){if(Si(t))for(const e of t.da)await e(!0)}async function lc(t){for(const e of t.da)await e(!1)}function dE(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ax(n)?ix(n):Wa(n).O_()&&rx(n,e))}function sx(t,e){const n=ie(t),s=Wa(n);n.Ia.delete(e),s.O_()&&hE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Si(n)&&n.Ra.set("Unknown"))}function rx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wa(t).Y_(e)}function hE(t,e){t.Va.Ue(e),Wa(t).Z_(e)}function ix(t){t.Va=new j4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wa(t).start(),t.Ra.ua()}function ax(t){return Si(t)&&!Wa(t).x_()&&t.Ia.size>0}function Si(t){return ie(t).Ea.size===0}function fE(t){t.Va=void 0}async function P3(t){t.Ra.set("Online")}async function R3(t){t.Ia.forEach((e,n)=>{rx(t,e)})}async function M3(t,e){fE(t),ax(t)?(t.Ra.ha(e),ix(t)):t.Ra.set("Unknown")}async function D3(t,e,n){if(t.Ra.set("Online"),e instanceof XN&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){K(pi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ad(t,s)}else if(e instanceof Fu?t.Va.Ze(e):e instanceof YN?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const s=await lE(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),hE(i,c);const f=new Zs(h.target,c,u,h.sequenceNumber);rx(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){K(pi,"Failed to raise snapshot:",s),await Ad(t,s)}}async function Ad(t,e,n){if(!Ba(e))throw e;t.Ea.add(1),await lc(t),t.Ra.set("Offline"),n||(n=()=>lE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(pi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ch(t)})}function mE(t,e){return e().catch(n=>Ad(t,n,e))}async function Ah(t){const e=ie(t),n=jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wg;for(;O3(e);)try{const r=await x3(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,L3(e,r)}catch(r){await Ad(e,r)}pE(e)&&gE(e)}function O3(t){return Si(t)&&t.Ta.length<10}function L3(t,e){t.Ta.push(e);const n=jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function pE(t){return Si(t)&&!jr(t).x_()&&t.Ta.length>0}function gE(t){jr(t).start()}async function V3(t){jr(t).ra()}async function F3(t){const e=jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function z3(t,e,n){const s=t.Ta.shift(),r=Yg.from(s,e,n);await mE(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ah(t)}async function U3(t,e){e&&jr(t).X_&&await async function(s,r){if(function(a){return _4(a)&&a!==z.ABORTED}(r.code)){const i=s.Ta.shift();jr(s).B_(),await mE(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Ah(s)}}(t,e),pE(t)&&gE(t)}async function Xb(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),K(pi,"RemoteStore received new credentials");const s=Si(n);n.Ea.add(3),await lc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ch(n)}async function B3(t,e){const n=ie(t);e?(n.Ea.delete(2),await Ch(n)):e||(n.Ea.add(2),await lc(n),n.Ra.set("Unknown"))}function Wa(t){return t.ma||(t.ma=function(n,s,r){const i=ie(n);return i.sa(),new S3(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:P3.bind(null,t),t_:R3.bind(null,t),r_:M3.bind(null,t),H_:D3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ax(t)?ix(t):t.Ra.set("Unknown")):(await t.ma.stop(),fE(t))})),t.ma}function jr(t){return t.fa||(t.fa=function(n,s,r){const i=ie(n);return i.sa(),new I3(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:V3.bind(null,t),r_:U3.bind(null,t),ta:F3.bind(null,t),na:z3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ah(t)):(await t.fa.stop(),t.Ta.length>0&&(K(pi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new ox(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lx(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),Ba(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||te.comparator(n.key,s.key):(n,s)=>te.comparator(n.key,s.key),this.keyedMap=Ro(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new da;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.ga=new Ue(te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ta{constructor(e,n,s,r,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ta(e,n,da.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class q3{constructor(){this.queries=Zb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=ie(n),i=r.queries;r.queries=Zb(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function Zb(){return new Ei(t=>ON(t),Eh)}async function H3(t,e){const n=ie(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new W3,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=lx(a,`Initialization of query '${Fi(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&cx(n)}async function $3(t,e){const n=ie(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function G3(t,e){const n=ie(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&cx(n)}function K3(t,e,n){const s=ie(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function cx(t){t.Ca.forEach(e=>{e.next()})}var yp,ev;(ev=yp||(yp={})).Ma="default",ev.Cache="cache";class Q3{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ta(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class yE{constructor(e){this.key=e}}class Y3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=LN(e),this.tu=new da(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Jb,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const m=r.get(h),g=jh(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let j=!1;m&&g?m.data.isEqual(g.data)?b!==_&&(s.track({type:3,doc:g}),j=!0):this.su(m,g)||(s.track({type:2,doc:g}),j=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!m&&g?(s.track({type:0,doc:g}),j=!0):m&&!g&&(s.track({type:1,doc:m}),j=!0,(c||u)&&(l=!0)),j&&(g?(a=a.add(g),i=_?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(g,b){const _=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:j})}};return _(g)-_(b)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Ta(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new yE(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new xE(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ux="SyncEngine";class X3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class J3{constructor(e){this.key=e,this.hu=!1}}class Z3{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ei(l=>ON(l),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(te.comparator),this.Au=new Map,this.Ru=new Zg,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e5(t,e,n=!0){const s=EE(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await bE(s,e,n,!0),r}async function t5(t,e){const n=EE(t);await bE(n,e,!0,!1)}async function bE(t,e,n,s){const r=await y3(t.localStore,Qn(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await n5(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&dE(t.remoteStore,r),l}async function n5(t,e,n,s,r){t.pu=(f,m,g)=>async function(_,j,y,v){let E=j.view.ru(y);E.Cs&&(E=await $b(_.localStore,j.query,!1).then(({documents:N})=>j.view.ru(N,E)));const P=v&&v.targetChanges.get(j.targetId),R=v&&v.targetMismatches.get(j.targetId)!=null,M=j.view.applyChanges(E,_.isPrimaryClient,P,R);return nv(_,j.targetId,M.au),M.snapshot}(t,f,m,g);const i=await $b(t.localStore,e,!0),a=new Y3(e,i.Qs),l=a.ru(i.documents),c=oc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=a.applyChanges(l,t.isPrimaryClient,c);nv(t,n,u.au);const h=new X3(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function s5(t,e,n){const s=ie(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!Eh(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await gp(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&sx(s.remoteStore,r.targetId),bp(s,r.targetId)}).catch(Ua)):(bp(s,r.targetId),await gp(s.localStore,r.targetId,!0))}async function r5(t,e){const n=ie(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sx(n.remoteStore,s.targetId))}async function i5(t,e,n){const s=h5(t);try{const r=await function(a,l){const c=ie(a),u=Pe.now(),h=l.reduce((g,b)=>g.add(b.key),me());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Is(),_=me();return c.Ns.getEntries(g,h).next(j=>{b=j,b.forEach((y,v)=>{v.isValidDocument()||(_=_.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(j=>{f=j;const y=[];for(const v of l){const E=x4(v,f.get(v.key).overlayedDocument);E!=null&&y.push(new ji(v.key,E,kN(E.value.mapValue),ys.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,y,l)}).next(j=>{m=j;const y=j.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(g,j.batchId,y)})}).then(()=>({batchId:m.batchId,changes:FN(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Ue(fe)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(s,r.batchId,n),await cc(s,r.changes),await Ah(s.remoteStore)}catch(r){const i=lx(r,"Failed to persist write");n.reject(i)}}async function vE(t,e){const n=ie(t);try{const s=await p3(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(Ee(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?Ee(a.hu,14607):r.removedDocuments.size>0&&(Ee(a.hu,42227),a.hu=!1))}),await cc(n,s,e)}catch(s){await Ua(s)}}function tv(t,e,n){const s=ie(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=ie(a);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&cx(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function a5(t,e,n){const s=ie(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new Ue(te.comparator);a=a.insert(i,Pt.newNoDocument(i,re.min()));const l=me().add(i),c=new Th(re.min(),new Map,new Ue(fe),a,l);await vE(s,c),s.du=s.du.remove(i),s.Au.delete(e),dx(s)}else await gp(s.localStore,e,!1).then(()=>bp(s,e,n)).catch(Ua)}async function o5(t,e){const n=ie(t),s=e.batch.batchId;try{const r=await m3(n.localStore,e);_E(n,s,null),wE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cc(n,r)}catch(r){await Ua(r)}}async function l5(t,e,n){const s=ie(t);try{const r=await function(a,l){const c=ie(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ee(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(s.localStore,e);_E(s,e,n),wE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cc(s,r)}catch(r){await Ua(r)}}function wE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _E(t,e,n){const s=ie(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||NE(t,s)})}function NE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(sx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dx(t))}function nv(t,e,n){for(const s of n)s instanceof xE?(t.Ru.addReference(s.key,e),c5(t,s)):s instanceof yE?(K(ux,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||NE(t,s.key)):se(19791,{wu:s})}function c5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(K(ux,"New document in limbo: "+n),t.Eu.add(s),dx(t))}function dx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Ve.fromString(e)),s=t.fu.next();t.Au.set(s,new J3(n)),t.du=t.du.insert(n,s),dE(t.remoteStore,new Zs(Qn(Kg(n.path)),s,"TargetPurposeLimboResolution",vh.ce))}}async function cc(t,e,n){const s=ie(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(u=>{var h;if((u||n)&&s.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);const f=tx.As(c.targetId,u);i.push(f)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,u){const h=ie(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,m=>F.forEach(m.Es,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>F.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Ba(f))throw f;K(nx,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.Ms.get(m),b=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(m,_)}}}(s.localStore,i))}async function u5(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){K(ux,"User change. New user:",e.toKey());const s=await oE(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new ee(z.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cc(n,s.Ls)}}function d5(t,e){const n=ie(t),s=n.Au.get(e);if(s&&s.hu)return me().add(s.key);{let r=me();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function EE(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a5.bind(null,e),e.Pu.H_=G3.bind(null,e.eventManager),e.Pu.yu=K3.bind(null,e.eventManager),e}function h5(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l5.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f3(this.persistence,new u3,e.initialUser,this.serializer)}Cu(e){return new aE(ex.mi,this.serializer)}Du(e){return new v3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class f5 extends Pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof Cd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Q4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new aE(s=>Cd.mi(s,n),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u5.bind(null,this.syncEngine),await B3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q3}()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),s=function(i){return new j3(i)}(e.databaseInfo);return function(i,a,l,c){return new k3(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new A3(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>tv(this.syncEngine,n,0),function(){return Qb.v()?new Qb:new w3}())}createSyncEngine(e,n){return function(r,i,a,l,c,u,h){const f=new Z3(r,i,a,l,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=ie(r);K(pi,"RemoteStore shutting down."),i.Ea.add(5),await lc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class p5{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Ct.UNAUTHENTICATED,this.clientId=Ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{K(Sr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(K(Sr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lx(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),K(Sr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await oE(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g5(t);K(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Xb(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Xb(e.remoteStore,r)),t._onlineComponents=e}async function g5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Sr,"Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===z.FAILED_PRECONDITION||r.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new Pd)}}else K(Sr,"Using default OfflineComponentProvider"),await Bf(t,new f5(void 0));return t._offlineComponents}async function jE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Sr,"Using user provided OnlineComponentProvider"),await sv(t,t._uninitializedComponentsProvider._online)):(K(Sr,"Using default OnlineComponentProvider"),await sv(t,new vp))),t._onlineComponents}function x5(t){return jE(t).then(e=>e.syncEngine)}async function y5(t){const e=await jE(t),n=e.eventManager;return n.onListen=e5.bind(null,e.syncEngine),n.onUnlisten=s5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r5.bind(null,e.syncEngine),n}function b5(t,e,n={}){const s=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new m5({next:m=>{h.Nu(),a.enqueueAndForget(()=>$3(i,f));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Q3(Kg(l.path),h,{includeMetadataChanges:!0,qa:!0});return H3(i,f)}(await y5(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firestore.googleapis.com",iv=!0;class av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IE,this.ssl=iv}else this.host=e.host,this.ssl=e.ssl??iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G4)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SE(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hx{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vR;switch(s.type){case"firstParty":return new ER(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=rv.get(n);s&&(K("ComponentProvider","Removing Datastore"),rv.delete(n),s.terminate())}(this),Promise.resolve()}}function v5(t,e,n,s={}){var u;t=Pl(t,hx);const r=Da(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(f2(`https://${l}`),m2("Firestore",!0)),i.host!==IE&&i.host!==l&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!di(c,a)&&(t._setSettings(c),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=Ct.MOCK_USER;else{h=sk(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ct(m)}t._authCredentials=new wR(new xN(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fx(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ic(n,pt._jsonSchema))return new pt(e,s||null,new te(Ve.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:tt("string",pt._jsonSchemaVersion),referencePath:tt("string")};class Fl extends fx{constructor(e,n,s){super(e,n,Kg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new te(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function ov(t,e,...n){if(t=_e(t),arguments.length===1&&(e=Ug.newId()),CR("doc","path",e),t instanceof hx){const s=Ve.fromString(e,...n);return vb(s),new pt(t,null,new te(s))}{if(!(t instanceof pt||t instanceof Fl))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ve.fromString(e,...n));return vb(s),new pt(t.firestore,t instanceof Fl?t.converter:null,new te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="AsyncQueue";class cv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cE(this,"async_queue_retry"),this._c=()=>{const s=Uf();s&&K(lv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ba(e))throw e;K(lv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",uv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=ox.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&se(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mx extends hx{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new cv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}}function w5(t,e){const n=typeof t=="object"?t:y2(),s=typeof t=="string"?t:e||Nd,r=kg(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=tk("firestore");i&&v5(r,...i)}return r}function TE(t){if(t._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_5(t),t._firestoreClient}function _5(t){var s,r,i;const e=t._freezeSettings(),n=function(l,c,u,h){return new BR(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new p5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(Et.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ic(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:tt("string",pn._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(ic(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:tt("string",Xn._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ic(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Jn(e.vectorValues);throw new ee(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:tt("string",Jn._jsonSchemaVersion),vectorValues:tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=/^__.*__$/;class E5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}function CE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class gx{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CE(this.Ac)&&N5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class j5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kh(e)}Cc(e,n,s,r=!1){return new gx({Ac:e,methodName:n,Dc:s,path:wt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S5(t){const e=t._freezeSettings(),n=kh(t._databaseId);return new j5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function I5(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);ME("Data must be an object, but it was:",a,s);const l=PE(s,a);let c,u;if(i.merge)c=new kn(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=T5(e,f,n);if(!a.contains(m))throw new ee(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);C5(h,m)||h.push(m)}c=new kn(h),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new E5(new mn(l),c,u)}function AE(t,e){if(RE(t=_e(t)))return ME("Unsupported field value:",e,t),PE(t,e);if(t instanceof kE)return function(s,r){if(!CE(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=AE(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=_e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d4(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Pe.fromDate(s);return{timestampValue:kd(r.serializer,i)}}if(s instanceof Pe){const i=new Pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kd(r.serializer,i)}}if(s instanceof Xn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pn)return{bytesValue:JN(r.serializer,s._byteString)};if(s instanceof pt){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jg(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Jn)return function(a,l){return{mapValue:{fields:{[SN]:{stringValue:TN},[Ed]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return Qg(l.serializer,u)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Bg(s)}`)}(t,e)}function PE(t,e){const n={};return vN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(s,r)=>{const i=AE(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function RE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof Xn||t instanceof pn||t instanceof pt||t instanceof kE||t instanceof Jn)}function ME(t,e,n){if(!RE(n)||!yN(n)){const s=Bg(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function T5(t,e,n){if((e=_e(e))instanceof px)return e._internalPath;if(typeof e=="string")return DE(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const k5=new RegExp("[~\\*/\\[\\]]");function DE(t,e,n){if(e.search(k5)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new px(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new ee(z.INVALID_ARGUMENT,l+t+c)}function C5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A5 extends OE{data(){return super.data()}}function LE(t,e){return typeof e=="string"?DE(t,e):e instanceof px?e._internalPath:e._delegate._internalPath}class P5{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ni(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Ed].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>Ke(a.doubleValue));return new Jn(n)}convertGeoPoint(e){return new Xn(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const n=_r(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ve.fromString(e);Ee(rE(s),9688,{name:e});const r=new Dl(s.get(1),s.get(3)),i=new te(s.popFirst(5));return r.isEqual(n)||Ss(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Do{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class si extends OE{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(LE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=si._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}si._jsonSchemaVersion="firestore/documentSnapshot/1.0",si._jsonSchema={type:tt("string",si._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class zu extends si{data(e={}){return super.data(e)}}class il{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Do(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new zu(this._firestore,this._userDataWriter,s.key,s,new Do(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new zu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Do(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new zu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Do(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:M5(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){t=Pl(t,pt);const e=Pl(t.firestore,mx);return b5(TE(e),t._key).then(n=>F5(e,t,n))}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:tt("string",il._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};class O5 extends P5{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function L5(t,e,n){t=Pl(t,pt);const s=Pl(t.firestore,mx),r=R5(t.converter,e,n);return V5(s,[I5(S5(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ys.none())])}function V5(t,e){return function(s,r){const i=new xr;return s.asyncQueue.enqueueAndForget(async()=>i5(await x5(s),r,i)),i.promise}(TE(t),e)}function F5(t,e,n){const s=n.docs.get(e._key),r=new O5(t);return new si(t,r,e._key,s,new Do(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){za=r})(La),_a(new hi("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new mx(new _R(s.getProvider("auth-internal")),new jR(a,s.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,h)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),mr(gb,xb,e),mr(gb,xb,"esm2020")})();const z5={apiKey:{}.VITE_FIREBASE_API_KEY||"AIzaSyCN_29bjsvBkPJmXy8Y5lGc16MK9cd6-SE",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN||"finanzas-facil-fe8eb.firebaseapp.com",projectId:{}.VITE_FIREBASE_PROJECT_ID||"finanzas-facil-fe8eb",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET||"finanzas-facil-fe8eb.firebasestorage.app",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID||"840948445547",appId:{}.VITE_FIREBASE_APP_ID||"1:840948445547:web:4aada8452bd06509479c2e",measurementId:{}.VITE_FIREBASE_MEASUREMENT_ID||"G-QT23TVY0GJ"},VE=x2(z5),al=gR(VE),dv=w5(VE),U5="modulepreload",B5=function(t){return"/"+t},hv={},Ph=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=B5(i),i in hv)return;hv[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let h=r.length-1;h>=0;h--){const f=r[h];if(f.href===i&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":U5,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ka;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ka||(ka={}));class Wf extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const W5=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},q5=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:W5(t),i=()=>r()!=="web",a=f=>{const m=u.get(f);return!!(m!=null&&m.platforms.has(r())||l(f))},l=f=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===f)},c=f=>t.console.error(f),u=new Map,h=(f,m={})=>{const g=u.get(f);if(g)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),g.proxy;const b=r(),_=l(f);let j;const y=async()=>(!j&&b in m?j=typeof m[b]=="function"?j=await m[b]():j=m[b]:e!==null&&!j&&"web"in m&&(j=typeof m.web=="function"?j=await m.web():j=m.web),j),v=(w,I)=>{var C,T;if(_){const A=_==null?void 0:_.methods.find(k=>I===k.name);if(A)return A.rtype==="promise"?k=>n.nativePromise(f,I.toString(),k):(k,J)=>n.nativeCallback(f,I.toString(),k,J);if(w)return(C=w[I])===null||C===void 0?void 0:C.bind(w)}else{if(w)return(T=w[I])===null||T===void 0?void 0:T.bind(w);throw new Wf(`"${f}" plugin is not implemented on ${b}`,ka.Unimplemented)}},E=w=>{let I;const C=(...T)=>{const A=y().then(k=>{const J=v(k,w);if(J){const X=J(...T);return I=X==null?void 0:X.remove,X}else throw new Wf(`"${f}.${w}()" is not implemented on ${b}`,ka.Unimplemented)});return w==="addListener"&&(A.remove=async()=>I()),A};return C.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:w,writable:!1,configurable:!1}),C},P=E("addListener"),R=E("removeListener"),M=(w,I)=>{const C=P({eventName:w},I),T=async()=>{const k=await C;R({eventName:w,callbackId:k},I)},A=new Promise(k=>C.then(()=>k({remove:T})));return A.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await T()},A},N=new Proxy({},{get(w,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _?M:P;case"removeListener":return R;default:return E(I)}}});return s[f]=N,u.set(f,{name:f,proxy:N,platforms:new Set([...Object.keys(m),..._?[b]:[]])}),N};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=r,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=h,n.Exception=Wf,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},H5=t=>t.Capacitor=q5(t),gi=H5(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),qa=gi.registerPlugin;class FE{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const r=this.listeners[e];if(!r){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}r.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new gi.Exception(e,ka.Unimplemented)}unavailable(e="not available"){return new gi.Exception(e,ka.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const r=s.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const fv=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),mv=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $5 extends FE{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[r,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=mv(r).trim(),i=mv(i).trim(),n[r]=i}),n}async setCookie(e){try{const n=fv(e.key),s=fv(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${r}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}qa("CapacitorCookies",{web:()=>new $5});const G5=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const r=s.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},s.onerror=r=>n(r),s.readAsDataURL(t)}),K5=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,i,a)=>(r[i]=t[e[a]],r),{})},Q5=(t,e=!0)=>t?Object.entries(t).reduce((s,r)=>{const[i,a]=r;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${i}=${l}`),`${s}&${c}`},"").substr(1):null,Y5=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=K5(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))i.set(a,l);n.body=i.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class X5 extends FE{async request(e){const n=Y5(e,e.webFetchExtra),s=Q5(e.params,e.shouldEncodeUrlParams),r=s?`${e.url}?${s}`:e.url,i=await fetch(r,n),a=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await G5(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const h={};return i.headers.forEach((f,m)=>{h[m]=f}),{data:c,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}qa("CapacitorHttp",{web:()=>new X5});var pv;(function(t){t.IndexedDbLocal="INDEXED_DB_LOCAL",t.InMemory="IN_MEMORY",t.BrowserLocal="BROWSER_LOCAL",t.BrowserSession="BROWSER_SESSION"})(pv||(pv={}));var gv;(function(t){t.APPLE="apple.com",t.FACEBOOK="facebook.com",t.GAME_CENTER="gc.apple.com",t.GITHUB="github.com",t.GOOGLE="google.com",t.MICROSOFT="microsoft.com",t.PLAY_GAMES="playgames.google.com",t.TWITTER="twitter.com",t.YAHOO="yahoo.com",t.PASSWORD="password",t.PHONE="phone"})(gv||(gv={}));const Fn=qa("FirebaseAuthentication",{web:()=>Ph(()=>import("./web-b16e9cc3.js"),[]).then(t=>new t.FirebaseAuthenticationWeb)}),qf=qa("Preferences",{web:()=>Ph(()=>import("./web-d8636f15.js"),[]).then(t=>new t.PreferencesWeb)});class J5{constructor(){Y(this,"authStateListeners",[]);this.initAuthStateListener()}initAuthStateListener(){Fn.addListener("authStateChange",({user:e})=>{const n=e?this.mapFirebaseUser(e):null;this.notifyAuthStateListeners(n),n?this.saveUserToStorage(n):this.clearUserFromStorage()})}mapFirebaseUser(e){return{uid:e.uid,email:e.email||null,displayName:e.displayName||null,photoURL:e.photoURL||null,isAnonymous:e.isAnonymous||!1}}notifyAuthStateListeners(e){this.authStateListeners.forEach(n=>n(e))}onAuthStateChanged(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(n=>n!==e)}}async saveUserToStorage(e){await qf.set({key:"currentUser",value:JSON.stringify(e)})}async clearUserFromStorage(){await qf.remove({key:"currentUser"})}async getCurrentUserFromStorage(){const{value:e}=await qf.get({key:"currentUser"});return e?JSON.parse(e):null}async getCurrentUser(){try{const e=await Fn.getCurrentUser();return e.user?this.mapFirebaseUser(e.user):null}catch(e){return console.error("Error getting current user:",e),null}}async signInWithEmailAndPassword(e,n){try{const s=await Fn.signInWithEmailAndPassword({email:e,password:n});if(!s.user)throw new Error("No user returned from sign in");return this.mapFirebaseUser(s.user)}catch(s){throw console.error("Error signing in:",s),new Error(this.getAuthErrorMessage(s.code))}}async createUserWithEmailAndPassword(e,n,s){try{const r=await Fn.createUserWithEmailAndPassword({email:e,password:n});if(!r.user)throw new Error("No user returned from registration");return s&&await this.updateProfile({displayName:s}),this.mapFirebaseUser(r.user)}catch(r){throw console.error("Error creating user:",r),new Error(this.getAuthErrorMessage(r.code))}}async signInWithGoogle(){try{const e=await Fn.signInWithGoogle();if(!e.user)throw new Error("No user returned from Google sign in");return this.mapFirebaseUser(e.user)}catch(e){throw console.error("Error signing in with Google:",e),new Error("Error al iniciar sesión con Google")}}async signInWithApple(){try{const e=await Fn.signInWithApple();if(!e.user)throw new Error("No user returned from Apple sign in");return this.mapFirebaseUser(e.user)}catch(e){throw console.error("Error signing in with Apple:",e),new Error("Error al iniciar sesión con Apple")}}async signOut(){try{await Fn.signOut(),await this.clearUserFromStorage()}catch(e){throw console.error("Error signing out:",e),new Error("Error al cerrar sesión")}}async sendPasswordResetEmail(e){try{await Fn.sendPasswordResetEmail({email:e})}catch(n){throw console.error("Error sending password reset email:",n),new Error(this.getAuthErrorMessage(n.code))}}async updateProfile(e){try{await Fn.updateProfile(e)}catch(n){throw console.error("Error updating profile:",n),new Error("Error al actualizar el perfil")}}getAuthErrorMessage(e){return{"auth/email-already-in-use":"El email ya está registrado","auth/invalid-email":"Email inválido","auth/operation-not-allowed":"Operación no permitida","auth/weak-password":"La contraseña es demasiado débil","auth/user-disabled":"Usuario deshabilitado","auth/user-not-found":"Usuario no encontrado","auth/wrong-password":"Contraseña incorrecta","auth/too-many-requests":"Demasiados intentos. Intenta más tarde","auth/network-request-failed":"Error de conexión. Verifica tu internet"}[e]||"Error de autenticación. Intenta de nuevo"}async isEmailAvailable(e){try{return(await Fn.fetchSignInMethodsForEmail({email:e})).signInMethods.length===0}catch(n){return console.error("Error checking email availability:",n),!1}}}const is=new J5,zE=V.createContext(void 0),Rh=()=>{const t=V.useContext(zE);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Z5=({children:t})=>{const[e,n]=V.useState(null),[s,r]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const b=await is.getCurrentUserFromStorage();b&&n(b);const _=await is.getCurrentUser();n(_)}catch(b){console.error("Error initializing auth:",b)}finally{r(!1)}})();const g=is.onAuthStateChanged(b=>{n(b),r(!1)});return()=>{g()}},[]);const f={user:e,loading:s,signIn:async(m,g)=>{try{r(!0);const b=await is.signInWithEmailAndPassword(m,g);n(b)}finally{r(!1)}},signUp:async(m,g,b)=>{try{r(!0);const _=await is.createUserWithEmailAndPassword(m,g,b);n(_)}finally{r(!1)}},signInWithGoogle:async()=>{try{r(!0);const m=await is.signInWithGoogle();n(m)}finally{r(!1)}},signInWithApple:async()=>{try{r(!0);const m=await is.signInWithApple();n(m)}finally{r(!1)}},signOut:async()=>{try{r(!0),await is.signOut(),n(null)}finally{r(!1)}},sendPasswordReset:async m=>{await is.sendPasswordResetEmail(m)}};return o.jsx(zE.Provider,{value:f,children:t})},eM=({isOpen:t,onClose:e,onAuthSuccess:n,canClose:s=!0})=>{const{signInWithGoogle:r,signInWithApple:i,loading:a}=Rh(),[l,c]=V.useState(!0),[u,h]=V.useState(""),[f,m]=V.useState(""),[g,b]=V.useState(""),[_,j]=V.useState(!1),[y,v]=V.useState(!1),[E,P]=V.useState(""),[R,M]=V.useState(!1),N=async A=>{A.preventDefault(),v(!0),P("");try{if(l){const k=await WA(al,u,f);n(k.user),e()}else{if(f!==g){P("Las contraseñas no coinciden"),v(!1);return}if(f.length<6){P("La contraseña debe tener al menos 6 caracteres"),v(!1);return}const k=await BA(al,u,f);n(k.user),e()}}catch(k){P(k.message)}v(!1)},w=async()=>{if(!u){P("Por favor, introduce tu email");return}v(!0),P("");try{await UA(al,u),M(!0)}catch(A){P(A.message)}finally{v(!1)}},I=async()=>{P(""),v(!0);try{console.log("Iniciando sesión con Google..."),await r(),console.log("Google sign in exitoso"),n(null),e()}catch(A){console.error("Error en Google sign in:",A),P(A.message||"Error al iniciar sesión con Google")}finally{v(!1)}},C=async()=>{P(""),v(!0);try{console.log("Iniciando sesión con Apple..."),await i(),console.log("Apple sign in exitoso"),n(null),e()}catch(A){console.error("Error en Apple sign in:",A),P(A.message||"Error al iniciar sesión con Apple")}finally{v(!1)}},T=()=>{window.location.reload()};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:T,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:o.jsx(Sg,{className:"w-6 h-6 text-white"})}),o.jsx("h2",{className:"text-3xl font-black text-white",children:l?"Iniciar Sesión":"Crear Cuenta"})]}),s&&o.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:o.jsx(qT,{className:"w-6 h-6 text-white"})})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"📧 Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(FT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),o.jsx("input",{type:"email",value:u,onChange:A=>h(A.target.value),className:"w-full bg-white/20 border border-white/30 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"tu@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"🔒 Contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx(My,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),o.jsx("input",{type:_?"text":"password",value:f,onChange:A=>m(A.target.value),className:"w-full bg-white/20 border border-white/30 rounded-2xl pl-12 pr-12 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"••••••••",required:!0}),o.jsx("button",{type:"button",onClick:()=>j(!_),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white",children:_?o.jsx(DT,{className:"w-5 h-5"}):o.jsx(OT,{className:"w-5 h-5"})})]})]}),!l&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"🔒 Confirmar Contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx(My,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),o.jsx("input",{type:_?"text":"password",value:g,onChange:A=>b(A.target.value),className:"w-full bg-white/20 border border-white/30 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"••••••••",required:!0})]})]}),E&&o.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-4 text-red-200 text-sm",children:E}),o.jsx("button",{type:"submit",disabled:y||a,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-black py-4 rounded-2xl hover:scale-105 transform transition-all duration-300 shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed",children:y?"⏳ Procesando...":l?"🚀 Iniciar Sesión":"✨ Crear Cuenta"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-white/30"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-transparent text-white/60",children:"o continúa con"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:C,disabled:y||a,className:"w-full flex items-center justify-center gap-3 bg-black text-white font-medium py-3 px-6 rounded-2xl hover:bg-gray-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continuar con Apple"]}),o.jsxs("button",{type:"button",onClick:I,disabled:y||a,className:"w-full flex items-center justify-center gap-3 bg-white text-gray-700 font-medium py-3 px-6 rounded-2xl hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]})]}),R&&o.jsx("div",{className:"mt-4 p-4 bg-green-500/20 border border-green-500/30 rounded-xl",children:o.jsx("p",{className:"text-green-200 text-sm text-center",children:"✅ Email enviado! Revisa tu bandeja de entrada para restablecer tu contraseña."})}),o.jsxs("div",{className:"mt-6 space-y-3",children:[l&&!R&&o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:w,disabled:y||!u,className:"text-white/70 hover:text-white text-sm underline disabled:opacity-50",children:"¿Olvidaste tu contraseña?"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>c(!l),className:"text-white/80 hover:text-white text-sm underline",children:l?"¿No tienes cuenta? Regístrate":"¿Ya tienes cuenta? Inicia sesión"})})]}),o.jsx("div",{className:"mt-6 text-center text-white/60 text-xs",children:"🔒 Tus datos están protegidos con Firebase"})]})}):null},tM=()=>{const[t,e]=V.useState(null),[n,s]=V.useState(!0);return V.useEffect(()=>{const i=ZA(al,a=>{e(a),s(!1)});return()=>i()},[]),{user:t,loading:n,logout:async()=>{try{await eP(al)}catch(i){console.error("Error al cerrar sesión:",i)}}}},nM=t=>{const[e,n]=V.useState(null),[s,r]=V.useState(!1),i=async l=>{if(t){r(!0);try{await L5(ov(dv,"users",t.uid),{...l,lastUpdated:new Date().toISOString()}),n(l)}catch(c){console.error("Error al guardar datos:",c)}r(!1)}},a=async()=>{if(t){r(!0);try{const l=ov(dv,"users",t.uid),c=await D5(l);c.exists()?n(c.data()):n(null)}catch(l){console.error("Error al cargar datos:",l)}r(!1)}};return V.useEffect(()=>{t?a():n(null)},[t]),{userData:e,saveUserData:i,loadUserData:a,loading:s}},xx=(t={})=>{const{threshold:e=50,velocity:n=.3,preventDefault:s=!0,enabled:r=!0,safeZone:i={top:100,bottom:50,left:20,right:20},...a}=t,[l,c]=V.useState({startX:0,startY:0,startTime:0,isSwipping:!1}),u=V.useRef(null);return V.useEffect(()=>{if(!r)return;const h=u.current||document.body,f=b=>{const _=b.touches[0],{clientX:j,clientY:y}=_,{innerWidth:v,innerHeight:E}=window;y<i.top||y>E-i.bottom||j<i.left||j>v-i.right||b.target.closest('button, input, select, textarea, a, [role="button"]')||c({startX:j,startY:y,startTime:Date.now(),isSwipping:!0})},m=b=>{if(!l.isSwipping)return;const _=b.touches[0],j=Math.abs(_.clientX-l.startX),y=Math.abs(_.clientY-l.startY);j>10&&j>y&&s&&b.preventDefault()},g=b=>{if(!l.isSwipping)return;const _=b.changedTouches[0],{clientX:j,clientY:y}=_,v=Date.now(),E=j-l.startX,P=y-l.startY,R=v-l.startTime,M=Math.sqrt(E*E+P*P),N=M/R;if(M>=e&&N>=t.velocity){const w=Math.abs(E),I=Math.abs(P);w>I?E>0&&a.onSwipeRight?a.onSwipeRight():E<0&&a.onSwipeLeft&&a.onSwipeLeft():P>0&&a.onSwipeDown?a.onSwipeDown():P<0&&a.onSwipeUp&&a.onSwipeUp()}c({startX:0,startY:0,startTime:0,isSwipping:!1})};return h.addEventListener("touchstart",f,{passive:!1}),h.addEventListener("touchmove",m,{passive:!1}),h.addEventListener("touchend",g,{passive:!1}),()=>{h.removeEventListener("touchstart",f),h.removeEventListener("touchmove",m),h.removeEventListener("touchend",g)}},[r,e,n,s,i,l.isSwipping,a]),u};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function uc(t){return t+.5|0}const er=(t,e,n)=>Math.max(Math.min(t,n),e);function Oo(t){return er(uc(t*2.55),0,255)}function yr(t){return er(uc(t*255),0,255)}function ds(t){return er(uc(t/2.55)/100,0,1)}function xv(t){return er(uc(t*100),0,100)}const dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wp=[..."0123456789ABCDEF"],sM=t=>wp[t&15],rM=t=>wp[(t&240)>>4]+wp[t&15],nu=t=>(t&240)>>4===(t&15),iM=t=>nu(t.r)&&nu(t.g)&&nu(t.b)&&nu(t.a);function aM(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&dn[t[1]]*17,g:255&dn[t[2]]*17,b:255&dn[t[3]]*17,a:e===5?dn[t[4]]*17:255}:(e===7||e===9)&&(n={r:dn[t[1]]<<4|dn[t[2]],g:dn[t[3]]<<4|dn[t[4]],b:dn[t[5]]<<4|dn[t[6]],a:e===9?dn[t[7]]<<4|dn[t[8]]:255})),n}const oM=(t,e)=>t<255?e(t):"";function lM(t){var e=iM(t)?sM:rM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+oM(t.a,e):void 0}const cM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UE(t,e,n){const s=e*Math.min(n,1-n),r=(i,a=(i+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function uM(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function dM(t,e,n){const s=UE(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function hM(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function yx(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),l=(i+a)/2;let c,u,h;return i!==a&&(h=i-a,u=l>.5?h/(2-i-a):h/(i+a),c=hM(n,s,r,h,i),c=c*60+.5),[c|0,u||0,l]}function bx(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(yr)}function vx(t,e,n){return bx(UE,t,e,n)}function fM(t,e,n){return bx(dM,t,e,n)}function mM(t,e,n){return bx(uM,t,e,n)}function BE(t){return(t%360+360)%360}function pM(t){const e=cM.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Oo(+e[5]):yr(+e[5]));const r=BE(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=fM(r,i,a):e[1]==="hsv"?s=mM(r,i,a):s=vx(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function gM(t,e){var n=yx(t);n[0]=BE(n[0]+e),n=vx(n),t.r=n[0],t.g=n[1],t.b=n[2]}function xM(t){if(!t)return;const e=yx(t),n=e[0],s=xv(e[1]),r=xv(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${ds(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const yv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yM(){const t={},e=Object.keys(bv),n=Object.keys(yv);let s,r,i,a,l;for(s=0;s<e.length;s++){for(a=l=e[s],r=0;r<n.length;r++)i=n[r],l=l.replace(i,yv[i]);i=parseInt(bv[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let su;function bM(t){su||(su=yM(),su.transparent=[0,0,0,0]);const e=su[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const vM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wM(t){const e=vM.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?Oo(a):er(a*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?Oo(s):er(s,0,255)),r=255&(e[4]?Oo(r):er(r,0,255)),i=255&(e[6]?Oo(i):er(i,0,255)),{r:s,g:r,b:i,a:n}}}function _M(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ds(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Hf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Oi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function NM(t,e,n){const s=Oi(ds(t.r)),r=Oi(ds(t.g)),i=Oi(ds(t.b));return{r:yr(Hf(s+n*(Oi(ds(e.r))-s))),g:yr(Hf(r+n*(Oi(ds(e.g))-r))),b:yr(Hf(i+n*(Oi(ds(e.b))-i))),a:t.a+n*(e.a-t.a)}}function ru(t,e,n){if(t){let s=yx(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=vx(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function WE(t,e){return t&&Object.assign(e||{},t)}function vv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=yr(t[3]))):(e=WE(t,{r:0,g:0,b:0,a:1}),e.a=yr(e.a)),e}function EM(t){return t.charAt(0)==="r"?wM(t):pM(t)}class zl{constructor(e){if(e instanceof zl)return e;const n=typeof e;let s;n==="object"?s=vv(e):n==="string"&&(s=aM(e)||bM(e)||EM(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=WE(this._rgb);return e&&(e.a=ds(e.a)),e}set rgb(e){this._rgb=vv(e)}rgbString(){return this._valid?_M(this._rgb):void 0}hexString(){return this._valid?lM(this._rgb):void 0}hslString(){return this._valid?xM(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,c=s.a-r.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=NM(this._rgb,e._rgb,n)),this}clone(){return new zl(this.rgb)}alpha(e){return this._rgb.a=yr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=uc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ru(this._rgb,2,e),this}darken(e){return ru(this._rgb,2,-e),this}saturate(e){return ru(this._rgb,1,e),this}desaturate(e){return ru(this._rgb,1,-e),this}rotate(e){return gM(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function as(){}const jM=(()=>{let t=0;return()=>t++})();function Ne(t){return t==null}function De(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nn(t,e){return gt(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}const SM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,qE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function je(t,e,n,s){let r,i,a;if(De(t))if(i=t.length,s)for(r=i-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<i;r++)e.call(n,t[r],r);else if(xe(t))for(a=Object.keys(t),i=a.length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])}function Md(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Dd(t){if(De(t))return t.map(Dd);if(xe(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Dd(t[n[r]]);return e}return t}function HE(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function IM(t,e,n,s){if(!HE(t))return;const r=e[t],i=n[t];xe(r)&&xe(i)?Ul(r,i,s):e[t]=Dd(i)}function Ul(t,e,n){const s=De(e)?e:[e],r=s.length;if(!xe(t))return t;n=n||{};const i=n.merger||IM;let a;for(let l=0;l<r;++l){if(a=s[l],!xe(a))continue;const c=Object.keys(a);for(let u=0,h=c.length;u<h;++u)i(c[u],t,a,n)}return t}function ol(t,e){return Ul(t,e,{merger:TM})}function TM(t,e,n){if(!HE(t))return;const s=e[t],r=n[t];xe(s)&&xe(r)?ol(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Dd(r))}const wv={"":t=>t,x:t=>t.x,y:t=>t.y};function kM(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function CM(t){const e=kM(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function xi(t,e){return(wv[e]||(wv[e]=CM(e)))(t)}function wx(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bl=t=>typeof t<"u",Ir=t=>typeof t=="function",_v=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function AM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const we=Math.PI,Oe=2*we,PM=Oe+we,Od=Number.POSITIVE_INFINITY,RM=we/180,Ye=we/2,Ur=we/4,Nv=we*2/3,tr=Math.log10,Zn=Math.sign;function ll(t,e,n){return Math.abs(t-e)<n}function Ev(t){const e=Math.round(t);t=ll(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tr(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function MM(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function DM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ld(t){return!DM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function OM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function $E(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function $n(t){return t*(we/180)}function _x(t){return t*(180/we)}function jv(t){if(!gt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function GE(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*we&&(i+=Oe),{angle:i,distance:r}}function _p(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LM(t,e){return(t-e+PM)%Oe-we}function qt(t){return(t%Oe+Oe)%Oe}function Wl(t,e,n,s){const r=qt(t),i=qt(e),a=qt(n),l=qt(i-r),c=qt(a-r),u=qt(r-i),h=qt(r-a);return r===i||r===a||s&&i===a||l>c&&u<h}function Kt(t,e,n){return Math.max(e,Math.min(n,t))}function VM(t){return Kt(t,-32768,32767)}function nr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Nx(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Np=(t,e,n,s)=>Nx(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),FM=(t,e,n)=>Nx(t,n,s=>t[s][e]>=n);function zM(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const KE=["push","pop","shift","splice","unshift"];function UM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),KE.forEach(n=>{const s="_onData"+wx(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),a}})})}function Sv(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(KE.forEach(i=>{delete t[i]}),delete t._chartjs)}function QE(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const YE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function XE(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,YE.call(window,()=>{s=!1,t.apply(e,n)}))}}function BM(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Ex=t=>t==="start"?"left":t==="end"?"right":"center",kt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,WM=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,iu=t=>t===0||t===1,Iv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Oe/n)),Tv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Oe/n)+1,cl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ye)+1,easeOutSine:t=>Math.sin(t*Ye),easeInOutSine:t=>-.5*(Math.cos(we*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>iu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>iu(t)?t:Iv(t,.075,.3),easeOutElastic:t=>iu(t)?t:Tv(t,.075,.3),easeInOutElastic(t){return iu(t)?t:t<.5?.5*Iv(t*2,.1125,.45):.5+.5*Tv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-cl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?cl.easeInBounce(t*2)*.5:cl.easeOutBounce(t*2-1)*.5+.5};function jx(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kv(t){return jx(t)?t:new zl(t)}function $f(t){return jx(t)?t:new zl(t).saturate(.5).darken(.1).hexString()}const qM=["x","y","borderWidth","radius","tension"],HM=["color","borderColor","backgroundColor"];function $M(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:HM},numbers:{type:"number",properties:qM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function GM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cv=new Map;function KM(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Cv.get(n);return s||(s=new Intl.NumberFormat(t,e),Cv.set(n,s)),s}function Mh(t,e,n){return KM(e,n).format(t)}const JE={values(t){return De(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=QM(t,n)}const a=tr(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Mh(t,s,c)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(tr(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?JE.numeric.call(this,t,e,n):""}};function QM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Dh={formatters:JE};function YM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const yi=Object.create(null),Ep=Object.create(null);function ul(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function Gf(t,e,n){return typeof e=="string"?Ul(ul(t,e),n):Ul(ul(t,""),e)}class XM{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>$f(r.backgroundColor),this.hoverBorderColor=(s,r)=>$f(r.borderColor),this.hoverColor=(s,r)=>$f(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Gf(this,e,n)}get(e){return ul(this,e)}describe(e,n){return Gf(Ep,e,n)}override(e,n){return Gf(yi,e,n)}route(e,n,s,r){const i=ul(this,e),a=ul(this,s),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],u=a[r];return xe(c)?Object.assign({},u,c):ce(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(n=>n(this))}}var $e=new XM({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$M,GM,YM]);function JM(t){return!t||Ne(t.size)||Ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Vd(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function ZM(t,e,n,s){s=s||{};let r=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(r=s.data={},i=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let a=0;const l=n.length;let c,u,h,f,m;for(c=0;c<l;c++)if(f=n[c],f!=null&&!De(f))a=Vd(t,r,i,a,f);else if(De(f))for(u=0,h=f.length;u<h;u++)m=f[u],m!=null&&!De(m)&&(a=Vd(t,r,i,a,m));t.restore();const g=i.length/2;if(g>n.length){for(c=0;c<g;c++)delete r[i[c]];i.splice(0,g)}return a}function Br(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Av(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function jp(t,e,n,s){ZE(t,e,n,s,null)}function ZE(t,e,n,s,r){let i,a,l,c,u,h,f,m;const g=e.pointStyle,b=e.rotation,_=e.radius;let j=(b||0)*RM;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(j),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,s,r/2,_,0,0,Oe):t.arc(n,s,_,0,Oe),t.closePath();break;case"triangle":h=r?r/2:_,t.moveTo(n+Math.sin(j)*h,s-Math.cos(j)*_),j+=Nv,t.lineTo(n+Math.sin(j)*h,s-Math.cos(j)*_),j+=Nv,t.lineTo(n+Math.sin(j)*h,s-Math.cos(j)*_),t.closePath();break;case"rectRounded":u=_*.516,c=_-u,a=Math.cos(j+Ur)*c,f=Math.cos(j+Ur)*(r?r/2-u:c),l=Math.sin(j+Ur)*c,m=Math.sin(j+Ur)*(r?r/2-u:c),t.arc(n-f,s-l,u,j-we,j-Ye),t.arc(n+m,s-a,u,j-Ye,j),t.arc(n+f,s+l,u,j,j+Ye),t.arc(n-m,s+a,u,j+Ye,j+we),t.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*_,h=r?r/2:c,t.rect(n-h,s-c,2*h,2*c);break}j+=Ur;case"rectRot":f=Math.cos(j)*(r?r/2:_),a=Math.cos(j)*_,l=Math.sin(j)*_,m=Math.sin(j)*(r?r/2:_),t.moveTo(n-f,s-l),t.lineTo(n+m,s-a),t.lineTo(n+f,s+l),t.lineTo(n-m,s+a),t.closePath();break;case"crossRot":j+=Ur;case"cross":f=Math.cos(j)*(r?r/2:_),a=Math.cos(j)*_,l=Math.sin(j)*_,m=Math.sin(j)*(r?r/2:_),t.moveTo(n-f,s-l),t.lineTo(n+f,s+l),t.moveTo(n+m,s-a),t.lineTo(n-m,s+a);break;case"star":f=Math.cos(j)*(r?r/2:_),a=Math.cos(j)*_,l=Math.sin(j)*_,m=Math.sin(j)*(r?r/2:_),t.moveTo(n-f,s-l),t.lineTo(n+f,s+l),t.moveTo(n+m,s-a),t.lineTo(n-m,s+a),j+=Ur,f=Math.cos(j)*(r?r/2:_),a=Math.cos(j)*_,l=Math.sin(j)*_,m=Math.sin(j)*(r?r/2:_),t.moveTo(n-f,s-l),t.lineTo(n+f,s+l),t.moveTo(n+m,s-a),t.lineTo(n-m,s+a);break;case"line":a=r?r/2:Math.cos(j)*_,l=Math.sin(j)*_,t.moveTo(n-a,s-l),t.lineTo(n+a,s+l);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(j)*(r?r/2:_),s+Math.sin(j)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gs(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Sx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ix(t){t.restore()}function eD(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function tD(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function nD(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function sD(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,h=r.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,h),t.lineTo(l,h),t.stroke()}}function rD(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function bi(t,e,n,s,r,i={}){const a=De(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=r.string,nD(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&rD(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ne(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),sD(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function ql(t,e){const{x:n,y:s,w:r,h:i,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*we,we,!0),t.lineTo(n,s+i-a.bottomLeft),t.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,we,Ye,!0),t.lineTo(n+r-a.bottomRight,s+i),t.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,Ye,0,!0),t.lineTo(n+r,s+a.topRight),t.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-Ye,!0),t.lineTo(n+a.topLeft,s)}const iD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function oD(t,e){const n=(""+t).match(iD);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const lD=t=>+t||0;function Tx(t,e){const n={},s=xe(e),r=s?Object.keys(e):e,i=xe(t)?s?a=>ce(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=lD(i(a));return n}function ej(t){return Tx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ri(t){return Tx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Dt(t){const e=ej(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lt(t,e){t=t||{},e=e||$e.font;let n=ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ce(t.style,e.style);s&&!(""+s).match(aD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:ce(t.family,e.family),lineHeight:oD(ce(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ce(t.weight,e.weight),string:""};return r.string=JM(r),r}function au(t,e,n,s){let r=!0,i,a,l;for(i=0,a=t.length;i<a;++i)if(l=t[i],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),r=!1),n!==void 0&&De(l)&&(l=l[n%l.length],r=!1),l!==void 0))return s&&!r&&(s.cacheable=!1),l}function cD(t,e,n){const{min:s,max:r}=t,i=qE(e,(r-s)/2),a=(l,c)=>n&&l===0?0:l+c;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function Ar(t,e){return Object.assign(Object.create(t),e)}function kx(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=rj("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:l=>kx([l,...t],e,i,s)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return nj(l,c,()=>xD(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Rv(l).includes(c)},ownKeys(l){return Rv(l)},set(l,c,u){const h=l._storage||(l._storage=r());return l[c]=h[c]=u,delete l._keys,!0}})}function Ca(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:tj(t,s),setContext:i=>Ca(t,i,n,s),override:i=>Ca(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return nj(i,a,()=>dD(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function tj(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Ir(n)?n:()=>n,isIndexable:Ir(s)?s:()=>s}}const uD=(t,e)=>t?t+wx(e):e,Cx=(t,e)=>xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nj(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function dD(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=t;let l=s[e];return Ir(l)&&a.isScriptable(e)&&(l=hD(e,l,t,n)),De(l)&&l.length&&(l=fD(e,l,t,a.isIndexable)),Cx(e,l)&&(l=Ca(l,r,i&&i[e],a)),l}function hD(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||s);return l.delete(t),Cx(t,c)&&(c=Ax(r._scopes,r,t,c)),c}function fD(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:l}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(xe(e[0])){const c=e,u=r._scopes.filter(h=>h!==c);e=[];for(const h of c){const f=Ax(u,r,t,h);e.push(Ca(f,i,a&&a[t],l))}}return e}function sj(t,e,n){return Ir(t)?t(e,n):t}const mD=(t,e)=>t===!0?e:typeof t=="string"?xi(e,t):void 0;function pD(t,e,n,s,r){for(const i of e){const a=mD(n,i);if(a){t.add(a);const l=sj(a._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==s)return l}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function Ax(t,e,n,s){const r=e._rootScopes,i=sj(e._fallback,n,s),a=[...t,...r],l=new Set;l.add(s);let c=Pv(l,a,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=Pv(l,a,i,c,s),c===null)?!1:kx(Array.from(l),[""],r,i,()=>gD(e,n,s))}function Pv(t,e,n,s,r){for(;n;)n=pD(t,e,n,s,r);return n}function gD(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return De(r)&&xe(n)?n:r||{}}function xD(t,e,n,s){let r;for(const i of e)if(r=rj(uD(i,t),n),typeof r<"u")return Cx(t,r)?Ax(n,s,t,r):r}function rj(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Rv(t){let e=t._keys;return e||(e=t._keys=yD(t._scopes)),e}function yD(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const bD=Number.EPSILON||1e-14,Aa=(t,e)=>e<t.length&&!t[e].skip&&t[e],ij=t=>t==="x"?"y":"x";function vD(t,e,n,s){const r=t.skip?e:t,i=e,a=n.skip?e:n,l=_p(i,r),c=_p(a,i);let u=l/(l+c),h=c/(l+c);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const f=s*u,m=s*h;return{previous:{x:i.x-f*(a.x-r.x),y:i.y-f*(a.y-r.y)},next:{x:i.x+m*(a.x-r.x),y:i.y+m*(a.y-r.y)}}}function wD(t,e,n){const s=t.length;let r,i,a,l,c,u=Aa(t,0);for(let h=0;h<s-1;++h)if(c=u,u=Aa(t,h+1),!(!c||!u)){if(ll(e[h],0,bD)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],i=n[h+1]/e[h],l=Math.pow(r,2)+Math.pow(i,2),!(l<=9)&&(a=3/Math.sqrt(l),n[h]=r*a*e[h],n[h+1]=i*a*e[h])}}function _D(t,e,n="x"){const s=ij(n),r=t.length;let i,a,l,c=Aa(t,0);for(let u=0;u<r;++u){if(a=l,l=c,c=Aa(t,u+1),!l)continue;const h=l[n],f=l[s];a&&(i=(h-a[n])/3,l[`cp1${n}`]=h-i,l[`cp1${s}`]=f-i*e[u]),c&&(i=(c[n]-h)/3,l[`cp2${n}`]=h+i,l[`cp2${s}`]=f+i*e[u])}}function ND(t,e="x"){const n=ij(e),s=t.length,r=Array(s).fill(0),i=Array(s);let a,l,c,u=Aa(t,0);for(a=0;a<s;++a)if(l=c,c=u,u=Aa(t,a+1),!!c){if(u){const h=u[e]-c[e];r[a]=h!==0?(u[n]-c[n])/h:0}i[a]=l?u?Zn(r[a-1])!==Zn(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}wD(t,r,i),_D(t,i,e)}function ou(t,e,n){return Math.max(Math.min(t,n),e)}function ED(t,e){let n,s,r,i,a,l=gs(t[0],e);for(n=0,s=t.length;n<s;++n)a=i,i=l,l=n<s-1&&gs(t[n+1],e),i&&(r=t[n],a&&(r.cp1x=ou(r.cp1x,e.left,e.right),r.cp1y=ou(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=ou(r.cp2x,e.left,e.right),r.cp2y=ou(r.cp2y,e.top,e.bottom)))}function jD(t,e,n,s,r){let i,a,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")ND(t,r);else{let u=s?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)l=t[i],c=vD(u,l,t[Math.min(i+1,a-(s?0:1))%a],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&ED(t,n)}function Px(){return typeof window<"u"&&typeof document<"u"}function Rx(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fd(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Oh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function SD(t,e){return Oh(t).getPropertyValue(e)}const ID=["top","right","bottom","left"];function ii(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=ID[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const TD=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function kD(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let a=!1,l,c;if(TD(r,i,t.target))l=r,c=i;else{const u=e.getBoundingClientRect();l=s.clientX-u.left,c=s.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Qr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=Oh(n),i=r.boxSizing==="border-box",a=ii(r,"padding"),l=ii(r,"border","width"),{x:c,y:u,box:h}=kD(t,n),f=a.left+(h&&l.left),m=a.top+(h&&l.top);let{width:g,height:b}=e;return i&&(g-=a.width+l.width,b-=a.height+l.height),{x:Math.round((c-f)/g*n.width/s),y:Math.round((u-m)/b*n.height/s)}}function CD(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&Rx(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),l=Oh(i),c=ii(l,"border","width"),u=ii(l,"padding");e=a.width-u.width-c.width,n=a.height-u.height-c.height,s=Fd(l.maxWidth,i,"clientWidth"),r=Fd(l.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Od,maxHeight:r||Od}}const lu=t=>Math.round(t*10)/10;function AD(t,e,n,s){const r=Oh(t),i=ii(r,"margin"),a=Fd(r.maxWidth,t,"clientWidth")||Od,l=Fd(r.maxHeight,t,"clientHeight")||Od,c=CD(t,e,n);let{width:u,height:h}=c;if(r.boxSizing==="content-box"){const m=ii(r,"border","width"),g=ii(r,"padding");u-=g.width+m.width,h-=g.height+m.height}return u=Math.max(0,u-i.width),h=Math.max(0,s?u/s:h-i.height),u=lu(Math.min(u,a,c.maxWidth)),h=lu(Math.min(h,l,c.maxHeight)),u&&!h&&(h=lu(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&h>c.height&&(h=c.height,u=lu(Math.floor(h*s))),{width:u,height:h}}function Mv(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(t.currentDevicePixelRatio=s,a.height=r,a.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const PD=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Px()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Dv(t,e){const n=SD(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Yr(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function RD(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function MD(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Yr(t,r,n),l=Yr(r,i,n),c=Yr(i,e,n),u=Yr(a,l,n),h=Yr(l,c,n);return Yr(u,h,n)}const DD=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},OD=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ha(t,e,n){return t?DD(e,n):OD()}function aj(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function oj(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function lj(t){return t==="angle"?{between:Wl,compare:LM,normalize:qt}:{between:nr,compare:(e,n)=>e-n,normalize:e=>e}}function Ov({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function LD(t,e,n){const{property:s,start:r,end:i}=n,{between:a,normalize:l}=lj(s),c=e.length;let{start:u,end:h,loop:f}=t,m,g;if(f){for(u+=c,h+=c,m=0,g=c;m<g&&a(l(e[u%c][s]),r,i);++m)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:f,style:t.style}}function VD(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,a=e.length,{compare:l,between:c,normalize:u}=lj(s),{start:h,end:f,loop:m,style:g}=LD(t,e,n),b=[];let _=!1,j=null,y,v,E;const P=()=>c(r,E,y)&&l(r,E)!==0,R=()=>l(i,y)===0||c(i,E,y),M=()=>_||P(),N=()=>!_||R();for(let w=h,I=h;w<=f;++w)v=e[w%a],!v.skip&&(y=u(v[s]),y!==E&&(_=c(y,r,i),j===null&&M()&&(j=l(y,r)===0?w:I),j!==null&&N()&&(b.push(Ov({start:j,end:w,loop:m,count:a,style:g})),j=null),I=w,E=y));return j!==null&&b.push(Ov({start:j,end:f,loop:m,count:a,style:g})),b}function FD(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=VD(s[r],t.points,e);i.length&&n.push(...i)}return n}function zD(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function UD(t,e,n,s){const r=t.length,i=[];let a=e,l=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%r];u.skip||u.stop?l.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=a=u.stop?c:null):(a=c,l.skip&&(e=c)),l=u}return a!==null&&i.push({start:e%r,end:a%r,loop:s}),i}function BD(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:a,end:l}=zD(n,r,i,s);if(s===!0)return Lv(t,[{start:a,end:l,loop:i}],n,e);const c=l<a?l+r:l,u=!!t._fullLoop&&a===0&&l===r-1;return Lv(t,UD(n,a,c,u),n,e)}function Lv(t,e,n,s){return!s||!s.setContext||!n?e:WD(t,e,n,s)}function WD(t,e,n,s){const r=t._chart.getContext(),i=Vv(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,c=n.length,u=[];let h=i,f=e[0].start,m=f;function g(b,_,j,y){const v=l?-1:1;if(b!==_){for(b+=c;n[b%c].skip;)b-=v;for(;n[_%c].skip;)_+=v;b%c!==_%c&&(u.push({start:b%c,end:_%c,loop:j,style:y}),h=y,f=_%c)}}for(const b of e){f=l?f:b.start;let _=n[f%c],j;for(m=f+1;m<=b.end;m++){const y=n[m%c];j=Vv(s.setContext(Ar(r,{type:"segment",p0:_,p1:y,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:a}))),qD(j,h)&&g(f,m-1,b.loop,h),_=y,h=j}f<m-1&&g(f,m-1,b.loop,h)}return u}function Vv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qD(t,e){if(!e)return!1;const n=[],s=function(r,i){return jx(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function cu(t,e,n){return t.options.clip?t[n]:e[n]}function HD(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:cu(n,e,"left"),right:cu(n,e,"right"),top:cu(s,e,"top"),bottom:cu(s,e,"bottom")}:e}function $D(t,e){const n=e._clip;if(n.disabled)return!1;const s=HD(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class GD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=YE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var os=new GD;const Fv="transparent",KD={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=kv(t||Fv),r=s.valid&&kv(e||Fv);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class QD{constructor(e,n,s,r){const i=n[s];r=au([e.to,r,i,e.from]);const a=au([e.from,i,r]);this._active=!0,this._fn=e.fn||KD[e.type||typeof a],this._easing=cl[e.easing]||cl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=au([e.to,n,r,e.from]),this._from=au([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||n<s),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class cj{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!xe(e))return;const n=Object.keys($e.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!xe(i))return;const a={};for(const l of n)a[l]=i[l];(De(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!s.has(l))&&s.set(l,a)})})}_animateOptions(e,n){const s=n.options,r=XD(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&YD(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[u];let f=i[u];const m=s.get(u);if(f)if(m&&f.active()){f.update(m,h,l);continue}else f.cancel();if(!m||!m.duration){e[u]=h;continue}i[u]=f=new QD(m,e,u,h),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return os.add(this._chart,s),!0}}function YD(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function XD(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function zv(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function JD(t,e,n){if(n===!1)return!1;const s=zv(t,n),r=zv(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function ZD(t){let e,n,s,r;return xe(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function uj(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Uv(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let a,l,c,u;if(e===null)return;let h=!1;for(a=0,l=r.length;a<l;++a){if(c=+r[a],c===n){if(h=!0,s.all)continue;break}u=t.values[c],gt(u)&&(i||e===0||Zn(e)===Zn(u))&&(e+=u)}return!h&&!s.all?0:e}function e6(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,h;for(c=0,u=a.length;c<u;++c)h=a[c],l[c]={[r]:h,[i]:t[h]};return l}function Kf(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function t6(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function n6(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function s6(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Bv(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Wv(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:l}=s,c=i.axis,u=a.axis,h=t6(i,a,s),f=e.length;let m;for(let g=0;g<f;++g){const b=e[g],{[c]:_,[u]:j}=b,y=b._stacks||(b._stacks={});m=y[u]=s6(r,h,_),m[l]=j,m._top=Bv(m,a,!0,s.type),m._bottom=Bv(m,a,!1,s.type);const v=m._visualValues||(m._visualValues={});v[l]=j}}function Qf(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function r6(t,e){return Ar(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function i6(t,e,n){return Ar(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function bo(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Yf=t=>t==="reset"||t==="none",qv=(t,e)=>e?t:Object.assign({},t),a6=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:uj(n,!0),values:null};class fa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&bo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(f,m,g,b)=>f==="x"?m:f==="r"?b:g,i=n.xAxisID=ce(s.xAxisID,Qf(e,"x")),a=n.yAxisID=ce(s.yAxisID,Qf(e,"y")),l=n.rAxisID=ce(s.rAxisID,Qf(e,"r")),c=n.indexAxis,u=n.iAxisID=r(c,i,a,l),h=n.vAxisID=r(c,a,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Sv(this._data,this),e._stacked&&bo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(xe(n)){const r=this._cachedMeta;this._data=e6(n,r)}else if(s!==n){if(s){Sv(s,this);const r=this._cachedMeta;bo(r),r._parsed=[]}n&&Object.isExtensible(n)&&UM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Kf(n.vScale,n),n.stack!==s.stack&&(r=!0,bo(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Wv(this,n._parsed),n._stacked=Kf(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,l=i.axis;let c=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],h,f,m;if(this._parsing===!1)s._parsed=r,s._sorted=!0,m=r;else{De(r[e])?m=this.parseArrayData(s,r,e,n):xe(r[e])?m=this.parseObjectData(s,r,e,n):m=this.parsePrimitiveData(s,r,e,n);const g=()=>f[l]===null||u&&f[l]<u[l];for(h=0;h<n;++h)s._parsed[h+e]=f=m[h],c&&(g()&&(c=!1),u=f);s._sorted=c}a&&Wv(this,m)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),h=i===a,f=new Array(r);let m,g,b;for(m=0,g=r;m<g;++m)b=m+s,f[m]={[l]:h||i.parse(u[b],b),[c]:a.parse(n[b],b)};return f}parseArrayData(e,n,s,r){const{xScale:i,yScale:a}=e,l=new Array(r);let c,u,h,f;for(c=0,u=r;c<u;++c)h=c+s,f=n[h],l[c]={x:i.parse(f[0],h),y:a.parse(f[1],h)};return l}parseObjectData(e,n,s,r){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(r);let h,f,m,g;for(h=0,f=r;h<f;++h)m=h+s,g=n[m],u[h]={x:i.parse(xi(g,l),m),y:a.parse(xi(g,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,a=n[e.axis],l={keys:uj(r,!0),values:n._stacks[e.axis]._visualValues};return Uv(l,a,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const l=r&&s._stacks[n.axis];r&&l&&(r.values=l,a=Uv(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,a=r.length,l=this._getOtherScale(e),c=a6(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=n6(l);let m,g;function b(){g=r[m];const _=g[l.axis];return!gt(g[e.axis])||h>_||f<_}for(m=0;m<a&&!(!b()&&(this.updateRangeFromParsed(u,e,g,c),i));++m);if(i){for(m=a-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][e.axis],gt(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ZD(ce(this.options.clip,JD(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,u=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(e,i,l,c),h=l;h<l+c;++h){const f=r[h];f.hidden||(f.active&&u?a.push(f):f.draw(e,i))}for(h=0;h<a.length;++h)a[h].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=i6(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=r6(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=e+"-"+n,l=i[a],c=this.enableOptionSharing&&Bl(s);if(l)return qv(l,c);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),h),g=Object.keys($e.elements[e]),b=()=>this.getContext(s,r,n),_=u.resolveNamedOptions(m,g,b,f);return _.$shared&&(_.$shared=c,i[a]=Object.freeze(qv(_,c))),_}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,l=i[a];if(l)return l;let c;if(r.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(m,this.getContext(e,s,n))}const u=new cj(r,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Yf(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(e,n,s,r){Yf(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!Yf(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,a=e+n;let l;const c=u=>{for(u.length+=n,l=u.length-1;l>=a;l--)u[l]=u[l-n]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&bo(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(fa,"defaults",{}),Y(fa,"datasetElementType",null),Y(fa,"dataElementType",null);function o6(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=QE(s.sort((r,i)=>r-i))}return t._cache.$bar}function l6(t){const e=t.iScale,n=o6(e,t.type);let s=e._length,r,i,a,l;const c=()=>{a===32767||a===-32768||(Bl(l)&&(s=Math.min(s,Math.abs(a-l)||s)),l=a)};for(r=0,i=n.length;r<i;++r)a=e.getPixelForValue(n[r]),c();for(l=void 0,r=0,i=e.ticks.length;r<i;++r)a=e.getPixelForTick(r),c();return s}function c6(t,e,n,s){const r=n.barThickness;let i,a;return Ne(r)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:e.pixels[t]-i/2}}function u6(t,e,n,s){const r=e.pixels,i=r[t];let a=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/s,ratio:n.barPercentage,start:u}}function d6(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),a=Math.min(r,i),l=Math.max(r,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:r,end:i,min:a,max:l}}function dj(t,e,n,s){return De(t)?d6(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Hv(t,e,n,s){const r=t.iScale,i=t.vScale,a=r.getLabels(),l=r===i,c=[];let u,h,f,m;for(u=n,h=n+s;u<h;++u)m=e[u],f={},f[r.axis]=l||r.parse(a[u],u),c.push(dj(m,f,i,u));return c}function Xf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function h6(t,e,n){return t!==0?Zn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function f6(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function m6(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:h}=f6(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=h:(i[$v(h,a,l,c)]=!0,r=u)),i[$v(r,a,l,c)]=!0,t.borderSkipped=i}function $v(t,e,n,s){return s?(t=p6(t,e,n),t=Gv(t,n,e)):t=Gv(t,e,n),t}function p6(t,e,n){return t===e?n:t===n?e:t}function Gv(t,e,n){return t==="start"?e:t==="end"?n:t}function g6(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Uu extends fa{parsePrimitiveData(e,n,s,r){return Hv(e,n,s,r)}parseArrayData(e,n,s,r){return Hv(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,h=a.axis==="x"?l:c,f=[];let m,g,b,_;for(m=s,g=s+r;m<g;++m)_=n[m],b={},b[i.axis]=i.parse(xi(_,u),m),f.push(dj(xi(_,h),b,a,m));return f}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),a=i._custom,l=Xf(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,r);for(let g=n;g<n+s;g++){const b=this.getParsed(g),_=i||Ne(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),j=this._calculateBarIndexPixels(g,h),y=(b._stacks||{})[l.axis],v={horizontal:u,base:_.base,enableBorderRadius:!y||Xf(b._custom)||a===y._top||a===y._bottom,x:u?_.head:j.center,y:u?j.center:_.head,height:u?j.size:Math.abs(_.size),width:u?Math.abs(_.size):j.size};m&&(v.options=f||this.resolveDataElementOptions(g,e[g].active?"active":r));const E=v.options||e[g].options;m6(v,E,y,a),g6(v,E,h.ratio),this.updateElement(e[g],g,v,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),i=s.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[s.axis],u=h=>{const f=h._parsed.find(g=>g[s.axis]===c),m=f&&f[h.vScale.axis];if(Ne(m)||isNaN(m))return!0};for(const h of r)if(!(n!==void 0&&u(h))&&((i===!1||a.indexOf(h.stack)===-1||i===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ce(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||l6(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,h=Xf(u);let f=c[n.axis],m=0,g=s?this.applyStack(n,c,s):f,b,_;g!==f&&(m=g-f,g=f),h&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&Zn(f)!==Zn(u.barEnd)&&(m=0),m+=f);const j=!Ne(i)&&!h?i:m;let y=n.getPixelForValue(j);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(m+g):b=y,_=b-y,Math.abs(_)<a){_=h6(_,n,l)*a,f===l&&(y-=_/2);const v=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),P=Math.min(v,E),R=Math.max(v,E);y=Math.max(Math.min(y,R),P),b=y+_,s&&!h&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(b)-n.getValueForPixel(y))}if(y===n.getPixelForValue(l)){const v=Zn(_)*n.getLineWidthForValue(l)/2;y+=v,_-=v}return{size:_,base:y,head:b,center:b+_/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,a=ce(r.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(n.grouped){const h=i?this._getStackCount(e):n.stackCount,f=r.barThickness==="flex"?u6(e,n,r,h*u):c6(e,n,r,h*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ce(m,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;l=f.start+f.chunk*b+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}Y(Uu,"id","bar"),Y(Uu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(Uu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function x6(t,e,n){let s=1,r=1,i=0,a=0;if(e<Oe){const l=t,c=l+e,u=Math.cos(l),h=Math.sin(l),f=Math.cos(c),m=Math.sin(c),g=(E,P,R)=>Wl(E,l,c,!0)?1:Math.max(P,P*n,R,R*n),b=(E,P,R)=>Wl(E,l,c,!0)?-1:Math.min(P,P*n,R,R*n),_=g(0,u,f),j=g(Ye,h,m),y=b(we,u,f),v=b(we+Ye,h,m);s=(_-y)/2,r=(j-v)/2,i=-(_+y)/2,a=-(j+v)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class Lo extends fa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=c=>+s[c];if(xe(s[e])){const{key:c="value"}=this._parsing;i=u=>+xi(s[u],c)}let a,l;for(a=e,l=e+n;a<l;++a)r._parsed[a]=i(a)}}_getRotation(){return $n(this.options.rotation-90)}_getCircumference(){return $n(this.options.circumference)}_getRotationExtents(){let e=Oe,n=-Oe;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-a)/2,0),c=Math.min(SM(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:b,offsetY:_}=x6(f,h,c),j=(s.width-a)/m,y=(s.height-a)/g,v=Math.max(Math.min(j,y)/2,0),E=qE(this.options.radius,v),P=Math.max(E*c,0),R=(E-P)/this._getVisibleDatasetWeightTotal();this.offsetX=b*E,this.offsetY=_*E,r.total=this.calculateTotal(),this.outerRadius=E-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Oe)}updateElements(e,n,s,r){const i=r==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=i&&u.animateScale,g=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:_,includeOptions:j}=this._getSharedOptions(n,r);let y=this._getRotation(),v;for(v=0;v<n;++v)y+=this._circumference(v,i);for(v=n;v<n+s;++v){const E=this._circumference(v,i),P=e[v],R={x:h+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+E,circumference:E,outerRadius:b,innerRadius:g};j&&(R.options=_||this.resolveDataElementOptions(v,P.active?"active":r)),y+=E,this.updateElement(P,v,R,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Oe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Mh(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,a,l,c;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(Lo,"id","doughnut"),Y(Lo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(Lo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Y(Lo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Wr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mx{constructor(e){Y(this,"options");this.options=e||{}}static override(e){Object.assign(Mx.prototype,e)}init(){}formats(){return Wr()}parse(){return Wr()}format(){return Wr()}add(){return Wr()}diff(){return Wr()}startOf(){return Wr()}endOf(){return Wr()}}var y6={_date:Mx};function b6(t,e,n,s){const{controller:r,data:i,_sorted:a}=t,l=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const u=l._reversePixels?FM:Np;if(s){if(r._sharedOptions){const h=i[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const m=u(i,e,n-f),g=u(i,e,n+f);return{lo:m.lo,hi:g.hi}}}}else{const h=u(i,e,n);if(c){const{vScale:f}=r._cachedMeta,{_parsed:m}=t,g=m.slice(0,h.lo+1).reverse().findIndex(_=>!Ne(_[f.axis]));h.lo-=Math.max(0,g);const b=m.slice(h.hi).findIndex(_=>!Ne(_[f.axis]));h.hi+=Math.max(0,b)}return h}}return{lo:0,hi:i.length-1}}function dc(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:h}=i[l],{lo:f,hi:m}=b6(i[l],e,a,r);for(let g=f;g<=m;++g){const b=h[g];b.skip||s(b,u,g)}}}function v6(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Jf(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||dc(t,n,e,function(l,c,u){!r&&!gs(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function w6(t,e,n,s){let r=[];function i(a,l,c){const{startAngle:u,endAngle:h}=a.getProps(["startAngle","endAngle"],s),{angle:f}=GE(a,{x:e.x,y:e.y});Wl(f,u,h)&&r.push({element:a,datasetIndex:l,index:c})}return dc(t,n,e,i),r}function _6(t,e,n,s,r,i){let a=[];const l=v6(n);let c=Number.POSITIVE_INFINITY;function u(h,f,m){const g=h.inRange(e.x,e.y,r);if(s&&!g)return;const b=h.getCenterPoint(r);if(!(!!i||t.isPointInArea(b))&&!g)return;const j=l(e,b);j<c?(a=[{element:h,datasetIndex:f,index:m}],c=j):j===c&&a.push({element:h,datasetIndex:f,index:m})}return dc(t,n,e,u),a}function Zf(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?w6(t,e,n,r):_6(t,e,n,s,r,i)}function Kv(t,e,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return dc(t,n,e,(c,u,h)=>{c[a]&&c[a](e[n],r)&&(i.push({element:c,datasetIndex:u,index:h}),l=l||c.inRange(e.x,e.y,r))}),s&&!l?[]:i}var N6={evaluateInteractionItems:dc,modes:{index(t,e,n,s){const r=Qr(e,t),i=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Jf(t,r,i,s,a):Zf(t,r,i,!1,s,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=l[0].index,f=u.data[h];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:h})}),c):[]},dataset(t,e,n,s){const r=Qr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Jf(t,r,i,s,a):Zf(t,r,i,!1,s,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let h=0;h<u.length;++h)l.push({element:u[h],datasetIndex:c,index:h})}return l},point(t,e,n,s){const r=Qr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Jf(t,r,i,s,a)},nearest(t,e,n,s){const r=Qr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Zf(t,r,i,n.intersect,s,a)},x(t,e,n,s){const r=Qr(e,t);return Kv(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Qr(e,t);return Kv(t,r,"y",n.intersect,s)}}};const hj=["left","top","right","bottom"];function vo(t,e){return t.filter(n=>n.pos===e)}function Qv(t,e){return t.filter(n=>hj.indexOf(n.pos)===-1&&n.box.axis===e)}function wo(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function E6(t){const e=[];let n,s,r,i,a,l;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:a,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:l});return e}function j6(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!hj.includes(r))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function S6(t,e){const n=j6(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=n[l.stack],h=u&&l.stackWeight/u.weight;l.horizontal?(l.width=h?h*s:c&&e.availableWidth,l.height=r):(l.width=s,l.height=h?h*r:c&&e.availableHeight)}return n}function I6(t){const e=E6(t),n=wo(e.filter(u=>u.box.fullSize),!0),s=wo(vo(e,"left"),!0),r=wo(vo(e,"right")),i=wo(vo(e,"top"),!0),a=wo(vo(e,"bottom")),l=Qv(e,"x"),c=Qv(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(a).concat(l),chartArea:vo(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(a).concat(l)}}function Yv(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function fj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function T6(t,e,n,s){const{pos:r,box:i}=n,a=t.maxPadding;if(!xe(r)){n.size&&(t[r]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?i.height:i.width),n.size=f.size/f.count,t[r]+=n.size}i.getPadding&&fj(a,i.getPadding());const l=Math.max(0,e.outerWidth-Yv(a,t,"left","right")),c=Math.max(0,e.outerHeight-Yv(a,t,"top","bottom")),u=l!==t.w,h=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:u,other:h}:{same:h,other:u}}function k6(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function C6(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return s(t?["left","right"]:["top","bottom"])}function Vo(t,e,n,s){const r=[];let i,a,l,c,u,h;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,C6(l.horizontal,e));const{same:f,other:m}=T6(e,n,l,s);u|=f&&r.length,h=h||m,c.fullSize||r.push(l)}return u&&Vo(r,e,n,s)||h}function uu(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Xv(t,e,n,s){const r=n.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=s[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*h,m=u.size||c.height;Bl(u.start)&&(a=u.start),c.fullSize?uu(c,r.left,a,n.outerWidth-r.right-r.left,m):uu(c,e.left+u.placed,a,f,m),u.start=a,u.placed+=f,a=c.bottom}else{const f=e.h*h,m=u.size||c.width;Bl(u.start)&&(i=u.start),c.fullSize?uu(c,i,r.top,m,n.outerHeight-r.bottom-r.top):uu(c,i,e.top+u.placed,m,f),u.start=i,u.placed+=f,i=c.right}}e.x=i,e.y=a}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Dt(t.options.layout.padding),i=Math.max(e-r.width,0),a=Math.max(n-r.height,0),l=I6(t.boxes),c=l.vertical,u=l.horizontal;je(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const h=c.reduce((_,j)=>j.box.options&&j.box.options.display===!1?_:_+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/h,hBoxMaxHeight:a/2}),m=Object.assign({},r);fj(m,Dt(s));const g=Object.assign({maxPadding:m,w:i,h:a,x:r.left,y:r.top},r),b=S6(c.concat(u),f);Vo(l.fullSize,g,f,b),Vo(c,g,f,b),Vo(u,g,f,b)&&Vo(c,g,f,b),k6(g),Xv(l.leftAndTop,g,f,b),g.x+=g.w,g.y+=g.h,Xv(l.rightAndBottom,g,f,b),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},je(l.chartArea,_=>{const j=_.box;Object.assign(j,t.chartArea),j.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class mj{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class A6 extends mj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bu="$chartjs",P6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jv=t=>t===null||t==="";function R6(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Bu]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Jv(r)){const i=Dv(t,"width");i!==void 0&&(t.width=i)}if(Jv(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Dv(t,"height");i!==void 0&&(t.height=i)}return t}const pj=PD?{passive:!0}:!1;function M6(t,e,n){t&&t.addEventListener(e,n,pj)}function D6(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,pj)}function O6(t,e){const n=P6[t.type]||t.type,{x:s,y:r}=Qr(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function zd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function L6(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||zd(l.addedNodes,s),a=a&&!zd(l.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function V6(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||zd(l.removedNodes,s),a=a&&!zd(l.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Hl=new Map;let Zv=0;function gj(){const t=window.devicePixelRatio;t!==Zv&&(Zv=t,Hl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function F6(t,e){Hl.size||window.addEventListener("resize",gj),Hl.set(t,e)}function z6(t){Hl.delete(t),Hl.size||window.removeEventListener("resize",gj)}function U6(t,e,n){const s=t.canvas,r=s&&Rx(s);if(!r)return;const i=XE((l,c)=>{const u=r.clientWidth;n(l,c),u<r.clientWidth&&n()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,h=c.contentRect.height;u===0&&h===0||i(u,h)});return a.observe(r),F6(t,i),a}function em(t,e,n){n&&n.disconnect(),e==="resize"&&z6(t)}function B6(t,e,n){const s=t.canvas,r=XE(i=>{t.ctx!==null&&n(O6(i,t))},t);return M6(s,e,r),r}class W6 extends mj{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(R6(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Bu])return!1;const s=n[Bu].initial;["height","width"].forEach(i=>{const a=s[i];Ne(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Bu],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:L6,detach:V6,resize:U6}[n]||B6;r[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:em,detach:em,resize:em}[n]||D6)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return AD(e,n,s,r)}isAttached(e){const n=e&&Rx(e);return!!(n&&n.isConnected)}}function q6(t){return!Px()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?A6:W6}class Rn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Ld(this.x)&&Ld(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}Y(Rn,"defaults",{}),Y(Rn,"defaultRoutes");function H6(t,e){const n=t.options.ticks,s=$6(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?K6(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>r)return Q6(e,u,i,a/r),u;const h=G6(i,e,r);if(a>0){let f,m;const g=a>1?Math.round((c-l)/(a-1)):null;for(du(e,u,h,Ne(g)?0:l-g,l),f=0,m=a-1;f<m;f++)du(e,u,h,i[f],i[f+1]);return du(e,u,h,c,Ne(g)?e.length:c+g),u}return du(e,u,h),u}function $6(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function G6(t,e,n){const s=Y6(t),r=e.length/n;if(!s)return Math.max(r,1);const i=MM(s);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>r)return c}return Math.max(r,1)}function K6(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Q6(t,e,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===i&&(e.push(t[a]),r++,i=n[r*s])}function du(t,e,n,s,r){const i=ce(s,0),a=Math.min(ce(r,t.length),t.length);let l=0,c,u,h;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),h=i;h<0;)l++,h=Math.round(i+l*n);for(u=Math.max(i,0);u<a;u++)u===h&&(e.push(t[u]),l++,h=Math.round(i+l*n))}function Y6(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const X6=t=>t==="left"?"right":t==="right"?"left":t,ew=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,tw=(t,e)=>Math.min(e||t,t);function nw(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function J6(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(r-1))/2,c+=r<e?u:-u,c<i-l||c>a+l)))return c}function Z6(t,e){je(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function _o(t){return t.drawTicks?t.tickLength:0}function sw(t,e){if(!t.display)return 0;const n=lt(t.font,e),s=Dt(t.padding);return(De(t.text)?t.text.length:1)*n.lineHeight+s.height}function eO(t,e){return Ar(t,{scale:e,type:"scale"})}function tO(t,e,n){return Ar(t,{tick:n,index:e,type:"tick"})}function nO(t,e,n){let s=Ex(t);return(n&&e!=="right"||!n&&e==="right")&&(s=X6(s)),s}function sO(t,e,n,s){const{top:r,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:h}=c;let f=0,m,g,b;const _=a-r,j=l-i;if(t.isHorizontal()){if(g=kt(s,i,l),xe(n)){const y=Object.keys(n)[0],v=n[y];b=h[y].getPixelForValue(v)+_-e}else n==="center"?b=(u.bottom+u.top)/2+_-e:b=ew(t,n,e);m=l-i}else{if(xe(n)){const y=Object.keys(n)[0],v=n[y];g=h[y].getPixelForValue(v)-j+e}else n==="center"?g=(u.left+u.right)/2-j+e:g=ew(t,n,e);b=kt(s,a,r),f=n==="left"?-Ye:Ye}return{titleX:g,titleY:b,maxWidth:m,rotation:f}}class Ii extends Rn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=nn(e,Number.POSITIVE_INFINITY),n=nn(n,Number.NEGATIVE_INFINITY),s=nn(s,Number.POSITIVE_INFINITY),r=nn(r,Number.NEGATIVE_INFINITY),{min:nn(e,s),max:nn(n,r),minDefined:gt(e),maxDefined:gt(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:nn(n,nn(s,n)),max:nn(s,nn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Te(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=cD(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?nw(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=H6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Te(this.options.afterUpdate,[this])}beforeSetDimensions(){Te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Te(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=tw(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,l,c,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),f=h.widest.width,m=h.highest.height,g=Kt(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/s:g/(s-1),f+6>l&&(l=g/(s-(e.offset?.5:1)),c=this.maxHeight-_o(e.grid)-n.padding-sw(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),a=_x(Math.min(Math.asin(Kt((h.highest.height+6)/l,-1,1)),Math.asin(Kt(c/u,-1,1))-Math.asin(Kt(m/u,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=sw(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=_o(i)+c):(e.height=this.maxHeight,e.width=_o(i)+c),s.display&&this.ticks.length){const{first:u,last:h,widest:f,highest:m}=this._getLabelSizes(),g=s.padding*2,b=$n(this.labelRotation),_=Math.cos(b),j=Math.sin(b);if(l){const y=s.mirror?0:j*f.width+_*m.height;e.height=Math.min(this.maxHeight,e.height+y+g)}else{const y=s.mirror?0:_*f.width+j*m.height;e.width=Math.min(this.maxWidth,e.width+y+g)}this._calculatePadding(u,h,j,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;c?u?(m=r*e.width,g=s*n.height):(m=s*e.height,g=r*n.width):i==="start"?g=n.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;i==="start"?(h=0,f=e.height):i==="end"&&(h=n.height,f=0),this.paddingTop=h+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Ne(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=nw(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(n/tw(n,s));let u=0,h=0,f,m,g,b,_,j,y,v,E,P,R;for(f=0;f<n;f+=c){if(b=e[f].label,_=this._resolveTickFontOptions(f),r.font=j=_.string,y=i[j]=i[j]||{data:{},gc:[]},v=_.lineHeight,E=P=0,!Ne(b)&&!De(b))E=Vd(r,y.data,y.gc,E,b),P=v;else if(De(b))for(m=0,g=b.length;m<g;++m)R=b[m],!Ne(R)&&!De(R)&&(E=Vd(r,y.data,y.gc,E,R),P+=v);a.push(E),l.push(P),u=Math.max(E,u),h=Math.max(P,h)}Z6(i,n);const M=a.indexOf(u),N=l.indexOf(h),w=I=>({width:a[I]||0,height:l[I]||0});return{first:w(0),last:w(n-1),widest:w(M),highest:w(N),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return VM(this._alignToPixels?Br(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=tO(this.getContext(),e,s))}return this.$context||(this.$context=eO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=$n(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*s>l*r?l/s:c/r:c*r<l*s?c/s:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:l}=r,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=_o(i),g=[],b=l.setContext(this.getContext()),_=b.display?b.width:0,j=_/2,y=function(ne){return Br(s,ne,_)};let v,E,P,R,M,N,w,I,C,T,A,k;if(a==="top")v=y(this.bottom),N=this.bottom-m,I=v-j,T=y(e.top)+j,k=e.bottom;else if(a==="bottom")v=y(this.top),T=e.top,k=y(e.bottom)-j,N=v+j,I=this.top+m;else if(a==="left")v=y(this.right),M=this.right-m,w=v-j,C=y(e.left)+j,A=e.right;else if(a==="right")v=y(this.left),C=e.left,A=y(e.right)-j,M=v+j,w=this.left+m;else if(n==="x"){if(a==="center")v=y((e.top+e.bottom)/2+.5);else if(xe(a)){const ne=Object.keys(a)[0],ae=a[ne];v=y(this.chart.scales[ne].getPixelForValue(ae))}T=e.top,k=e.bottom,N=v+j,I=N+m}else if(n==="y"){if(a==="center")v=y((e.left+e.right)/2);else if(xe(a)){const ne=Object.keys(a)[0],ae=a[ne];v=y(this.chart.scales[ne].getPixelForValue(ae))}M=v-j,w=M-m,C=e.left,A=e.right}const J=ce(r.ticks.maxTicksLimit,f),X=Math.max(1,Math.ceil(f/J));for(E=0;E<f;E+=X){const ne=this.getContext(E),ae=i.setContext(ne),U=l.setContext(ne),H=ae.lineWidth,Z=ae.color,ue=U.dash||[],oe=U.dashOffset,We=ae.tickWidth,ye=ae.tickColor,jt=ae.tickBorderDash||[],Ge=ae.tickBorderDashOffset;P=J6(this,E,c),P!==void 0&&(R=Br(s,P,H),u?M=w=C=A=R:N=I=T=k=R,g.push({tx1:M,ty1:N,tx2:w,ty2:I,x1:C,y1:T,x2:A,y2:k,width:H,color:Z,borderDash:ue,borderDashOffset:oe,tickWidth:We,tickColor:ye,tickBorderDash:jt,tickBorderDashOffset:Ge}))}return this._ticksLength=f,this._borderValue=v,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:h,mirror:f}=i,m=_o(s.grid),g=m+h,b=f?-h:g,_=-$n(this.labelRotation),j=[];let y,v,E,P,R,M,N,w,I,C,T,A,k="middle";if(r==="top")M=this.bottom-b,N=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+b,N=this._getXAxisLabelAlignment();else if(r==="left"){const X=this._getYAxisLabelAlignment(m);N=X.textAlign,R=X.x}else if(r==="right"){const X=this._getYAxisLabelAlignment(m);N=X.textAlign,R=X.x}else if(n==="x"){if(r==="center")M=(e.top+e.bottom)/2+g;else if(xe(r)){const X=Object.keys(r)[0],ne=r[X];M=this.chart.scales[X].getPixelForValue(ne)+g}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")R=(e.left+e.right)/2-g;else if(xe(r)){const X=Object.keys(r)[0],ne=r[X];R=this.chart.scales[X].getPixelForValue(ne)}N=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?k="top":c==="end"&&(k="bottom"));const J=this._getLabelSizes();for(y=0,v=l.length;y<v;++y){E=l[y],P=E.label;const X=i.setContext(this.getContext(y));w=this.getPixelForTick(y)+i.labelOffset,I=this._resolveTickFontOptions(y),C=I.lineHeight,T=De(P)?P.length:1;const ne=T/2,ae=X.color,U=X.textStrokeColor,H=X.textStrokeWidth;let Z=N;a?(R=w,N==="inner"&&(y===v-1?Z=this.options.reverse?"left":"right":y===0?Z=this.options.reverse?"right":"left":Z="center"),r==="top"?u==="near"||_!==0?A=-T*C+C/2:u==="center"?A=-J.highest.height/2-ne*C+C:A=-J.highest.height+C/2:u==="near"||_!==0?A=C/2:u==="center"?A=J.highest.height/2-ne*C:A=J.highest.height-T*C,f&&(A*=-1),_!==0&&!X.showLabelBackdrop&&(R+=C/2*Math.sin(_))):(M=w,A=(1-T)*C/2);let ue;if(X.showLabelBackdrop){const oe=Dt(X.backdropPadding),We=J.heights[y],ye=J.widths[y];let jt=A-oe.top,Ge=0-oe.left;switch(k){case"middle":jt-=We/2;break;case"bottom":jt-=We;break}switch(N){case"center":Ge-=ye/2;break;case"right":Ge-=ye;break;case"inner":y===v-1?Ge-=ye:y>0&&(Ge-=ye/2);break}ue={left:Ge,top:jt,width:ye+oe.width,height:We+oe.height,color:X.backdropColor}}j.push({label:P,font:I,textOffset:A,options:{rotation:_,color:ae,strokeColor:U,strokeWidth:H,textAlign:Z,textBaseline:k,translation:[R,M],backdrop:ue}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-$n(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,h;return n==="left"?r?(h=this.right+i,s==="near"?u="left":s==="center"?(u="center",h+=c/2):(u="right",h+=c)):(h=this.right-l,s==="near"?u="right":s==="center"?(u="center",h-=c/2):(u="left",h=this.left)):n==="right"?r?(h=this.left+i,s==="near"?u="right":s==="center"?(u="center",h-=c/2):(u="left",h-=c)):(h=this.left+l,s==="near"?u="left":s==="center"?(u="center",h+=c/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const c=r[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,h,f,m;this.isHorizontal()?(u=Br(e,this.left,a)-a/2,h=Br(e,this.right,l)+l/2,f=m=c):(f=Br(e,this.top,a)-a/2,m=Br(e,this.bottom,l)+l/2,u=h=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,f),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Sx(s,r);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,h=a.textOffset;bi(s,u,0,h,c,l)}r&&Ix(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=lt(s.font),a=Dt(s.padding),l=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||xe(n)?(c+=a.bottom,De(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=a.top;const{titleX:u,titleY:h,maxWidth:f,rotation:m}=sO(this,c,n,l);bi(e,s.text,0,0,i,{color:s.color,maxWidth:f,rotation:m,textAlign:nO(l,n,r),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ce(e.grid&&e.grid.z,-1),r=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ii.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const l=n[i];l[s]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return lt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hu{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;aO(n)&&(s=this.register(n));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,rO(e,a,s),this.override&&$e.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in $e[r]&&(delete $e[r][s],this.override&&delete yi[s])}}function rO(t,e,n){const s=Ul(Object.create(null),[n?$e.get(n):{},$e.get(e),t.defaults]);$e.set(e,s),t.defaultRoutes&&iO(e,t.defaultRoutes),t.descriptors&&$e.describe(e,t.descriptors)}function iO(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),a=e[n].split("."),l=a.pop(),c=a.join(".");$e.route(i,r,c,l)})}function aO(t){return"id"in t&&"defaults"in t}class oO{constructor(){this.controllers=new hu(fa,"datasets",!0),this.elements=new hu(Rn,"elements"),this.plugins=new hu(Object,"plugins"),this.scales=new hu(Ii,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):je(r,a=>{const l=s||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,s){const r=wx(e);Te(s["before"+r],[],s),n[e](s),Te(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Wn=new oO;class lO{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,r){r=r||{};for(const i of e){const a=i.plugin,l=a[s],c=[n,r,i.options];if(Te(l,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=ce(s.options&&s.options.plugins,{}),i=cO(s);return r===!1&&!n?[]:dO(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function cO(t){const e={},n=[],s=Object.keys(Wn.plugins.items);for(let i=0;i<s.length;i++)n.push(Wn.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function uO(t,e){return!e&&t===!1?null:t===!0?{}:t}function dO(t,{plugins:e,localIds:n},s,r){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=uO(s[c],r);u!==null&&i.push({plugin:l,options:hO(t.config,{plugin:l,local:n[c]},u,a)})}return i}function hO(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(s,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sp(t,e){const n=$e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function fO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function mO(t,e){return t===e?"_index_":"_value_"}function rw(t){if(t==="x"||t==="y"||t==="r")return t}function pO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ip(t,...e){if(rw(t))return t;for(const n of e){const s=n.axis||pO(n.position)||t.length>1&&rw(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function iw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function gO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return iw(t,"x",n[0])||iw(t,"y",n[0])}return{}}function xO(t,e){const n=yi[t.type]||{scales:{}},s=e.scales||{},r=Sp(t.type,e),i=Object.create(null);return Object.keys(s).forEach(a=>{const l=s[a];if(!xe(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Ip(a,l,gO(a,t),$e.scales[l.type]),u=mO(c,r),h=n.scales||{};i[a]=ol(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Sp(l,e),h=(yi[l]||{}).scales||{};Object.keys(h).forEach(f=>{const m=fO(f,c),g=a[m+"AxisID"]||m;i[g]=i[g]||Object.create(null),ol(i[g],[{axis:m},s[g],h[f]])})}),Object.keys(i).forEach(a=>{const l=i[a];ol(l,[$e.scales[l.type],$e.scale])}),i}function xj(t){const e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=xO(t,e)}function yj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function yO(t){return t=t||{},t.data=yj(t.data),xj(t),t}const aw=new Map,bj=new Set;function fu(t,e){let n=aw.get(t);return n||(n=e(),aw.set(t,n),bj.add(n)),n}const No=(t,e,n)=>{const s=xi(e,n);s!==void 0&&t.add(s)};class bO{constructor(e){this._config=yO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return fu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return fu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return fu(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,a=this._cachedScopes(e,s),l=a.get(n);if(l)return l;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(f=>No(c,e,f))),h.forEach(f=>No(c,r,f)),h.forEach(f=>No(c,yi[i]||{},f)),h.forEach(f=>No(c,$e,f)),h.forEach(f=>No(c,Ep,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),bj.has(n)&&a.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,yi[n]||{},$e.datasets[n]||{},{type:n},$e,Ep]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=ow(this._resolverCache,e,r);let c=a;if(wO(a,n)){i.$shared=!1,s=Ir(s)?s():s;const u=this.createResolver(e,s,l);c=Ca(a,s,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=ow(this._resolverCache,e,s);return xe(n)?Ca(i,n,void 0,r):i}}function ow(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:kx(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},s.set(r,i)),i}const vO=t=>xe(t)&&Object.getOwnPropertyNames(t).some(e=>Ir(t[e]));function wO(t,e){const{isScriptable:n,isIndexable:s}=tj(t);for(const r of e){const i=n(r),a=s(r),l=(a||i)&&t[r];if(i&&(Ir(l)||vO(l))||a&&De(l))return!0}return!1}var _O="4.5.0";const NO=["top","bottom","left","right","chartArea"];function lw(t,e){return t==="top"||t==="bottom"||NO.indexOf(t)===-1&&e==="x"}function cw(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function uw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Te(n&&n.onComplete,[t],e)}function EO(t){const e=t.chart,n=e.options.animation;Te(n&&n.onProgress,[t],e)}function vj(t){return Px()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Wu={},dw=t=>{const e=vj(t);return Object.values(Wu).filter(n=>n.canvas===e).pop()};function jO(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const a=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=a)}}}function SO(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Us;let Ha=(Us=class{static register(...e){Wn.add(...e),hw()}static unregister(...e){Wn.remove(...e),hw()}constructor(e,n){const s=this.config=new bO(n),r=vj(e),i=dw(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||q6(r)),this.platform.updateConfig(s);const l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,h=c&&c.width;if(this.id=jM(),this.ctx=l,this.canvas=c,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BM(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Wu[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}os.listen(this,"complete",uw),os.listen(this,"progress",EO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return Ne(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Av(this.canvas,this.ctx),this}stop(){return os.stop(this),this}resize(e,n){os.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Mv(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Te(s.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};je(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((a,l)=>(a[l]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const l=n[a],c=Ip(a,l),u=c==="r",h=c==="x";return{options:l,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),je(i,a=>{const l=a.options,c=l.id,u=Ip(c,l),h=ce(l.type,a.dtype);(l.position===void 0||lw(l.position,u)!==lw(a.dposition))&&(l.position=a.dposition),r[c]=!0;let f=null;if(c in s&&s[c].type===h)f=s[c];else{const m=Wn.getScale(h);f=new m({id:c,type:h,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(l,e)}),je(r,(a,l)=>{a||delete s[l]}),je(s,a=>{xn.configure(this,a,a.options),xn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(cw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=l,a.indexAxis=i.indexAxis||Sp(l,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const c=Wn.getController(l),{datasetElementType:u,dataElementType:h}=$e.datasets[l];Object.assign(c,{dataElementType:Wn.getElement(h),datasetElementType:u&&Wn.getElement(u)}),a.controller=new c(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){je(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:f}=this.getDatasetMeta(u),m=!r&&i.indexOf(f)===-1;f.buildOrUpdateElements(m),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||je(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cw("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){je(this.scales,e=>{xn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!_v(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;jO(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!_v(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],je(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(os.has(this)?this.attached&&!os.running(this)&&os.start(this):(this.draw(),uw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=$D(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Sx(n,r),e.controller.draw(),r&&Ix(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return gs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=N6.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Ar(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);Bl(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),os.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Av(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Wu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},r=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};je(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},r=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){je(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},je(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,a,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!Md(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,u)=>c.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=i(n,e),l=s?e:i(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,a=n,l=this._getActiveElements(e,r,s,a),c=AM(e),u=SO(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Te(i.onHover,[e,l,this],this),c&&Te(i.onClick,[e,l,this],this));const h=!Md(l,r);return(h||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=u,h}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},Y(Us,"defaults",$e),Y(Us,"instances",Wu),Y(Us,"overrides",yi),Y(Us,"registry",Wn),Y(Us,"version",_O),Y(Us,"getChart",dw),Us);function hw(){return je(Ha.instances,t=>t._plugins.invalidate())}function IO(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:h}=c,f=Math.min(u/a,qt(s-n));if(t.beginPath(),t.arc(r,i,a-u/2,s+f/2,n-f/2),l>0){const m=Math.min(u/l,qt(s-n));t.arc(r,i,l+u/2,n-m/2,s+m/2,!0)}else{const m=Math.min(u/2,a*qt(s-n));if(h==="round")t.arc(r,i,m,n-we/2,s+we/2,!0);else if(h==="bevel"){const g=2*m*m,b=-g*Math.cos(n+we/2)+r,_=-g*Math.sin(n+we/2)+i,j=g*Math.cos(s+we/2)+r,y=g*Math.sin(s+we/2)+i;t.lineTo(b,_),t.lineTo(j,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function TO(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=r/l;t.beginPath(),t.arc(i,a,l,s-u,n+u),c>r?(u=r/c,t.arc(i,a,c,n+u,s-u,!0)):t.arc(i,a,r,n+Ye,s-Ye),t.closePath(),t.clip()}function kO(t){return Tx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function CO(t,e,n,s){const r=kO(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,s*e/2),l=c=>{const u=(n-Math.min(i,c))*s/2;return Kt(c,0,Math.min(i,u))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Kt(r.innerStart,0,a),innerEnd:Kt(r.innerEnd,0,a)}}function Li(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ud(t,e,n,s,r,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:h}=e,f=Math.max(e.outerRadius+s+n-u,0),m=h>0?h+s+n+u:0;let g=0;const b=r-c;if(s){const X=h>0?h-s:0,ne=f>0?f-s:0,ae=(X+ne)/2,U=ae!==0?b*ae/(ae+s):b;g=(b-U)/2}const _=Math.max(.001,b*f-n/we)/f,j=(b-_)/2,y=c+j+g,v=r-j-g,{outerStart:E,outerEnd:P,innerStart:R,innerEnd:M}=CO(e,m,f,v-y),N=f-E,w=f-P,I=y+E/N,C=v-P/w,T=m+R,A=m+M,k=y+R/T,J=v-M/A;if(t.beginPath(),i){const X=(I+C)/2;if(t.arc(a,l,f,I,X),t.arc(a,l,f,X,C),P>0){const H=Li(w,C,a,l);t.arc(H.x,H.y,P,C,v+Ye)}const ne=Li(A,v,a,l);if(t.lineTo(ne.x,ne.y),M>0){const H=Li(A,J,a,l);t.arc(H.x,H.y,M,v+Ye,J+Math.PI)}const ae=(v-M/m+(y+R/m))/2;if(t.arc(a,l,m,v-M/m,ae,!0),t.arc(a,l,m,ae,y+R/m,!0),R>0){const H=Li(T,k,a,l);t.arc(H.x,H.y,R,k+Math.PI,y-Ye)}const U=Li(N,y,a,l);if(t.lineTo(U.x,U.y),E>0){const H=Li(N,I,a,l);t.arc(H.x,H.y,E,y-Ye,I)}}else{t.moveTo(a,l);const X=Math.cos(I)*f+a,ne=Math.sin(I)*f+l;t.lineTo(X,ne);const ae=Math.cos(C)*f+a,U=Math.sin(C)*f+l;t.lineTo(ae,U)}t.closePath()}function AO(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){Ud(t,e,n,s,c,r);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%Oe||Oe))}return Ud(t,e,n,s,c,r),t.fill(),c}function PO(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:m,borderRadius:g}=c,b=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,b?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let _=e.endAngle;if(i){Ud(t,e,n,s,_,r);for(let j=0;j<i;++j)t.stroke();isNaN(l)||(_=a+(l%Oe||Oe))}b&&TO(t,e,_),c.selfJoin&&_-a>=we&&g===0&&h!=="miter"&&IO(t,e,_),i||(Ud(t,e,n,s,_,r),t.stroke())}class ea extends Rn{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:l}=GE(i,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,b=ce(m,u-c),_=Wl(a,c,u)&&c!==u,j=b>=Oe||_,y=nr(l,h+g,f+g);return j&&y}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,f=(i+a)/2,m=(l+c+h+u)/2;return{x:s+Math.cos(f)*m,y:r+Math.sin(f)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>Oe?Math.floor(r/Oe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(we,r||0)),h=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,AO(n,this,h,a,l),PO(n,this,h,a,l),n.restore()}}Y(ea,"id","arc"),Y(ea,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Y(ea,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(ea,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function wj(t,e,n=e){t.lineCap=ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ce(n.borderDash,e.borderDash)),t.lineDashOffset=ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ce(n.borderWidth,e.borderWidth),t.strokeStyle=ce(n.borderColor,e.borderColor)}function RO(t,e,n){t.lineTo(n.x,n.y)}function MO(t){return t.stepped?eD:t.tension||t.cubicInterpolationMode==="monotone"?tD:RO}function _j(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:a,end:l}=e,c=Math.max(r,a),u=Math.min(i,l),h=r<a&&i<a||r>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:u<c&&!h?s+u-c:u-c}}function DO(t,e,n,s){const{points:r,options:i}=e,{count:a,start:l,loop:c,ilen:u}=_j(r,n,s),h=MO(i);let{move:f=!0,reverse:m}=s||{},g,b,_;for(g=0;g<=u;++g)b=r[(l+(m?u-g:g))%a],!b.skip&&(f?(t.moveTo(b.x,b.y),f=!1):h(t,_,b,m,i.stepped),_=b);return c&&(b=r[(l+(m?u:0))%a],h(t,_,b,m,i.stepped)),!!c}function OO(t,e,n,s){const r=e.points,{count:i,start:a,ilen:l}=_j(r,n,s),{move:c=!0,reverse:u}=s||{};let h=0,f=0,m,g,b,_,j,y;const v=P=>(a+(u?l-P:P))%i,E=()=>{_!==j&&(t.lineTo(h,j),t.lineTo(h,_),t.lineTo(h,y))};for(c&&(g=r[v(0)],t.moveTo(g.x,g.y)),m=0;m<=l;++m){if(g=r[v(m)],g.skip)continue;const P=g.x,R=g.y,M=P|0;M===b?(R<_?_=R:R>j&&(j=R),h=(f*h+P)/++f):(E(),t.lineTo(P,R),b=M,f=0,_=j=R),y=R}E()}function Tp(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?OO:DO}function LO(t){return t.stepped?RD:t.tension||t.cubicInterpolationMode==="monotone"?MD:Yr}function VO(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),wj(t,e.options),t.stroke(r)}function FO(t,e,n,s){const{segments:r,options:i}=e,a=Tp(e);for(const l of r)wj(t,i,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const zO=typeof Path2D=="function";function UO(t,e,n,s){zO&&!e.options.segment?VO(t,e,n,s):FO(t,e,n,s)}class Fo extends Rn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;jD(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BD(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,a=FD(this,{property:n,start:r,end:r});if(!a.length)return;const l=[],c=LO(s);let u,h;for(u=0,h=a.length;u<h;++u){const{start:f,end:m}=a[u],g=i[f],b=i[m];if(g===b){l.push(g);continue}const _=Math.abs((r-g[n])/(b[n]-g[n])),j=c(g,b,_,s.stepped);j[n]=e[n],l.push(j)}return l.length===1?l[0]:l}pathSegment(e,n,s){return Tp(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Tp(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const l of r)a&=i(e,this,l,{start:n,end:n+s-1});return!!a}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),UO(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Fo,"id","line"),Y(Fo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Fo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Fo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function fw(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class qu extends Rn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return fw(this,n,"x",s)}inYRange(n,s){return fw(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!gs(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,jp(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(qu,"id","point"),Y(qu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(qu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Nj(t,e){const{x:n,y:s,base:r,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,h,f;return t.horizontal?(f=a/2,l=Math.min(n,r),c=Math.max(n,r),u=s-f,h=s+f):(f=i/2,l=n-f,c=n+f,u=Math.min(s,r),h=Math.max(s,r)),{left:l,top:u,right:c,bottom:h}}function sr(t,e,n,s){return t?0:Kt(e,n,s)}function BO(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=ej(s);return{t:sr(r.top,i.top,0,n),r:sr(r.right,i.right,0,e),b:sr(r.bottom,i.bottom,0,n),l:sr(r.left,i.left,0,e)}}function WO(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=ri(r),a=Math.min(e,n),l=t.borderSkipped,c=s||xe(r);return{topLeft:sr(!c||l.top||l.left,i.topLeft,0,a),topRight:sr(!c||l.top||l.right,i.topRight,0,a),bottomLeft:sr(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:sr(!c||l.bottom||l.right,i.bottomRight,0,a)}}function qO(t){const e=Nj(t),n=e.right-e.left,s=e.bottom-e.top,r=BO(t,n/2,s/2),i=WO(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function tm(t,e,n,s){const r=e===null,i=n===null,l=t&&!(r&&i)&&Nj(t,s);return l&&(r||nr(e,l.left,l.right))&&(i||nr(n,l.top,l.bottom))}function HO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $O(t,e){t.rect(e.x,e.y,e.w,e.h)}function nm(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+a,radius:t.radius}}class ma extends Rn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=qO(this),l=HO(a.radius)?ql:$O;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,nm(a,n,i)),e.clip(),l(e,nm(i,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,nm(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return tm(this,e,n,s)}inXRange(e,n){return tm(this,e,null,n)}inYRange(e,n){return tm(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Y(ma,"id","bar"),Y(ma,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(ma,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const mw=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},GO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pw extends Rn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=lt(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=mw(s,i);let u,h;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(a,i,l,c)+10):(h=this.maxHeight,u=this._fitCols(a,r,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],h=r+l;let f=e;i.textAlign="left",i.textBaseline="middle";let m=-1,g=-h;return this.legendItems.forEach((b,_)=>{const j=s+n/2+i.measureText(b.text).width;(_===0||u[u.length-1]+j+2*l>a)&&(f+=h,u[u.length-(_>0?0:1)]=0,g+=h,m++),c[_]={left:0,top:g,row:m,width:j,height:r},u[u.length-1]+=j+l}),f}_fitCols(e,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],h=a-e;let f=l,m=0,g=0,b=0,_=0;return this.legendItems.forEach((j,y)=>{const{itemWidth:v,itemHeight:E}=KO(s,n,i,j,r);y>0&&g+E+2*l>h&&(f+=m+l,u.push({width:m,height:g}),b+=m+l,_++,m=g=0),c[y]={left:b,top:g,col:_,width:v,height:E},m=Math.max(m,v),g+=E+l}),f+=m,u.push({width:m,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=ha(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=kt(s,this.left+r,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,c=kt(s,this.left+r,this.right-this.lineWidths[l])),u.top+=this.top+e+r,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+r}else{let l=0,c=kt(s,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,c=kt(s,this.top+e+r,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+r,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Sx(e,this),this._draw(),Ix(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=e,l=$e.color,c=ha(e.rtl,this.left,this.width),u=lt(a.font),{padding:h}=a,f=u.size,m=f/2;let g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:b,boxHeight:_,itemHeight:j}=mw(a,f),y=function(M,N,w){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;r.save();const I=ce(w.lineWidth,1);if(r.fillStyle=ce(w.fillStyle,l),r.lineCap=ce(w.lineCap,"butt"),r.lineDashOffset=ce(w.lineDashOffset,0),r.lineJoin=ce(w.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=ce(w.strokeStyle,l),r.setLineDash(ce(w.lineDash,[])),a.usePointStyle){const C={radius:_*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:I},T=c.xPlus(M,b/2),A=N+m;ZE(r,C,T,A,a.pointStyleWidth&&b)}else{const C=N+Math.max((f-_)/2,0),T=c.leftForLtr(M,b),A=ri(w.borderRadius);r.beginPath(),Object.values(A).some(k=>k!==0)?ql(r,{x:T,y:C,w:b,h:_,radius:A}):r.rect(T,C,b,_),r.fill(),I!==0&&r.stroke()}r.restore()},v=function(M,N,w){bi(r,w.text,M,N+j/2,u,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},E=this.isHorizontal(),P=this._computeTitleHeight();E?g={x:kt(i,this.left+h,this.right-s[0]),y:this.top+h+P,line:0}:g={x:this.left+h,y:kt(i,this.top+P+h,this.bottom-n[0].height),line:0},aj(this.ctx,e.textDirection);const R=j+h;this.legendItems.forEach((M,N)=>{r.strokeStyle=M.fontColor,r.fillStyle=M.fontColor;const w=r.measureText(M.text).width,I=c.textAlign(M.textAlign||(M.textAlign=a.textAlign)),C=b+m+w;let T=g.x,A=g.y;c.setWidth(this.width),E?N>0&&T+C+h>this.right&&(A=g.y+=R,g.line++,T=g.x=kt(i,this.left+h,this.right-s[g.line])):N>0&&A+R>this.bottom&&(T=g.x=T+n[g.line].width+h,g.line++,A=g.y=kt(i,this.top+P+h,this.bottom-n[g.line].height));const k=c.x(T);if(y(k,A,M),T=WM(I,T+b+m,E?T+C:this.right,e.rtl),v(c.x(T),A,M),E)g.x+=C+h;else if(typeof M.text!="string"){const J=u.lineHeight;g.y+=Ej(M,J)+h}else g.y+=R}),oj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=lt(n.font),r=Dt(n.padding);if(!n.display)return;const i=ha(e.rtl,this.left,this.width),a=this.ctx,l=n.position,c=s.size/2,u=r.top+c;let h,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+u,f=kt(e.align,f,this.right-m);else{const b=this.columnSizes.reduce((_,j)=>Math.max(_,j.height),0);h=u+kt(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const g=kt(l,f,f+m);a.textAlign=i.textAlign(Ex(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,bi(a,n.text,g,h,s)}_computeTitleHeight(){const e=this.options.title,n=lt(e.font),s=Dt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(nr(e,this.left,this.right)&&nr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],nr(e,r.left,r.left+r.width)&&nr(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!XO(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=GO(r,s);r&&!i&&Te(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Te(n.onHover,[e,s,this],this)}else s&&Te(n.onClick,[e,s,this],this)}}function KO(t,e,n,s,r){const i=QO(s,t,e,n),a=YO(r,s,e.lineHeight);return{itemWidth:i,itemHeight:a}}function QO(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+s.measureText(r).width}function YO(t,e,n){let s=t;return typeof e.text!="string"&&(s=Ej(e,n)),s}function Ej(t,e){const n=t.text?t.text.length:0;return e*n}function XO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Dx={id:"legend",_element:pw,start(t,e,n){const s=t.legend=new pw({ctx:t.ctx,options:n,chart:t});xn.configure(t,s,n),xn.addBox(t,s)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;xn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),h=Dt(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class jj extends Rn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=De(s.text)?s.text.length:1;this._padding=Dt(s.padding);const i=r*lt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:a}=this,l=a.align;let c=0,u,h,f;return this.isHorizontal()?(h=kt(l,s,i),f=n+e,u=i-s):(a.position==="left"?(h=s+e,f=kt(l,r,n),c=we*-.5):(h=i-e,f=kt(l,n,r),c=we*.5),u=r-n),{titleX:h,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=lt(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);bi(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:Ex(n.align),textBaseline:"middle",translation:[a,l]})}}function JO(t,e){const n=new jj({ctx:t.ctx,options:e,chart:t});xn.configure(t,n,e),xn.addBox(t,n),t.titleBlock=n}var Ox={id:"title",_element:jj,start(t,e,n){JO(t,n)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;xn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zo={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),h=_p(e,u);h<r&&(r=h,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Un(t,e){return e&&(De(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ls(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ZO(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:a,value:l}=i.getLabelAndValue(r);return{chart:t,label:a,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function gw(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=lt(e.bodyFont),u=lt(e.titleFont),h=lt(e.footerFont),f=i.length,m=r.length,g=s.length,b=Dt(e.padding);let _=b.height,j=0,y=s.reduce((P,R)=>P+R.before.length+R.lines.length+R.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,f&&(_+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),y){const P=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;_+=g*P+(y-g)*c.lineHeight+(y-1)*e.bodySpacing}m&&(_+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let v=0;const E=function(P){j=Math.max(j,n.measureText(P).width+v)};return n.save(),n.font=u.string,je(t.title,E),n.font=c.string,je(t.beforeBody.concat(t.afterBody),E),v=e.displayColors?a+2+e.boxPadding:0,je(s,P=>{je(P.before,E),je(P.lines,E),je(P.after,E)}),v=0,n.font=h.string,je(t.footer,E),n.restore(),j+=b.width,{width:j,height:_}}function eL(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function tL(t,e,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&r+i+a>e.width||t==="right"&&r-i-a<0)return!0}function nL(t,e,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return s==="center"?u=r<=(l+c)/2?"left":"right":r<=i/2?u="left":r>=a-i/2&&(u="right"),tL(u,t,e,n)&&(u="center"),u}function xw(t,e,n){const s=n.yAlign||e.yAlign||eL(t,n);return{xAlign:n.xAlign||e.xAlign||nL(t,e,n,s),yAlign:s}}function sL(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function rL(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function yw(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=n,u=r+i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=ri(a);let b=sL(e,l);const _=rL(e,c,u);return c==="center"?l==="left"?b+=u:l==="right"&&(b-=u):l==="left"?b-=Math.max(h,m)+r:l==="right"&&(b+=Math.max(f,g)+r),{x:Kt(b,0,s.width-e.width),y:Kt(_,0,s.height-e.height)}}function mu(t,e,n){const s=Dt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function bw(t){return Un([],ls(t))}function iL(t,e,n){return Ar(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function vw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Sj={beforeTitle:as,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:as,beforeBody:as,beforeLabel:as,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ne(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:as,afterBody:as,beforeFooter:as,footer:as,afterFooter:as};function Bt(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?Sj[e].call(n,s):r}class kp extends Rn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new cj(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=iL(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Bt(s,"beforeTitle",this,e),i=Bt(s,"title",this,e),a=Bt(s,"afterTitle",this,e);let l=[];return l=Un(l,ls(r)),l=Un(l,ls(i)),l=Un(l,ls(a)),l}getBeforeBody(e,n){return bw(Bt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return je(e,i=>{const a={before:[],lines:[],after:[]},l=vw(s,i);Un(a.before,ls(Bt(l,"beforeLabel",this,i))),Un(a.lines,Bt(l,"label",this,i)),Un(a.after,ls(Bt(l,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(e,n){return bw(Bt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Bt(s,"beforeFooter",this,e),i=Bt(s,"footer",this,e),a=Bt(s,"afterFooter",this,e);let l=[];return l=Un(l,ls(r)),l=Un(l,ls(i)),l=Un(l,ls(a)),l}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(ZO(this.chart,n[c]));return e.filter&&(l=l.filter((h,f,m)=>e.filter(h,f,m,s))),e.itemSort&&(l=l.sort((h,f)=>e.itemSort(h,f,s))),je(l,h=>{const f=vw(e.callbacks,h);r.push(Bt(f,"labelColor",this,h)),i.push(Bt(f,"labelPointStyle",this,h)),a.push(Bt(f,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=zo[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const c=this._size=gw(this,s),u=Object.assign({},l,c),h=xw(this.chart,s,u),f=yw(s,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:l}=s,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=ri(l),{x:m,y:g}=e,{width:b,height:_}=n;let j,y,v,E,P,R;return i==="center"?(P=g+_/2,r==="left"?(j=m,y=j-a,E=P+a,R=P-a):(j=m+b,y=j+a,E=P-a,R=P+a),v=j):(r==="left"?y=m+Math.max(c,h)+a:r==="right"?y=m+b-Math.max(u,f)-a:y=this.caretX,i==="top"?(E=g,P=E-a,j=y-a,v=y+a):(E=g+_,P=E+a,j=y+a,v=y-a),R=E),{x1:j,x2:y,x3:v,y1:E,y2:P,y3:R}}drawTitle(e,n,s){const r=this.title,i=r.length;let a,l,c;if(i){const u=ha(s.rtl,this.x,this.width);for(e.x=mu(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",a=lt(s.titleFont),l=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,c=0;c<i;++c)n.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,n,s,r,i){const a=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=i,h=lt(i.bodyFont),f=mu(this,"left",i),m=r.x(f),g=c<h.lineHeight?(h.lineHeight-c)/2:0,b=n.y+g;if(i.usePointStyle){const _={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},j=r.leftForLtr(m,u)+u/2,y=b+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,jp(e,_,j,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,jp(e,_,j,y)}else{e.lineWidth=xe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=r.leftForLtr(m,u),j=r.leftForLtr(r.xPlus(m,1),u-2),y=ri(a.borderRadius);Object.values(y).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,ql(e,{x:_,y:b,w:u,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),ql(e,{x:j,y:b+1,w:u-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(_,b,u,c),e.strokeRect(_,b,u,c),e.fillStyle=a.backgroundColor,e.fillRect(j,b+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:h}=s,f=lt(s.bodyFont);let m=f.lineHeight,g=0;const b=ha(s.rtl,this.x,this.width),_=function(w){n.fillText(w,b.x(e.x+g),e.y+m/2),e.y+=m+i},j=b.textAlign(a);let y,v,E,P,R,M,N;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,e.x=mu(this,j,s),n.fillStyle=s.bodyColor,je(this.beforeBody,_),g=l&&j!=="right"?a==="center"?u/2+h:u+2+h:0,P=0,M=r.length;P<M;++P){for(y=r[P],v=this.labelTextColors[P],n.fillStyle=v,je(y.before,_),E=y.lines,l&&E.length&&(this._drawColorBox(n,e,P,b,s),m=Math.max(f.lineHeight,c)),R=0,N=E.length;R<N;++R)_(E[R]),m=f.lineHeight;je(y.after,_)}g=0,m=f.lineHeight,je(this.afterBody,_),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let a,l;if(i){const c=ha(s.rtl,this.x,this.width);for(e.x=mu(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",a=lt(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:h}=s,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:b}=ri(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(e,n,s,r),n.lineTo(l+u-m,c),n.quadraticCurveTo(l+u,c,l+u,c+m),a==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(l+u,c+h-b),n.quadraticCurveTo(l+u,c+h,l+u-b,c+h),a==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(l+g,c+h),n.quadraticCurveTo(l,c+h,l,c+h-g),a==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=zo[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=gw(this,e),c=Object.assign({},a,this._size),u=xw(n,e,c),h=yw(e,c,u,n);(r._to!==h.x||i._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Dt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),aj(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),oj(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!Md(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,s),l=this._positionChanged(a,e),c=n||!Md(a,i)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,a=zo[i.position].call(this,e,n);return a!==!1&&(s!==a.x||r!==a.y)}}Y(kp,"positioners",zo);var Lx={id:"tooltip",_element:kp,positioners:zo,afterInit(t,e,n){n&&(t.tooltip=new kp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aL=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function oL(t,e,n,s){const r=t.indexOf(e);if(r===-1)return aL(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const lL=(t,e)=>t===null?null:Kt(Math.round(t),0,e);function ww(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class $l extends Ii{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ne(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:oL(s,e,ce(n,e),this._addedLabels),lL(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return ww.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Y($l,"id","category"),Y($l,"defaults",{ticks:{callback:ww}});function cL(t,e){const n=[],{bounds:r,step:i,min:a,max:l,precision:c,count:u,maxTicks:h,maxDigits:f,includeBounds:m}=t,g=i||1,b=h-1,{min:_,max:j}=e,y=!Ne(a),v=!Ne(l),E=!Ne(u),P=(j-_)/(f+1);let R=Ev((j-_)/b/g)*g,M,N,w,I;if(R<1e-14&&!y&&!v)return[{value:_},{value:j}];I=Math.ceil(j/R)-Math.floor(_/R),I>b&&(R=Ev(I*R/b/g)*g),Ne(c)||(M=Math.pow(10,c),R=Math.ceil(R*M)/M),r==="ticks"?(N=Math.floor(_/R)*R,w=Math.ceil(j/R)*R):(N=_,w=j),y&&v&&i&&OM((l-a)/i,R/1e3)?(I=Math.round(Math.min((l-a)/R,h)),R=(l-a)/I,N=a,w=l):E?(N=y?a:N,w=v?l:w,I=u-1,R=(w-N)/I):(I=(w-N)/R,ll(I,Math.round(I),R/1e3)?I=Math.round(I):I=Math.ceil(I));const C=Math.max(jv(R),jv(N));M=Math.pow(10,Ne(c)?C:c),N=Math.round(N*M)/M,w=Math.round(w*M)/M;let T=0;for(y&&(m&&N!==a?(n.push({value:a}),N<a&&T++,ll(Math.round((N+T*R)*M)/M,a,_w(a,P,t))&&T++):N<a&&T++);T<I;++T){const A=Math.round((N+T*R)*M)/M;if(v&&A>l)break;n.push({value:A})}return v&&m&&w!==l?n.length&&ll(n[n.length-1].value,l,_w(l,P,t))?n[n.length-1].value=l:n.push({value:l}):(!v||w===l)&&n.push({value:w}),n}function _w(t,e,{horizontal:n,minRotation:s}){const r=$n(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Bd extends Ii{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=c=>r=n?r:c,l=c=>i=s?i:c;if(e){const c=Zn(r),u=Zn(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=cL(r,i);return e.bounds==="ticks"&&$E(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Mh(e,this.chart.options.locale,this.options.ticks.format)}}class Gl extends Bd{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gt(e)?e:0,this.max=gt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=$n(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Y(Gl,"id","linear"),Y(Gl,"defaults",{ticks:{callback:Dh.formatters.numeric}});const Kl=t=>Math.floor(tr(t)),qr=(t,e)=>Math.pow(10,Kl(t)+e);function Nw(t){return t/Math.pow(10,Kl(t))===1}function Ew(t,e,n){const s=Math.pow(10,n),r=Math.floor(t/s);return Math.ceil(e/s)-r}function uL(t,e){const n=e-t;let s=Kl(n);for(;Ew(t,e,s)>10;)s++;for(;Ew(t,e,s)<10;)s--;return Math.min(s,Kl(t))}function dL(t,{min:e,max:n}){e=nn(t.min,e);const s=[],r=Kl(e);let i=uL(e,n),a=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=r>i?Math.pow(10,r):0,u=Math.round((e-c)*a)/a,h=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-h)/Math.pow(10,i)),m=nn(t.min,Math.round((c+h+f*Math.pow(10,i))*a)/a);for(;m<n;)s.push({value:m,major:Nw(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,a=i>=0?1:a),m=Math.round((c+h+f*Math.pow(10,i))*a)/a;const g=nn(t.max,m);return s.push({value:g,major:Nw(g),significand:f}),s}class jw extends Ii{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Bd.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return gt(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gt(e)?Math.max(0,e):null,this.max=gt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!gt(this._userMin)&&(this.min=e===qr(this.min,0)?qr(this.min,-1):qr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,r=this.max;const i=l=>s=e?s:l,a=l=>r=n?r:l;s===r&&(s<=0?(i(1),a(10)):(i(qr(s,-1)),a(qr(r,1)))),s<=0&&i(qr(r,-1)),r<=0&&a(qr(s,1)),this.min=s,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=dL(n,this);return e.bounds==="ticks"&&$E(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Mh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=tr(e),this._valueRange=tr(this.max)-tr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(tr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Y(jw,"id","logarithmic"),Y(jw,"defaults",{ticks:{callback:Dh.formatters.logarithmic,major:{enabled:!0}}});function Cp(t){const e=t.ticks;if(e.display&&t.display){const n=Dt(e.backdropPadding);return ce(e.font&&e.font.size,$e.font.size)+n.height}return 0}function hL(t,e,n){return n=De(n)?n:[n],{w:ZM(t,e.string,n),h:n.length*e.lineHeight}}function Sw(t,e,n,s,r){return t===s||t===r?{start:e-n/2,end:e+n/2}:t<s||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function fL(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],r=[],i=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?we/i:0;for(let c=0;c<i;c++){const u=a.setContext(t.getPointLabelContext(c));r[c]=u.padding;const h=t.getPointPosition(c,t.drawingArea+r[c],l),f=lt(u.font),m=hL(t.ctx,f,t._pointLabels[c]);s[c]=m;const g=qt(t.getIndexAngle(c)+l),b=Math.round(_x(g)),_=Sw(b,h.x,m.w,0,180),j=Sw(b,h.y,m.h,90,270);mL(n,e,g,_,j)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=xL(t,s,r)}function mL(t,e,n,s,r){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,c=0;s.start<e.l?(l=(e.l-s.start)/i,t.l=Math.min(t.l,e.l-l)):s.end>e.r&&(l=(s.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),r.start<e.t?(c=(e.t-r.start)/a,t.t=Math.min(t.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function pL(t,e,n){const s=t.drawingArea,{extra:r,additionalAngle:i,padding:a,size:l}=n,c=t.getPointPosition(e,s+r+a,i),u=Math.round(_x(qt(c.angle+Ye))),h=vL(c.y,l.h,u),f=yL(u),m=bL(c.x,l.w,f);return{visible:!0,x:c.x,y:h,textAlign:f,left:m,top:h,right:m+l.w,bottom:h+l.h}}function gL(t,e){if(!e)return!0;const{left:n,top:s,right:r,bottom:i}=t;return!(gs({x:n,y:s},e)||gs({x:n,y:i},e)||gs({x:r,y:s},e)||gs({x:r,y:i},e))}function xL(t,e,n){const s=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:a,display:l}=i.pointLabels,c={extra:Cp(i)/2,additionalAngle:a?we/r:0};let u;for(let h=0;h<r;h++){c.padding=n[h],c.size=e[h];const f=pL(t,h,c);s.push(f),l==="auto"&&(f.visible=gL(f,u),f.visible&&(u=f))}return s}function yL(t){return t===0||t===180?"center":t<180?"left":"right"}function bL(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function vL(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function wL(t,e,n){const{left:s,top:r,right:i,bottom:a}=n,{backdropColor:l}=e;if(!Ne(l)){const c=ri(e.borderRadius),u=Dt(e.backdropPadding);t.fillStyle=l;const h=s-u.left,f=r-u.top,m=i-s+u.width,g=a-r+u.height;Object.values(c).some(b=>b!==0)?(t.beginPath(),ql(t,{x:h,y:f,w:m,h:g,radius:c}),t.fill()):t.fillRect(h,f,m,g)}}function _L(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let r=e-1;r>=0;r--){const i=t._pointLabelItems[r];if(!i.visible)continue;const a=s.setContext(t.getPointLabelContext(r));wL(n,a,i);const l=lt(a.font),{x:c,y:u,textAlign:h}=i;bi(n,t._pointLabels[r],c,u+l.lineHeight/2,l,{color:a.color,textAlign:h,textBaseline:"middle"})}}function Ij(t,e,n,s){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Oe);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let a=1;a<s;a++)i=t.getPointPosition(a,e),r.lineTo(i.x,i.y)}}function NL(t,e,n,s,r){const i=t.ctx,a=e.circular,{color:l,lineWidth:c}=e;!a&&!s||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),Ij(t,n,a,s),i.closePath(),i.stroke(),i.restore())}function EL(t,e,n){return Ar(t,{label:n,index:e,type:"pointLabel"})}class pu extends Bd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Dt(Cp(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=gt(e)&&!isNaN(e)?e:0,this.max=gt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Cp(this.options))}generateTickLabels(e){Bd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const r=Te(this.options.pointLabels.callback,[n,s],this);return r||r===0?r:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?fL(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,r))}getIndexAngle(e){const n=Oe/(this._pointLabels.length||1),s=this.options.startAngle||0;return qt(e*n+$n(s))}getDistanceFromCenterForValue(e){if(Ne(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ne(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return EL(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const r=this.getIndexAngle(e)-Ye+s;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:r,bottom:i}=this._pointLabelItems[e];return{left:n,top:s,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Ij(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:r,border:i}=n,a=this._pointLabels.length;let l,c,u;if(n.pointLabels.display&&_L(this,a),r.display&&this.ticks.forEach((h,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const m=this.getContext(f),g=r.setContext(m),b=i.setContext(m);NL(this,g,c,a,b)}}),s.display){for(e.save(),l=a-1;l>=0;l--){const h=s.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=h;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=s.setContext(this.getContext(c)),h=lt(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=h.string,a=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Dt(u.backdropPadding);e.fillRect(-a/2-f.left,-i-h.size/2-f.top,a+f.width,h.size+f.height)}bi(e,l.label,0,-i,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Y(pu,"id","radialLinear"),Y(pu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Dh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Y(pu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Y(pu,"descriptors",{angleLines:{_fallback:"grid"}});const Lh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$t=Object.keys(Lh);function Iw(t,e){return t-e}function Tw(t,e){if(Ne(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),gt(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Ld(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function kw(t,e,n,s){const r=$t.length;for(let i=$t.indexOf(t);i<r-1;++i){const a=Lh[$t[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=s)return $t[i]}return $t[r-1]}function jL(t,e,n,s,r){for(let i=$t.length-1;i>=$t.indexOf(n);i--){const a=$t[i];if(Lh[a].common&&t._adapter.diff(r,s,a)>=e-1)return a}return $t[n?$t.indexOf(n):0]}function SL(t){for(let e=$t.indexOf(t)+1,n=$t.length;e<n;++e)if(Lh[$t[e]].common)return $t[e]}function Cw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=Nx(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function IL(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+r.add(l,1,s))c=n[l],c>=0&&(e[c].major=!0);return e}function Aw(t,e,n){const s=[],r={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],r[l]=a,s.push({value:l,major:!1});return i===0||!n?s:IL(t,s,r,n)}class Wd extends Ii{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new y6._date(e.adapters.date);r.init(n),ol(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Tw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=gt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=gt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,l=zM(r,i,a);return this._unit=n.unit||(s.autoSkip?kw(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):jL(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:SL(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),Aw(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Kt(n,0,a),s=Kt(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||kw(i.minUnit,n,s,this._getLabelCapacity(n)),l=ce(r.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=Ld(c)||c===!0,h={};let f=n,m,g;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(s,n,a)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(m=f,g=0;m<s;m=+e.add(m,l,a),g++)Cw(h,m,b);return(m===s||r.bounds==="ticks"||g===1)&&Cw(h,m,b),Object.keys(h).sort(Iw).map(_=>+_)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return Te(a,[e,n,s],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,h=c&&l[c],f=u&&l[u],m=s[n],g=u&&f&&m&&m.major;return this._adapter.format(e,r||(g?f:h))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=$n(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*a,h:s*a+l*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,Aw(this,[e],this._majorUnit),r),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(Tw(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return QE(e.sort(Iw))}}Y(Wd,"id","time"),Y(Wd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gu(t,e,n){let s=0,r=t.length-1,i,a,l,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Np(t,"pos",e)),{pos:i,time:l}=t[s],{pos:a,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Np(t,"time",e)),{time:i,pos:l}=t[s],{time:a,pos:c}=t[r]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class Pw extends Wd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=gu(n,this.min),this._tableRange=gu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let a,l,c,u,h;for(a=0,l=e.length;a<l;++a)u=e[a],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,l=r.length;a<l;++a)h=r[a+1],c=r[a-1],u=r[a],Math.round((h+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(gu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return gu(this._table,s*this._tableRange+this._minPos,!0)}}Y(Pw,"id","timeseries"),Y(Pw,"defaults",Wd.defaults);const Tj="label";function Rw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function TL(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function kj(t,e){t.labels=e}function Cj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tj;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function kL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tj;const n={labels:[],datasets:[]};return kj(n,t.labels),Cj(n,t.datasets,e),n}function CL(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:f,...m}=t,g=V.useRef(null),b=V.useRef(null),_=()=>{g.current&&(b.current=new Ha(g.current,{type:a,data:kL(l,i),options:c&&{...c},plugins:u}),Rw(e,b.current))},j=()=>{Rw(e,null),b.current&&(b.current.destroy(),b.current=null)};return V.useEffect(()=>{!r&&b.current&&c&&TL(b.current,c)},[r,c]),V.useEffect(()=>{!r&&b.current&&kj(b.current.config.data,l.labels)},[r,l.labels]),V.useEffect(()=>{!r&&b.current&&l.datasets&&Cj(b.current.config.data,l.datasets,i)},[r,l.datasets]),V.useEffect(()=>{b.current&&(r?(j(),setTimeout(_)):b.current.update(f))},[r,c,l.labels,l.datasets,f]),V.useEffect(()=>{b.current&&(j(),setTimeout(_))},[a]),V.useEffect(()=>(_(),()=>j()),[]),Gd.createElement("canvas",{ref:g,role:"img",height:n,width:s,...m},h)}const AL=V.forwardRef(CL);function Aj(t,e){return Ha.register(e),V.forwardRef((n,s)=>Gd.createElement(AL,{...n,ref:s,type:t}))}const Ap=Aj("bar",Uu),Pj=Aj("doughnut",Lo),Mw=[{id:1,question:"¿Qué es el interés compuesto?",options:["Interés sobre interés","Un impuesto","Una comisión bancaria","Un tipo de crédito"],correct:0,explanation:'El interés compuesto es cuando los intereses generados se suman al capital inicial, y a su vez generan nuevos intereses. Es la "octava maravilla del mundo" según Einstein, porque permite que el dinero crezca exponencialmente.',category:"Conceptos Básicos",difficulty:"Básico"},{id:2,question:"¿Qué porcentaje mínimo es recomendable ahorrar?",options:["5%","10%","15%","20%"],correct:3,explanation:"La regla 50/30/20 recomienda ahorrar al menos el 20% de los ingresos: 50% para necesidades, 30% para deseos y 20% para ahorro e inversión. Sin embargo, cualquier porcentaje es mejor que no ahorrar nada.",category:"Presupuesto",difficulty:"Básico"},{id:3,question:"¿Qué es la inflación?",options:["Subida de precios","Bajada de salarios","Crecimiento económico","Tipo de inversión"],correct:0,explanation:"La inflación es el aumento generalizado y sostenido de los precios de bienes y servicios en una economía. Reduce el poder adquisitivo del dinero, por eso es importante que tus ahorros crezcan por encima de la inflación.",category:"Economía",difficulty:"Básico"},{id:4,question:"¿Cuánto debería tener en un fondo de emergencia?",options:["1 mes de gastos","3-6 meses de gastos","1 año de gastos","No es necesario"],correct:1,explanation:"Un fondo de emergencia debe cubrir entre 3-6 meses de gastos básicos. Esto te protege ante imprevistos como pérdida de trabajo, gastos médicos o reparaciones urgentes sin tener que recurrir a créditos costosos.",category:"Seguridad Financiera",difficulty:"Intermedio"},{id:5,question:"¿Qué es la diversificación en inversiones?",options:["Poner todo en una acción","Invertir en diferentes activos","Comprar solo oro","Invertir solo en inmuebles"],correct:1,explanation:"La diversificación consiste en distribuir tus inversiones entre diferentes activos, sectores, regiones y tipos de inversión. Reduce el riesgo porque si una inversión falla, las otras pueden compensar las pérdidas.",category:"Inversiones",difficulty:"Intermedio"},{id:6,question:"¿Qué es el IRPF?",options:["Un tipo de cuenta","El impuesto sobre la renta","Un fondo de inversión","Una tarjeta de crédito"],correct:1,explanation:"El IRPF (Impuesto sobre la Renta de las Personas Físicas) es un impuesto que grava los ingresos de las personas físicas. Se aplica sobre salarios, rentas de capital, actividades económicas y ganancias patrimoniales.",category:"Impuestos",difficulty:"Básico"},{id:7,question:"¿Qué es mejor: pagar deudas o invertir?",options:["Siempre invertir","Siempre pagar deudas","Depende del tipo de interés","No importa"],correct:2,explanation:"La decisión depende de comparar el coste de la deuda vs. el rendimiento esperado de la inversión. Si la deuda tiene un interés del 15% y una inversión rinde el 8%, es mejor pagar la deuda primero.",category:"Estrategia Financiera",difficulty:"Intermedio"},{id:8,question:"¿Qué es un ETF?",options:["Un tipo de cuenta bancaria","Un fondo cotizado en bolsa","Una tarjeta de débito","Un seguro"],correct:1,explanation:"Un ETF (Exchange-Traded Fund) es un fondo de inversión que cotiza en bolsa como una acción. Combina la diversificación de un fondo con la flexibilidad de compra/venta de una acción individual.",category:"Inversiones",difficulty:"Intermedio"},{id:9,question:"¿Qué porcentaje de tu salario deberías gastar en vivienda?",options:["20%","30%","50%","No hay límite"],correct:1,explanation:"La regla del 30% establece que no deberías gastar más del 30% de tus ingresos brutos en vivienda (alquiler o hipoteca). Esto incluye el pago principal, intereses, impuestos y seguros.",category:"Presupuesto",difficulty:"Básico"},{id:10,question:"¿Qué es la capitalización de mercado?",options:["El valor de un edificio","El valor total de una empresa","El precio de una acción","El coste de un crédito"],correct:1,explanation:"La capitalización de mercado es el valor total de una empresa calculado multiplicando el precio de una acción por el número total de acciones en circulación. Indica el tamaño de la empresa.",category:"Mercados Financieros",difficulty:"Intermedio"},{id:11,question:"¿Qué es el TAE?",options:["Tasa Anual Equivalente","Tipo de cuenta","Tarjeta de crédito","Trámite bancario"],correct:0,explanation:"El TAE (Tasa Anual Equivalente) es el coste real de un producto financiero expresado en porcentaje anual. Incluye intereses, comisiones y otros gastos, permitiendo comparar productos de forma homogénea.",category:"Conceptos Básicos",difficulty:"Básico"},{id:12,question:"¿Qué es un fondo indexado?",options:["Un fondo activo","Un fondo que replica un índice","Un fondo de pensiones","Un fondo de inversión libre"],correct:1,explanation:"Un fondo indexado es un fondo de inversión que replica un índice bursátil (como el S&P 500). Tiene comisiones bajas y ofrece diversificación automática, siendo una excelente opción para inversores principiantes.",category:"Inversiones",difficulty:"Intermedio"},{id:13,question:"¿Cuál es el efecto del interés compuesto a largo plazo?",options:["El crecimiento es lineal","El crecimiento es exponencial","El crecimiento se detiene","El crecimiento es negativo"],correct:1,explanation:'El interés compuesto produce un crecimiento exponencial a largo plazo. Los intereses generan nuevos intereses, creando un efecto "bola de nieve" que puede multiplicar significativamente tu capital inicial.',category:"Conceptos Básicos",difficulty:"Intermedio"},{id:14,question:"¿Qué es la regla 72?",options:["Regla de oro de inversión","Fórmula para duplicar dinero","Regla de ahorro","Regla de gastos"],correct:1,explanation:"La regla 72 te permite calcular cuántos años tardará tu dinero en duplicarse. Divide 72 entre la tasa de interés anual. Ejemplo: al 6% anual, tu dinero se duplica en 12 años (72÷6=12).",category:"Conceptos Básicos",difficulty:"Intermedio"},{id:15,question:"¿Qué es mejor: una tarjeta de débito o crédito?",options:["Siempre débito","Siempre crédito","Depende del uso responsable","No hay diferencia"],correct:2,explanation:"Las tarjetas de crédito pueden ser mejores si las usas responsablemente (pago completo mensual), ya que ofrecen protección, recompensas y mejoran tu historial crediticio. Las de débito son más seguras para gastos cotidianos.",category:"Productos Financieros",difficulty:"Intermedio"},{id:16,question:"¿Qué es un plan de pensiones?",options:["Una inversión libre","Un producto de ahorro fiscal","Una cuenta corriente","Un seguro"],correct:1,explanation:"Un plan de pensiones es un producto de ahorro a largo plazo con ventajas fiscales. Permite desgravar hasta ciertos límites y está diseñado para complementar la pensión pública en la jubilación.",category:"Jubilación",difficulty:"Intermedio"},{id:17,question:"¿Qué es la inflación subyacente?",options:["Inflación general","Inflación sin energía y alimentos","Inflación negativa","Inflación estacional"],correct:1,explanation:"La inflación subyacente excluye los precios más volátiles (energía y alimentos) para mostrar la tendencia inflacionaria de fondo. Es más estable y predecible que la inflación general.",category:"Economía",difficulty:"Avanzado"},{id:18,question:"¿Qué es un fondo de emergencia?",options:["Fondo de inversión","Dinero para imprevistos","Fondo de pensiones","Fondo de inversión libre"],correct:1,explanation:"Un fondo de emergencia es dinero líquido reservado para cubrir gastos imprevistos como pérdida de trabajo, reparaciones urgentes o gastos médicos. Debe estar en una cuenta de fácil acceso y alta liquidez.",category:"Seguridad Financiera",difficulty:"Básico"},{id:19,question:"¿Qué es el VAN?",options:["Valor Actual Neto","Variable de Análisis","Valor de Activos","Variable de Negocio"],correct:0,explanation:"El VAN (Valor Actual Neto) es una herramienta de evaluación de inversiones que descuenta los flujos futuros al valor presente. Un VAN positivo indica que la inversión es rentable.",category:"Análisis Financiero",difficulty:"Avanzado"},{id:20,question:"¿Qué es la regla 4%?",options:["Regla de ahorro","Regla de gasto en jubilación","Regla de inversión","Regla de endeudamiento"],correct:1,explanation:"La regla 4% sugiere que puedes retirar el 4% de tu cartera de inversiones anualmente en la jubilación sin agotar el capital. Esta regla asume una cartera balanceada y un horizonte temporal de 30 años.",category:"Jubilación",difficulty:"Avanzado"},{id:21,question:"¿Qué es un dividendo?",options:["Una comisión bancaria","Una parte de las ganancias de una empresa","Un tipo de interés","Un impuesto"],correct:1,explanation:"Un dividendo es la parte de las ganancias que una empresa distribuye entre sus accionistas. Es una forma de recibir ingresos pasivos por tener acciones de empresas que generan beneficios.",category:"Inversiones",difficulty:"Básico"},{id:22,question:"¿Qué es la volatilidad?",options:["Estabilidad de precios","Variabilidad de precios","Rentabilidad fija","Garantía de ganancias"],correct:1,explanation:"La volatilidad mide qué tan variables son los precios de un activo. Mayor volatilidad significa mayor riesgo, pero también mayor potencial de ganancias (y pérdidas).",category:"Mercados Financieros",difficulty:"Intermedio"},{id:23,question:"¿Qué es el PER?",options:["Precio entre Rentabilidad","Precio entre Resultados","Precio entre Retorno","Precio entre Riesgo"],correct:1,explanation:"El PER (Price-to-Earnings Ratio) compara el precio de una acción con sus beneficios. Un PER bajo puede indicar que la acción está barata, pero también puede reflejar problemas en la empresa.",category:"Análisis Financiero",difficulty:"Intermedio"},{id:24,question:"¿Qué es mejor: invertir mensualmente o de una vez?",options:["Siempre de una vez","Siempre mensualmente","Depende del mercado","No importa"],correct:2,explanation:'El "dollar-cost averaging" (inversión mensual) reduce el riesgo de invertir en el momento equivocado. Pero si tienes el dinero disponible, invertir de una vez históricamente ha dado mejores resultados.',category:"Estrategia Financiera",difficulty:"Intermedio"},{id:25,question:"¿Qué es un bono?",options:["Una acción","Un préstamo a una empresa o gobierno","Un fondo de inversión","Una cuenta bancaria"],correct:1,explanation:"Un bono es un préstamo que haces a una empresa o gobierno a cambio de intereses regulares. Es generalmente menos arriesgado que las acciones pero con menor potencial de ganancias.",category:"Inversiones",difficulty:"Básico"},{id:26,question:"¿Qué es el efecto del tiempo en las inversiones?",options:["No importa","Reduce el riesgo","Aumenta el riesgo","Solo afecta a largo plazo"],correct:1,explanation:"El tiempo es tu mejor aliado en las inversiones. Permite que el interés compuesto haga su magia y reduce el impacto de las fluctuaciones del mercado a corto plazo.",category:"Conceptos Básicos",difficulty:"Intermedio"},{id:27,question:"¿Qué es la inflación anual del 3% significa?",options:["Todo sube un 3%","El dinero pierde valor","Las inversiones suben 3%","Los salarios suben 3%"],correct:1,explanation:"Una inflación del 3% anual significa que el dinero pierde poder adquisitivo. Lo que hoy cuesta 100€, el año que viene costará 103€. Por eso es importante que tus ahorros crezcan por encima de la inflación.",category:"Economía",difficulty:"Básico"},{id:28,question:"¿Qué es mejor: una hipoteca fija o variable?",options:["Siempre fija","Siempre variable","Depende de las expectativas de tipos","No hay diferencia"],correct:2,explanation:"Las hipotecas fijas ofrecen estabilidad pero suelen ser más caras. Las variables son más baratas inicialmente pero pueden subir. La decisión depende de tus expectativas sobre la evolución de los tipos de interés.",category:"Productos Financieros",difficulty:"Intermedio"},{id:29,question:"¿Qué es un fondo de inversión?",options:["Una cuenta bancaria","Un producto que agrupa varias inversiones","Un seguro","Una tarjeta de crédito"],correct:1,explanation:"Un fondo de inversión agrupa el dinero de muchos inversores para invertir en una cartera diversificada de activos. Permite acceder a inversiones que individualmente serían inaccesibles.",category:"Inversiones",difficulty:"Básico"},{id:30,question:"¿Qué es el riesgo de mercado?",options:["Riesgo de perder el trabajo","Riesgo de que el mercado baje","Riesgo de inflación","Riesgo de fraude"],correct:1,explanation:"El riesgo de mercado es la posibilidad de que el valor de tus inversiones baje debido a movimientos generales del mercado. Es un riesgo sistemático que afecta a todas las inversiones.",category:"Gestión de Riesgo",difficulty:"Intermedio"}],PL=()=>{const t=new Date,e=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24));return Mw[e%Mw.length]},RL=({onClose:t})=>{const[e,n]=V.useState(!1);return V.useEffect(()=>{const s=setTimeout(()=>{n(!0)},2e3);return()=>clearTimeout(s)},[]),e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 max-w-sm mx-auto shadow-2xl border border-purple-400/30",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🧠"}),o.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"¡Pregunta del Día!"}),o.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Aprende algo nuevo sobre finanzas y mantén tu racha de aprendizaje. ¡Solo te tomará 1 minuto!"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:t,className:"flex-1 bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-xl transition-all duration-300 text-sm",children:"Más tarde"}),o.jsx("button",{onClick:()=>{const s=document.querySelector("[data-quiz-section]");s&&s.scrollIntoView({behavior:"smooth"}),t()},className:"flex-1 bg-white text-purple-600 font-bold py-2 px-4 rounded-xl hover:scale-105 transition-all duration-300 text-sm",children:"¡Vamos!"})]})]})})}):null},Rj=({isOpen:t,onClose:e})=>{const[n,s]=V.useState("");if(!t)return null;const r=a=>{const l=`https://paypal.me/lipastudios/${a}`;window.open(l,"_blank","noopener,noreferrer")},i=()=>{const a=Number(n.replace(",","."));!isNaN(a)&&a>0&&r(Number(a.toFixed(2)))};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:o.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-yellow-500/30 bg-gradient-to-b from-slate-900 to-slate-800 text-white shadow-2xl",children:[o.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Apoya FinanzasFácil"}),o.jsx("button",{onClick:e,className:"text-white/70 hover:text-white text-sm",children:"Cerrar"})]}),o.jsxs("div",{className:"p-5 space-y-4",children:[o.jsx("p",{className:"text-sm text-white/80",children:"Tu donación nos ayuda a mantener la app gratis y mejorarla continuamente. ¡Gracias! 🙌"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,5,10].map(a=>o.jsxs("button",{onClick:()=>r(a),className:"rounded-xl border border-yellow-500/40 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 py-3 font-semibold hover:from-yellow-500/30 hover:to-orange-500/30 transition-all",children:["€",a]},a))}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-xs mb-1 text-white/70",children:"Otro importe"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:n,onChange:a=>s(a.target.value),placeholder:"Ej. 3,50",inputMode:"decimal",className:"flex-1 rounded-lg bg-white/10 border border-white/20 px-3 py-2 text-sm outline-none focus:border-white/40"}),o.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg bg-white text-slate-900 font-semibold text-sm hover:opacity-90",children:"Donar"})]})]}),o.jsx("div",{className:"text-[11px] text-white/50 mt-2",children:"Pagos seguros vía PayPal"})]})]})})};Ha.register($l,Gl,ma,Ox,Lx,Dx,ea,qu,Fo);const Dw={monthlyIncome:1500,fixedExpenses:{rent:500,utilities:80,internet:40,transport:60,subscriptions:25,food:300,entertainment:150,health:50,clothing:100,other:100},savingsGoal:200,age:30,location:"madrid"},be=[{title:"¡Bienvenido!",description:"Te voy a guiar paso a paso para configurar tu perfil financiero. IMPORTANTE: Todos los valores son aproximados y podrás modificarlos después desde el dashboard.",icon:"🎯",field:null},{title:"¿Cuánto ingresas al mes?",description:"Ingresos netos mensuales (después de impuestos) - Valor aproximado",icon:"💰",field:"monthlyIncome"},{title:"¿Cuánto pagas de vivienda?",description:"Alquiler o hipoteca mensual - Valor aproximado",icon:"🏠",field:"rent"},{title:"¿Cuánto pagas de luz y agua?",description:"Facturas de electricidad y agua (aproximado)",icon:"⚡",field:"utilities"},{title:"¿Cuánto pagas de internet y móvil?",description:"Tarifas de internet y teléfono - Valor aproximado",icon:"📶",field:"internet"},{title:"¿Cuánto pagas de suscripciones?",description:"Netflix, Spotify, gym, seguros... - Valor aproximado",icon:"📱",field:"subscriptions"},{title:"¿Cuánto gastas en alimentación?",description:"Supermercado, restaurantes, comida... - Valor aproximado",icon:"🛒",field:"food"},{title:"¿Cuánto gastas en transporte?",description:"Gasolina, transporte público, taxi... - Valor aproximado",icon:"🚗",field:"transport"},{title:"¿Cuánto gastas en ocio?",description:"Entretenimiento, salidas, hobbies... - Valor aproximado",icon:"🎬",field:"entertainment"},{title:"¿Cuánto gastas en salud?",description:"Farmacia, médicos, seguros médicos... - Valor aproximado",icon:"🏥",field:"health"},{title:"¿Cuánto gastas en ropa?",description:"Ropa, calzado, accesorios... - Valor aproximado",icon:"👕",field:"clothing"},{title:"¿Cuánto gastas en otros?",description:"Gastos varios, imprevistos... - Valor aproximado",icon:"📦",field:"other"},{title:"¿Cuántos años tienes?",description:"Para comparar con personas de tu edad",icon:"🎂",field:"age"},{title:"¿Dónde vives?",description:"Para comparar con tu región",icon:"📍",field:"location"},{title:"¡Listo!",description:"Ya tienes tu perfil financiero configurado. Puedes modificarlo cuando quieras.",icon:"🎉",field:null}],Ow=["Vivienda","Comida","Transporte","Salud","Ocio","Suscripciones","Educación","Impuestos","Otros"],Lw={madrid:{avgIncome:1950,avgExpenses:{rent:850,utilities:100,internet:50,food:280,transport:120,subscriptions:45,entertainment:120,health:60,clothing:80,other:95}},barcelona:{avgIncome:1850,avgExpenses:{rent:750,utilities:95,internet:45,food:260,transport:110,subscriptions:42,entertainment:110,health:55,clothing:75,other:90}},valencia:{avgIncome:1650,avgExpenses:{rent:550,utilities:80,internet:40,food:240,transport:90,subscriptions:35,entertainment:90,health:50,clothing:60,other:75}},sevilla:{avgIncome:1550,avgExpenses:{rent:450,utilities:70,internet:35,food:220,transport:80,subscriptions:30,entertainment:80,health:45,clothing:55,other:70}},bilbao:{avgIncome:1750,avgExpenses:{rent:600,utilities:85,internet:42,food:250,transport:95,subscriptions:38,entertainment:100,health:52,clothing:65,other:85}},other:{avgIncome:1600,avgExpenses:{rent:500,utilities:75,internet:38,food:230,transport:85,subscriptions:32,entertainment:85,health:48,clothing:58,other:78}}},Vw=["Aplica la regla 50/30/20: 50% necesidades, 30% deseos, 20% ahorro","Automatiza tu ahorro el día que cobras","Cancela suscripciones que no uses","Compra con lista y evita compras impulsivas","Compara seguros y tarifas cada año","Diversifica tus ingresos: no dependas de una sola fuente","Invierte en tu educación financiera cada mes","Revisa tus gastos mensualmente y ajusta","Usa apps para comparar precios antes de comprar","Negocia tus facturas: internet, móvil, seguros","Crea un fondo de emergencia de 3-6 meses de gastos"],Fw="ff_expenses_v1",zw="ff_categories_v1",Uw="ff_streak_v1",ML=({onBack:t})=>{var Ya;const[e,n]=V.useState(()=>0),s=xx({threshold:120,velocity:.2,safeZone:{top:160,bottom:100,left:50,right:50},onSwipeRight:()=>{t()},onSwipeUp:()=>{R&&e<be.length&&n(e+1)},onSwipeDown:()=>{R&&e<be.length&&e>0&&n(e-1)}}),[r,i]=V.useState(()=>{const O=localStorage.getItem("ff_onboarding_v1");return O?JSON.parse(O):Dw}),[a,l]=V.useState(0),[c]=V.useState(PL()),[u,h]=V.useState(!1),[f,m]=V.useState(0),[g,b]=V.useState(!1),[_,j]=V.useState(null),[y,v]=V.useState(!1),[E,P]=V.useState(!1),{user:R,logout:M}=tM(),{userData:N,saveUserData:w,loading:I}=nM(R),[C,T]=V.useState(!1);V.useEffect(()=>{if(R){const O=localStorage.getItem("ff_onboarding_v1")||localStorage.getItem("ff_expenses_v1"),W=N&&(N.onboarding||N.expenses);n(!O&&!W?0:be.length)}},[R,N]);const[A,k]=V.useState(()=>{const O=localStorage.getItem(zw);return O?JSON.parse(O):Ow}),[J,X]=V.useState(()=>{const O=localStorage.getItem(Fw);return O?JSON.parse(O):[]}),[ne,ae]=V.useState(()=>{const O=localStorage.getItem("ff_incomes_v1");return O?JSON.parse(O):[]}),[U,H]=V.useState(()=>Number(localStorage.getItem(Uw)||"0")),[Z,ue]=V.useState(!1),[oe,We]=V.useState(!1),[ye,jt]=V.useState(!1),[Ge,Zt]=V.useState(null),[$a,Pr]=V.useState(null),[hc,Ti]=V.useState(!1),[fc,Rr]=V.useState(!1),[Mn,ki]=V.useState({source:"",amount:"",isNewCategory:!1}),[_n,As]=V.useState({category:"",amount:"",isNewCategory:!1});V.useEffect(()=>{R&&N?(X(N.expenses||[]),k(N.categories||Ow),l(N.points||0),H(N.streak||0),i(N.onboardingData||Dw)):(localStorage.setItem(Fw,JSON.stringify(J)),localStorage.setItem(zw,JSON.stringify(A)),localStorage.setItem(Uw,String(U)))},[R,N]),V.useEffect(()=>{R&&!I&&w({expenses:J,categories:A,points:a,streak:U,onboardingData:r,lastUpdated:new Date().toISOString()})},[J,A,a,U,r,R,w,I]);const ss=V.useMemo(()=>{const O=r.fixedExpenses;return O.rent+O.utilities+O.transport+O.subscriptions+O.food+O.entertainment+O.health+O.clothing+O.other},[r]),Ci=V.useMemo(()=>ne.reduce((O,W)=>O+(Number(W.amount)||0),0),[ne]),nt=V.useMemo(()=>J.reduce((O,W)=>O+(Number(W.amount)||0),0),[J]),Xe=V.useMemo(()=>(Number(r.monthlyIncome)||0)+Ci,[r.monthlyIncome,Ci]),rs=V.useMemo(()=>ss+nt,[ss,nt]),mc=V.useMemo(()=>Math.max(0,Xe-rs),[Xe,rs]),pc=V.useMemo(()=>{const O=be.length;return Math.round((e+1)/O*100)},[e]),gc=["💪 Cada euro ahorrado te acerca a la libertad financiera","🚀 La disciplina financiera es la base del éxito","⭐ Tu futuro financiero se construye hoy","🎯 Cada decisión financiera cuenta para tu futuro","💎 La inversión en ti mismo es la mejor inversión","🔥 La constancia en el ahorro es la clave del éxito","🌟 Tu mentalidad de abundancia atrae oportunidades","💡 El conocimiento financiero es tu mejor activo","🎉 Cada meta financiera alcanzada es una victoria","🌈 La independencia financiera te da libertad total","⚡ Tu actitud hacia el dinero determina tu futuro","🏆 Los ricos piensan diferente sobre el dinero","💫 Cada día es una oportunidad para mejorar tus finanzas","🎪 La diversificación reduce el riesgo financiero","🚁 El interés compuesto es la octava maravilla del mundo","🎭 La paciencia es la virtud del inversor exitoso","🎨 La creatividad financiera genera múltiples fuentes de ingreso","🎸 La educación financiera es la mejor herencia","🎬 Tu historia financiera se escribe con cada decisión","🎪 La abundancia financiera está al alcance de todos","🎨 La planificación financiera es arte y ciencia","🎭 La mentalidad de escasez limita tus posibilidades","🎸 Cada gasto es una decisión sobre tu futuro","🎬 La libertad financiera no es un destino, es un viaje","🎪 Los hábitos financieros saludables cambian vidas","🎨 La inversión en activos te hace más rico cada día","🎭 La gratitud financiera atrae más abundancia","🎸 Tu red de valor financiero determina tu patrimonio","🎬 La consistencia en el ahorro supera la inteligencia","🎪 La educación financiera es la mejor inversión de tu vida"],Mr=V.useMemo(()=>{const O=new Date,W=Math.floor((O.getTime()-new Date(O.getFullYear(),0,0).getTime())/(1e3*60*60*24));return gc[W%gc.length]},[]),xc=()=>e===0?t():n(O=>Math.max(0,O-1)),yc=O=>{Zt(O)},Ai=(O,W)=>{ae(G=>G.map(ve=>ve.id===O?{...ve,amount:W}:ve)),Zt(null)},Vh=O=>{ae(W=>W.filter(G=>G.id!==O))},Fh=()=>{if(Mn.source&&Mn.amount){const O={id:`${Date.now()}`,source:Mn.source,amount:parseFloat(Mn.amount),date:new Date().toISOString().split("T")[0]};ae(W=>[...W,O]),ki({source:"",amount:"",isNewCategory:!1}),Ti(!1)}},bc=O=>{Pr(O)},Ga=(O,W)=>{X(G=>G.map(ve=>ve.id===O?{...ve,amount:W}:ve)),Pr(null)},Dr=O=>{X(W=>W.filter(G=>G.id!==O))},Ka=()=>{if(_n.category&&_n.amount){const O={id:`${Date.now()}`,category:_n.category,amount:parseFloat(_n.amount),date:new Date().toISOString().split("T")[0]};X(W=>[...W,O]),As({category:"",amount:"",isNewCategory:!1}),Rr(!1)}},Qa=O=>{if(j(O),h(!0),O===c.correct){l(G=>G+100),m(G=>G+1);const W=new Date().toDateString();localStorage.setItem("ff_quiz_completed_"+W,"true"),ue(!0),setTimeout(()=>ue(!1),2e3)}else m(0);setTimeout(()=>{b(!0)},1e3)},Nn=()=>{const O=new Date().toDateString();return localStorage.getItem("ff_quiz_completed_"+O)==="true"};V.useEffect(()=>{R&&!Nn()&&(localStorage.getItem("ff_quiz_notification_seen_"+new Date().toDateString())||setTimeout(()=>{v(!0)},3e3))},[R]);const vc=()=>{v(!1),localStorage.setItem("ff_quiz_notification_seen_"+new Date().toDateString(),"true")},Or=V.useMemo(()=>{const O=[{label:"Salario Base",value:r.monthlyIncome,color:"#10b981"},...ne.filter(G=>G.amount>0).map((G,ve)=>({label:G.source,value:G.amount,color:`hsl(${120+ve*40}, 60%, 45%)`}))].filter(G=>G.value>0),W=[{label:"Vivienda",value:r.fixedExpenses.rent,color:"#ef4444"},{label:"Servicios",value:r.fixedExpenses.utilities,color:"#f97316"},{label:"Transporte",value:r.fixedExpenses.transport,color:"#eab308"},{label:"Suscripciones",value:r.fixedExpenses.subscriptions,color:"#22c55e"},{label:"Alimentación",value:r.fixedExpenses.food,color:"#3b82f6"},{label:"Ocio",value:r.fixedExpenses.entertainment,color:"#8b5cf6"},{label:"Salud",value:r.fixedExpenses.health,color:"#ec4899"},{label:"Ropa",value:r.fixedExpenses.clothing,color:"#06b6d4"},{label:"Otros",value:r.fixedExpenses.other,color:"#84cc16"},...J.filter(G=>G.amount>0).map((G,ve)=>({label:G.category,value:G.amount,color:`hsl(${280+ve*30}, 70%, 50%)`}))].filter(G=>G.value>0);return{incomeSources:O,expenseCategories:W}},[r,ne,J]),wc=V.useMemo(()=>Vw[Math.floor(a/10)%Vw.length],[a]),Ut=V.useMemo(()=>{const O=Lw[r.location]||Lw.other,W=ss,G=Object.values(O.avgExpenses).reduce((ve,un)=>ve+un,0);return{income:{user:r.monthlyIncome,regional:O.avgIncome,difference:r.monthlyIncome-O.avgIncome,percentage:(r.monthlyIncome-O.avgIncome)/O.avgIncome*100},expenses:{user:W,regional:G,difference:W-G,percentage:(W-G)/G*100},categoryComparison:Object.entries(O.avgExpenses).map(([ve,un])=>({category:ve,user:r.fixedExpenses[ve]||0,regional:un,difference:(r.fixedExpenses[ve]||0)-un}))}},[r,ss]);return o.jsxs("div",{ref:s,className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[Z&&o.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:o.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[o.jsx("div",{className:"text-6xl animate-bounce",children:"🎉"}),o.jsx("div",{className:"text-4xl animate-ping absolute -top-4 -right-4",children:"✨"}),o.jsx("div",{className:"text-4xl animate-ping absolute -bottom-4 -left-4",children:"⭐"})]})}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white relative",children:[o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs("button",{onClick:xc,className:"cursor-pointer flex items-center gap-2 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30 text-white hover:bg-white/30 transition-all duration-300 shadow-lg hover:scale-105",children:[o.jsx(Sg,{className:"w-3 h-3"}),o.jsx("span",{className:"text-sm",children:"Volver"})]})}),o.jsx("div",{className:"absolute top-4 right-4 z-10",children:R?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[o.jsx(Oy,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:(Ya=R.email)==null?void 0:Ya.split("@")[0]})]}),o.jsx("button",{onClick:()=>P(!0),className:"flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm rounded-lg border border-yellow-500/30 text-white hover:from-yellow-500/30 hover:to-orange-500/30 transition-all duration-300 shadow-lg hover:scale-105","aria-label":"Donar a través de PayPal",children:o.jsx("span",{className:"text-xs",children:"💖"})}),o.jsx("button",{onClick:M,className:"flex items-center gap-1 px-3 py-1 bg-red-500/20 backdrop-blur-sm rounded-lg border border-red-500/30 text-white hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:scale-105",children:o.jsx(VT,{className:"w-3 h-3"})})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>P(!0),className:"flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm rounded-lg border border-yellow-500/30 text-white hover:from-yellow-500/30 hover:to-orange-500/30 transition-all duration-300 shadow-lg hover:scale-105","aria-label":"Donar a través de PayPal",children:o.jsx("span",{className:"text-xs",children:"💖"})}),o.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-1 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30 text-white hover:bg-white/30 transition-all duration-300 shadow-lg hover:scale-105",children:[o.jsx(Oy,{className:"w-3 h-3"}),o.jsx("span",{className:"text-xs",children:"Login"})]})]})}),o.jsxs("div",{className:"text-center py-4 pt-12",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-black mb-2 bg-gradient-to-r from-yellow-400 to-pink-400 bg-clip-text text-transparent animate-pulse",children:"Control de Gastos"}),o.jsx("p",{className:"text-white/90 text-sm font-medium animate-pulse",children:Mr}),R&&o.jsx("div",{className:"mt-1 text-xs text-white/80",children:"🔄 Datos sincronizados en la nube"})]})]}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-4",children:o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:"bg-gradient-to-br from-yellow-400/20 to-orange-500/20 backdrop-blur-lg rounded-xl p-3 text-center border border-yellow-400/30",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:o.jsx(Qc,{className:"w-4 h-4 text-yellow-400"})}),o.jsxs("div",{className:"text-lg font-black text-yellow-400",children:[pc,"%"]}),o.jsx("div",{className:"text-xs text-white/70",children:"Progreso"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-400/20 to-pink-500/20 backdrop-blur-lg rounded-xl p-3 text-center border border-purple-400/30",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:o.jsx(Dy,{className:"w-4 h-4 text-purple-400"})}),o.jsx("div",{className:"text-lg font-black text-purple-400",children:a}),o.jsx("div",{className:"text-xs text-white/70",children:"Puntos"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-400/20 to-red-500/20 backdrop-blur-lg rounded-xl p-3 text-center border border-orange-400/30",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:o.jsx(Ry,{className:"w-4 h-4 text-orange-400 animate-pulse"})}),o.jsx("div",{className:"text-lg font-black text-orange-400",children:U}),o.jsx("div",{className:"text-xs text-white/70",children:"Días"})]})]})}),!R&&o.jsx("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20 text-center",children:[o.jsx("div",{className:"text-8xl mb-6 animate-pulse",children:"💸"}),o.jsx("h2",{className:"text-4xl font-black text-white mb-4",children:"Control de Gastos"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 leading-relaxed",children:"Regístrate gratis para comenzar a controlar tus finanzas personales"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:()=>T(!0),className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"🚀 Comenzar Gratis"}),o.jsxs("p",{className:"text-white/70 text-sm",children:["✅ 100% Gratuito",o.jsx("br",{}),"✅ Tus datos protegidos",o.jsx("br",{}),"✅ Sin spam"]})]})]})}),o.jsx("div",{className:"max-w-xl mx-auto p-4 space-y-6",children:R&&e<be.length&&o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20",children:[o.jsx("div",{className:"text-6xl mb-6 text-center animate-bounce",children:be[e].icon}),o.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4 text-center",children:be[e].title}),o.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 leading-relaxed text-center",children:be[e].description}),be[e].field&&be[e].field!=="location"&&be[e].field!==null&&o.jsxs("div",{className:"mb-8",children:[o.jsx("input",{type:"range",min:be[e].field==="age"?18:(be[e].field==="monthlyIncome",0),max:be[e].field==="age"?80:be[e].field==="monthlyIncome"?6e3:1e3,step:be[e].field==="age"?1:10,value:be[e].field==="monthlyIncome"?r.monthlyIncome:be[e].field==="age"?r.age:r.fixedExpenses[be[e].field],onChange:O=>{const W=Number(O.target.value);be[e].field==="monthlyIncome"?i(G=>({...G,monthlyIncome:W})):be[e].field==="age"?i(G=>({...G,age:W})):i(G=>({...G,fixedExpenses:{...G.fixedExpenses,[be[e].field]:W}}))},className:"w-full h-3 bg-white/20 rounded-lg appearance-none cursor-pointer slider"}),o.jsx("div",{className:"text-4xl font-black text-yellow-400 mt-4 text-center",children:be[e].field==="age"?`${r.age} años`:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(be[e].field==="monthlyIncome"?r.monthlyIncome:r.fixedExpenses[be[e].field])})]}),be[e].field==="location"&&o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"madrid",label:"Madrid",icon:"🏛️"},{key:"barcelona",label:"Barcelona",icon:"🏰"},{key:"valencia",label:"Valencia",icon:"🍊"},{key:"sevilla",label:"Sevilla",icon:"🌅"},{key:"bilbao",label:"Bilbao",icon:"🏔️"},{key:"other",label:"Otras regiones",icon:"🗺️"}].map(O=>o.jsxs("button",{onClick:()=>i(W=>({...W,location:O.key})),className:`p-4 rounded-2xl border-2 transition-all duration-300 hover:scale-105 ${r.location===O.key?"bg-yellow-400/20 border-yellow-400 text-yellow-400":"bg-white/10 border-white/30 text-white hover:bg-white/20"}`,children:[o.jsx("div",{className:"text-2xl mb-2",children:O.icon}),o.jsx("div",{className:"font-bold text-sm",children:O.label})]},O.key))}),o.jsx("div",{className:"text-4xl font-black text-yellow-400 mt-4 text-center",children:r.location==="madrid"?"Madrid":r.location==="barcelona"?"Barcelona":r.location==="valencia"?"Valencia":r.location==="sevilla"?"Sevilla":r.location==="bilbao"?"Bilbao":"Otras regiones"})]}),e===be.length-1&&o.jsx("div",{className:"bg-white/10 rounded-2xl p-6 mb-8",children:o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"text-2xl font-black text-white mb-2",children:"📊 Resumen de tu perfil"}),o.jsxs("div",{className:"text-white/80",children:["Ingresos: ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(r.monthlyIncome)]}),o.jsxs("div",{className:"text-white/80",children:["Gastos totales: ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(ss)]}),o.jsxs("div",{className:"text-green-400 font-bold text-xl",children:["Te quedan: ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(mc)]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:()=>{l(O=>O+20),e<be.length-1?n(e+1):n(be.length)},className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:e<be.length-1?"Siguiente ▶️":"Ir al Dashboard 🚀"}),o.jsx("button",{onClick:()=>n(be.length),className:"text-white/80 hover:text-white w-full text-sm underline transition-colors",children:"Saltar configuración"})]}),o.jsxs("div",{className:"text-white/60 text-sm max-w-2xl mx-auto mt-6 text-center",children:["💡 ",o.jsx("strong",{children:"Tip:"})," Estos valores son aproximados y puedes modificarlos en cualquier momento desde el dashboard"]})]})}),R&&e>=be.length&&o.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-400/20 to-emerald-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-green-400/30",children:[o.jsxs("div",{onClick:()=>We(!oe),className:"cursor-pointer hover:scale-105 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl",children:o.jsx(Qc,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"font-bold text-lg text-white",children:"Ingresos"})]}),o.jsx("span",{className:"text-white/60 text-sm",children:oe?"📉":"📈"})]}),o.jsx("div",{className:"text-2xl font-black text-green-400 mb-1",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Xe)}),o.jsx("div",{className:"text-xs text-white/80",children:"Mensuales"})]}),oe&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-green-400/30 space-y-3",children:[o.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"💰"}),o.jsx("span",{className:"text-sm text-white",children:"Ingreso Base"})]}),o.jsx("div",{onClick:()=>{const O=parseFloat(prompt("Nuevo ingreso mensual:",r.monthlyIncome.toString())||"0");O>=0&&i(W=>({...W,monthlyIncome:O}))},className:"text-sm font-semibold text-green-400 cursor-pointer hover:text-green-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(r.monthlyIncome)})]}),o.jsx("div",{className:"text-xs text-white/60 mt-1",children:"👆 Haz clic para editar"})]}),ne.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-white/60 font-semibold",children:"Ingresos adicionales:"}),ne.map(O=>o.jsxs("div",{className:"flex items-center justify-between bg-white/10 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"📈"}),o.jsx("span",{className:"text-sm text-white",children:O.source})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[Ge===O.id?o.jsx("input",{type:"number",defaultValue:O.amount,onBlur:W=>{const G=parseFloat(W.target.value);!isNaN(G)&&G>0?Ai(O.id,G):Zt(null)},onKeyDown:W=>{if(W.key==="Enter"){const G=parseFloat(W.currentTarget.value);!isNaN(G)&&G>0&&Ai(O.id,G)}else W.key==="Escape"&&Zt(null)},className:"w-20 bg-white/20 border border-green-400/50 rounded px-2 py-1 text-white text-sm focus:outline-none focus:ring-1 focus:ring-green-400",autoFocus:!0}):o.jsx("span",{onClick:()=>yc(O.id),className:"text-sm font-semibold text-green-400 cursor-pointer hover:text-green-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(O.amount)}),o.jsx("button",{onClick:()=>Vh(O.id),className:"text-red-400 hover:text-red-300 text-xs ml-1",children:"✕"})]})]},O.id))]}),o.jsx("button",{onClick:()=>Ti(!0),className:"w-full bg-green-500/20 hover:bg-green-500/30 text-green-400 text-xs py-2 px-3 rounded-lg transition-colors border border-green-400/30",children:"➕ Añadir nuevo ingreso"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-400/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-red-400/30",children:[o.jsxs("div",{onClick:()=>jt(!ye),className:"cursor-pointer hover:scale-105 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-red-400 to-pink-500 rounded-xl",children:o.jsx($T,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"font-bold text-lg text-white",children:"Gastos"})]}),o.jsx("span",{className:"text-white/60 text-sm",children:ye?"📉":"📈"})]}),o.jsx("div",{className:"text-2xl font-black text-red-400 mb-1",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(rs)}),o.jsx("div",{className:"text-xs text-white/80",children:"Mensuales"})]}),ye&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-red-400/30 space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-white/60 font-semibold",children:"Gastos fijos:"}),Object.entries(r.fixedExpenses).map(([O,W])=>W>0&&o.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"💸"}),o.jsx("span",{className:"text-sm text-white capitalize",children:O.replace(/([A-Z])/g," $1").trim()})]}),o.jsx("div",{onClick:()=>{const G=parseFloat(prompt(`Nuevo valor para ${O}:`,W.toString())||"0");G>=0&&i(ve=>({...ve,fixedExpenses:{...ve.fixedExpenses,[O]:G}}))},className:"text-sm font-semibold text-red-400 cursor-pointer hover:text-red-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(W)})]}),o.jsx("div",{className:"text-xs text-white/60 mt-1",children:"👆 Haz clic para editar"})]},O))]}),J.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-white/60 font-semibold",children:"Gastos variables:"}),J.map(O=>o.jsxs("div",{className:"flex items-center justify-between bg-white/10 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"🛒"}),o.jsx("span",{className:"text-sm text-white",children:O.category})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[$a===O.id?o.jsx("input",{type:"number",defaultValue:O.amount,onBlur:W=>{const G=parseFloat(W.target.value);!isNaN(G)&&G>0?Ga(O.id,G):Pr(null)},onKeyDown:W=>{if(W.key==="Enter"){const G=parseFloat(W.currentTarget.value);!isNaN(G)&&G>0&&Ga(O.id,G)}else W.key==="Escape"&&Pr(null)},className:"w-20 bg-white/20 border border-red-400/50 rounded px-2 py-1 text-white text-sm focus:outline-none focus:ring-1 focus:ring-red-400",autoFocus:!0}):o.jsx("span",{onClick:()=>bc(O.id),className:"text-sm font-semibold text-red-400 cursor-pointer hover:text-red-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(O.amount)}),o.jsx("button",{onClick:()=>Dr(O.id),className:"text-red-400 hover:text-red-300 text-xs ml-1",children:"✕"})]})]},O.id))]}),o.jsx("button",{onClick:()=>Rr(!0),className:"w-full bg-red-500/20 hover:bg-red-500/30 text-red-400 text-xs py-2 px-3 rounded-lg transition-colors border border-red-400/30",children:"➕ Añadir nuevo gasto"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-400/20 to-cyan-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-blue-400/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl",children:o.jsx(Dy,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"font-bold text-lg text-white",children:"Disponible"})]}),o.jsx("div",{className:"text-2xl font-black text-blue-400 mb-1",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(mc)}),o.jsx("div",{className:"text-xs text-white/80",children:"Para ahorrar"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-400/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-purple-400/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl",children:o.jsx(MT,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"font-bold text-lg text-white",children:"Puntos"})]}),o.jsx("div",{className:"text-2xl font-black text-purple-400 mb-1",children:a}),o.jsx("div",{className:"text-xs text-white/80",children:"Total acumulado"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-400/20 to-red-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-orange-400/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl",children:o.jsx(Ry,{className:"w-4 h-4 text-white animate-pulse"})}),o.jsx("span",{className:"font-bold text-lg text-white",children:"Racha"})]}),o.jsx("div",{className:"text-2xl font-black text-orange-400 mb-1",children:U}),o.jsx("div",{className:"text-xs text-white/80",children:"días consecutivos"})]})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-white/20",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-400 to-purple-500 rounded-xl",children:o.jsx(Qc,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"font-bold text-lg text-white",children:"📊 Resumen Desglosado"})]}),o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs("div",{className:"bg-white/10 rounded-xl p-1 flex gap-1",children:[o.jsx("button",{onClick:()=>We(!0),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 ${oe?"bg-green-400 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:"💰 Ingresos"}),o.jsx("button",{onClick:()=>jt(!0),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 ${ye?"bg-red-400 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:"💸 Gastos"})]})}),o.jsx("div",{className:"h-60",children:(()=>{const O=oe?Or.incomeSources:Or.expenseCategories;return O.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center text-white/70",children:[o.jsx("div",{className:"text-4xl mb-2",children:"📊"}),o.jsx("div",{children:"No hay datos para mostrar"})]})}):o.jsx(Pj,{data:{labels:O.map(W=>W.label),datasets:[{data:O.map(W=>W.value),backgroundColor:O.map(W=>W.color),borderWidth:3,borderColor:"rgba(255,255,255,0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"white",font:{size:12,weight:"bold"}}},tooltip:{callbacks:{label:function(W){const G=W.parsed,ve=W.dataset.data.reduce((Pi,Dn)=>Pi+Dn,0),un=ve>0?(G/ve*100).toFixed(1):"0";return`${W.label}: ${new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(G)} (${un}%)`}}}},onClick:(W,G)=>{if(G.length>0){const ve=G[0].index,un=O[ve],Pi=O.reduce((zh,Uh)=>zh+Uh.value,0),Dn=Pi>0?(un.value/Pi*100).toFixed(1):"0";alert(`${un.label}: ${new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(un.value)}
Porcentaje: ${Dn}%`)}}}})})()}),o.jsx("div",{className:"mt-4 text-center text-white/70 text-sm",children:"💡 Haz clic en cualquier sección para ver detalles específicos"})]}),o.jsxs("div",{"data-quiz-section":!0,children:[!Nn()&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-purple-400/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl",children:o.jsx(Py,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"font-bold text-lg text-white",children:"🧠 Pregunta del Día"})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs",children:[o.jsx("span",{className:"bg-blue-500/30 text-blue-200 px-2 py-1 rounded-full",children:c.category}),o.jsx("span",{className:"bg-green-500/30 text-green-200 px-2 py-1 rounded-full",children:c.difficulty})]}),o.jsx("div",{className:"bg-white/10 rounded-xl p-3 mb-4",children:o.jsx("div",{className:"text-center text-white/90 text-sm font-semibold",children:"¡Aprende algo nuevo cada día! 🚀"})}),o.jsx("div",{className:"font-semibold text-white mb-3 text-base",children:c.question}),u?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:c.options.map((O,W)=>o.jsxs("div",{className:`py-3 px-4 rounded-xl text-sm text-left border-2 ${W===c.correct?"bg-green-500/30 border-green-400 text-green-100":W===_&&W!==c.correct?"bg-red-500/30 border-red-400 text-red-100":"bg-white/10 border-white/20 text-white/70"}`,children:[o.jsxs("span",{className:"font-bold text-blue-300",children:[String.fromCharCode(65+W),"."]})," ",O,W===c.correct&&o.jsx("span",{className:"ml-2",children:"✅"}),W===_&&W!==c.correct&&o.jsx("span",{className:"ml-2",children:"❌"})]},W))}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:c.options.map((O,W)=>o.jsxs("button",{onClick:()=>Qa(W),className:"bg-white/20 border border-white/30 text-white py-3 px-4 rounded-xl hover:bg-white/30 transition-all duration-300 hover:scale-105 text-sm text-left",children:[o.jsxs("span",{className:"font-bold text-blue-300",children:[String.fromCharCode(65+W),"."]})," ",O]},W))}),o.jsxs("div",{className:"text-white/80 text-xs text-center",children:[o.jsxs("div",{className:"mb-1",children:["+100 puntos por acierto • Racha actual: ",f," días"]}),o.jsx("div",{className:"text-yellow-400 font-bold text-sm",children:"🎯 ¡Mantén tu racha de aprendizaje!"})]}),g&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-500/20 border border-blue-400/30 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Py,{className:"w-4 h-4 text-blue-300"}),o.jsx("span",{className:"font-semibold text-blue-200",children:"💡 Explicación"})]}),o.jsx("p",{className:"text-blue-100 text-sm leading-relaxed",children:c.explanation})]})]}),Nn()&&o.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-green-400/30",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-blue-500 rounded-xl",children:o.jsx(RT,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"font-bold text-lg text-white",children:"✅ ¡Ya respondiste hoy!"})]}),o.jsx("div",{className:"text-white/90 text-sm mb-3",children:"Has completado la pregunta del día. ¡Vuelve mañana para aprender algo nuevo!"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-yellow-400 font-bold text-sm mb-2",children:["🔥 Racha actual: ",f," días"]}),o.jsx("div",{className:"text-white/70 text-xs",children:"Próxima pregunta: mañana a las 00:00"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-indigo-400/30",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-3 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-2xl",children:o.jsx(Qc,{className:"w-6 h-6 text-white"})}),o.jsx("div",{className:"font-black text-2xl text-white",children:"📊 Comparativa Regional"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"text-2xl font-black text-white mb-2",children:"💰 Ingresos"}),o.jsx("div",{className:"text-3xl font-black text-green-400",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Xe)}),o.jsxs("div",{className:"text-sm text-white/80",children:["vs ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Ut.income.regional)," regional"]})]}),o.jsxs("div",{className:`text-center text-lg font-bold ${Ut.income.difference>=0?"text-green-400":"text-red-400"}`,children:[Ut.income.difference>=0?"↑":"↓"," ",Math.abs(Ut.income.percentage).toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"text-2xl font-black text-white mb-2",children:"💸 Gastos"}),o.jsx("div",{className:"text-3xl font-black text-red-400",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(rs)}),o.jsxs("div",{className:"text-sm text-white/80",children:["vs ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Ut.expenses.regional)," regional"]})]}),o.jsxs("div",{className:`text-center text-lg font-bold ${Ut.expenses.difference<=0?"text-green-400":"text-red-400"}`,children:[Ut.expenses.difference<=0?"↓":"↑"," ",Math.abs(Ut.expenses.percentage).toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"text-center text-white/80 text-sm",children:["📍 Comparación con ",r.location==="madrid"?"Madrid":r.location==="barcelona"?"Barcelona":r.location==="valencia"?"Valencia":r.location==="sevilla"?"Sevilla":r.location==="bilbao"?"Bilbao":"tu región"]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-purple-400/30",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-400 to-pink-500 rounded-2xl",children:o.jsx(LT,{className:"w-6 h-6 text-white"})}),o.jsx("div",{className:"font-black text-2xl text-white",children:"📚 Píldora de aprendizaje"})]}),o.jsx("div",{className:"text-white/90 text-lg leading-relaxed",children:wc})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"p-3 bg-gradient-to-r from-orange-400 to-red-500 rounded-2xl",children:o.jsx(WT,{className:"w-6 h-6 text-white"})}),o.jsx("div",{className:"font-black text-2xl text-white",children:"🧾 Últimas transacciones"})]}),o.jsxs("div",{className:"space-y-4",children:[[...J.map(O=>({...O,type:"expense"})),...ne.map(O=>({...O,type:"income"}))].sort((O,W)=>new Date(W.date).getTime()-new Date(O.date).getTime()).slice(0,10).map(O=>o.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-[1.02]",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-black text-lg ${O.type==="income"?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-red-400 to-pink-500"}`,children:O.type==="income"?"💰":"💸"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-white text-lg",children:O.type==="income"?O.source:O.category}),o.jsx("div",{className:"text-sm text-white/70",children:new Date(O.date).toLocaleDateString("es-ES")})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:`font-black text-2xl ${O.type==="income"?"text-green-400":"text-red-400"}`,children:[O.type==="income"?"+":"-",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(O.amount)]})})]})},O.id)),J.length===0&&ne.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:"💸💰"}),o.jsx("div",{className:"text-white/70 text-lg",children:"Aún no has añadido transacciones."}),o.jsx("div",{className:"text-white/50 text-sm mt-2",children:"¡Añade tu primer gasto o ingreso para empezar a ganar puntos!"})]})]})]})]}),o.jsx(eM,{isOpen:C,onClose:()=>R?T(!1):null,onAuthSuccess:O=>{O&&T(!1)},canClose:!!R}),hc&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-2xl border border-white/20 max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"💰 Añadir nuevo ingreso"}),o.jsx("button",{onClick:()=>Ti(!1),className:"text-white/60 hover:text-white text-xl",children:"✕"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Fuente del ingreso"}),o.jsx("input",{type:"text",value:Mn.source,onChange:O=>ki(W=>({...W,source:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"Ej: Freelance, Ventas, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Cantidad (€)"}),o.jsx("input",{type:"number",value:Mn.amount,onChange:O=>ki(W=>({...W,amount:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"0.00"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>Ti(!1),className:"flex-1 bg-white/20 hover:bg-white/30 text-white py-3 px-4 rounded-xl transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:Fh,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-xl transition-colors",children:"Añadir"})]})]})}),fc&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-2xl border border-white/20 max-w-md w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"💸 Añadir nuevo gasto"}),o.jsx("button",{onClick:()=>Rr(!1),className:"text-white/60 hover:text-white text-xl",children:"✕"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Categoría"}),o.jsxs("select",{value:_n.category,onChange:O=>As(W=>({...W,category:O.target.value,isNewCategory:O.target.value==="new"})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-red-400",children:[o.jsx("option",{value:"",className:"bg-gray-800",children:"Selecciona categoría"}),A.map(O=>o.jsx("option",{value:O,className:"bg-gray-800",children:O},O)),o.jsx("option",{value:"new",className:"bg-gray-800",children:"➕ Crear nueva categoría"})]})]}),_n.isNewCategory&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Nueva categoría"}),o.jsx("input",{type:"text",value:_n.category==="new"?"":_n.category,onChange:O=>As(W=>({...W,category:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-red-400",placeholder:"Ej: Comida, Transporte, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Cantidad (€)"}),o.jsx("input",{type:"number",value:_n.amount,onChange:O=>As(W=>({...W,amount:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-red-400",placeholder:"0.00"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>Rr(!1),className:"flex-1 bg-white/20 hover:bg-white/30 text-white py-3 px-4 rounded-xl transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:Ka,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-xl transition-colors",children:"Añadir"})]})]})}),y&&o.jsx(RL,{onClose:vc}),E&&o.jsx(Rj,{isOpen:!0,onClose:()=>P(!1)})]})};Ha.register($l,Gl,ma,Ox,Lx,Dx);const DL=({onBack:t})=>{const[e,n]=V.useState(1),s=xx({threshold:120,velocity:.2,safeZone:{top:160,bottom:100,left:50,right:50},onSwipeRight:()=>{t&&t()},onSwipeUp:()=>{e<4&&n(e+1)},onSwipeDown:()=>{e>1&&n(e-1)}}),[r,i]=V.useState(25),[a,l]=V.useState(500),[c,u]=V.useState("medio"),[h,f]=V.useState(40),[m,g]=V.useState(!1),[b,_]=V.useState(!1),[j,y]=V.useState([]),[v,E]=V.useState([]),[P,R]=V.useState(0),M={conservador:{rate:.04,emoji:"🛡️",color:"from-green-400 to-blue-500"},medio:{rate:.07,emoji:"⚖️",color:"from-yellow-400 to-orange-500"},agresivo:{rate:.12,emoji:"🚀",color:"from-red-400 to-pink-500"}},N=()=>{if(!r||!a)return;const T=Number(r),A=Number(a),J=M[c].rate/12,X=1e6;if(A<=0)return;let ne;J===0?ne=X/(A*12):ne=Math.log(1+X*J/A)/(12*Math.log(1+J));const ae=T+ne;R(ae);const U=[],H=[];let Z=0;const ue=Math.min(50,Math.ceil(ne)+10);for(let We=1;We<=ue;We++){const ye=We*12;J===0?Z=A*ye:Z=A*((Math.pow(1+J,ye)-1)/J),U.push(`Año ${We}`),H.push(Math.min(Z,X))}const oe=U.map((We,ye)=>({age:T+ye+1,amount:H[ye],isActive:H[ye]>=X}));y(oe),g(!0),setTimeout(()=>{n(3),g(!1)},3e3)},w=()=>{if(!r||!h)return;const T=Number(r),k=Number(h)-T,X=M[c].rate/12,ne=1e6;if(k<=0)return;let ae;X===0?ae=ne/(k*12):ae=ne*X/(Math.pow(1+X,k*12)-1),l(Math.round(ae));const U=[];for(let H=0;H<=k;H++){const Z=T+H;if(H===0)U.push({age:Z,amount:0,isActive:!1});else{const ue=H*12;let oe;X===0?oe=ae*ue:oe=ae*((Math.pow(1+X,ue)-1)/X),U.push({age:Z,amount:Math.min(oe,ne),isActive:oe>=ne})}}E(U),_(!0),setTimeout(()=>{n(5),_(!1)},3e3)},I=T=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(T),C=()=>o.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((T,A)=>o.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["🎉","💰","🏆","✨","🎊"][Math.floor(Math.random()*5)]},A))});return m?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 flex items-center justify-center",children:[C(),o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:"🎉"}),o.jsx("h1",{className:"text-6xl font-black mb-4",children:"¡FELICIDADES!"}),o.jsx("h2",{className:"text-4xl font-bold mb-8",children:"¡Serás millonario!"}),o.jsxs("div",{className:"text-5xl font-black text-yellow-300",children:["A los ",Math.round(Number(r)+Math.log(1+1e6*(M[c].rate/12)/Number(a))/(12*Math.log(1+M[c].rate/12)))," años"]})]})]}):b?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 flex items-center justify-center",children:[C(),o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:"🚀"}),o.jsx("h1",{className:"text-6xl font-black mb-4",children:"¡PERFECTO!"}),o.jsxs("h2",{className:"text-4xl font-bold mb-8",children:["¡Serás millonario a los ",h," años!"]}),o.jsxs("div",{className:"text-5xl font-black text-yellow-300",children:["Ahorra ",I(Number(a))," al mes"]})]})]}):o.jsx("div",{ref:s,className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e===1&&o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:"🎂"}),o.jsx("h1",{className:"text-4xl font-black mb-4",children:"¿Cuántos años tienes?"}),o.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 mb-8 border-4 border-white/30",children:[o.jsx("div",{className:"text-8xl font-black text-yellow-300 mb-2",children:r}),o.jsx("div",{className:"text-2xl font-bold",children:"años"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("input",{type:"range",min:"18",max:"65",value:r,onChange:T=>i(Number(T.target.value)),className:"w-full h-4 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #fbbf24 0%, #fbbf24 ${(r-18)/(65-18)*100}%, rgba(255,255,255,0.2) ${(r-18)/(65-18)*100}%, rgba(255,255,255,0.2) 100%)`}}),o.jsxs("div",{className:"flex justify-between text-sm mt-2 opacity-70",children:[o.jsx("span",{children:"18"}),o.jsx("span",{children:"65"})]})]}),o.jsx("button",{onClick:()=>n(2),className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-3xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"¡SIGUIENTE! 🚀"})]}),e===2&&o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:"💰"}),o.jsx("h1",{className:"text-4xl font-black mb-4",children:"¿Cuánto puedes ahorrar al mes?"}),o.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 mb-8 border-4 border-white/30",children:[o.jsx("div",{className:"text-6xl font-black text-yellow-300 mb-2",children:I(a)}),o.jsx("div",{className:"text-2xl font-bold",children:"al mes"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("input",{type:"range",min:"100",max:"5000",step:"50",value:a,onChange:T=>l(Number(T.target.value)),className:"w-full h-4 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${(a-100)/(5e3-100)*100}%, rgba(255,255,255,0.2) ${(a-100)/(5e3-100)*100}%, rgba(255,255,255,0.2) 100%)`}}),o.jsxs("div",{className:"flex justify-between text-sm mt-2 opacity-70",children:[o.jsx("span",{children:"100€"}),o.jsx("span",{children:"5.000€"})]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2 mb-8",children:[{amount:300,label:"Básico",emoji:"🟡"},{amount:800,label:"Bueno",emoji:"🟢"},{amount:1500,label:"Excelente",emoji:"🔥"}].map(T=>o.jsxs("button",{onClick:()=>l(T.amount),className:`p-3 rounded-2xl border-2 transition-all duration-300 ${Math.abs(a-T.amount)<100?"border-yellow-400 bg-white/30 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:T.emoji}),o.jsx("div",{className:"text-sm font-bold",children:T.label}),o.jsx("div",{className:"text-xs opacity-80",children:I(T.amount)})]},T.amount))}),o.jsx("button",{onClick:()=>n(2.5),className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-3xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"¡SIGUIENTE! 🚀"})]}),e===2.5&&o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:"⚖️"}),o.jsx("h1",{className:"text-4xl font-black mb-8",children:"¿Cuál es tu perfil de riesgo?"}),o.jsx("div",{className:"space-y-4 mb-8",children:Object.entries(M).map(([T,A])=>o.jsxs("button",{onClick:()=>u(T),className:`w-full p-6 rounded-3xl border-4 transition-all duration-300 ${c===T?"border-yellow-400 bg-white/30 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[o.jsx("div",{className:"text-4xl mb-2",children:A.emoji}),o.jsx("div",{className:"text-2xl font-black capitalize",children:T}),o.jsxs("div",{className:"text-lg opacity-80",children:["Rentabilidad: ",(A.rate*100).toFixed(1),"% anual"]})]},T))}),o.jsx("button",{onClick:N,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-3xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"¡CALCULAR! 🚀"})]}),e===3&&o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:"📊"}),o.jsx("h1",{className:"text-3xl font-black mb-6",children:"¡Tu progreso hacia el millón!"}),o.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-3xl p-6 mb-6 text-black",children:[o.jsx("div",{className:"text-5xl font-black mb-2",children:Math.round(P)}),o.jsx("div",{className:"text-xl font-bold",children:"años para ser millonario"})]}),o.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 mb-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"📈 Progreso hacia el millón"}),o.jsx("div",{className:"bg-white/5 rounded-2xl p-6",children:o.jsx(Ap,{data:{labels:j.map(T=>`${T.age} años`),datasets:[{label:"Patrimonio acumulado (€)",data:j.map(T=>T.amount),backgroundColor:j.map(T=>T.isActive?"rgba(255, 193, 7, 0.8)":"rgba(59, 130, 246, 0.8)"),borderColor:j.map(T=>T.isActive?"rgba(255, 193, 7, 1)":"rgba(59, 130, 246, 1)"),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:1e6,ticks:{callback:function(T){return"€"+T.toLocaleString()},color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(T){return`€${parseFloat(T.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:300})})]}),o.jsx("button",{onClick:()=>n(4),className:"w-full bg-gradient-to-r from-green-400 to-blue-500 text-white font-black text-2xl py-5 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"¿Quieres ser millonario antes? 🚀"})]}),e===4&&o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:"🎯"}),o.jsx("h1",{className:"text-3xl font-black mb-4",children:"¿A qué edad quieres ser millonario?"}),o.jsxs("div",{className:"bg-white/20 rounded-3xl p-6 mb-6 border-4 border-white/30",children:[o.jsx("div",{className:"text-6xl font-black text-yellow-300 mb-2",children:h}),o.jsx("div",{className:"text-xl font-bold",children:"años"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("input",{type:"range",min:r+1,max:Math.min(r+30,80),value:h,onChange:T=>f(Number(T.target.value)),className:"w-full h-4 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #ef4444 0%, #ef4444 ${(h-(r+1))/(Math.min(r+30,80)-(r+1))*100}%, rgba(255,255,255,0.2) ${(h-(r+1))/(Math.min(r+30,80)-(r+1))*100}%, rgba(255,255,255,0.2) 100%)`}}),o.jsxs("div",{className:"flex justify-between text-sm mt-2 opacity-70",children:[o.jsx("span",{children:r+1}),o.jsx("span",{children:Math.min(r+30,80)})]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[{age:r+5,label:"Pronto",emoji:"⚡"},{age:r+10,label:"Medio",emoji:"🎯"},{age:r+20,label:"Tranquilo",emoji:"😌"}].map(T=>o.jsxs("button",{onClick:()=>f(T.age),className:`p-3 rounded-2xl border-2 transition-all duration-300 ${Math.abs(h-T.age)<2?"border-yellow-400 bg-white/30 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:T.emoji}),o.jsx("div",{className:"text-sm font-bold",children:T.label}),o.jsxs("div",{className:"text-xs opacity-80",children:[T.age," años"]})]},T.age))}),o.jsx("button",{onClick:w,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-2xl py-5 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"¡CALCULAR AHORRO! 🚀"})]}),e===5&&o.jsxs("div",{className:"text-center text-white",children:[o.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:"🎊"}),o.jsx("h1",{className:"text-3xl font-black mb-6",children:"¡Plan de acción!"}),o.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 rounded-3xl p-6 mb-6 text-white",children:[o.jsx("div",{className:"text-5xl font-black mb-2",children:I(Number(a))}),o.jsx("div",{className:"text-xl font-bold",children:"Al mes para ser millonario"}),o.jsxs("div",{className:"text-lg opacity-90",children:["a los ",h," años"]})]}),o.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 mb-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"📈 Progreso hacia tu objetivo"}),o.jsx("div",{className:"bg-white/5 rounded-2xl p-6",children:o.jsx(Ap,{data:{labels:v.map(T=>`${T.age} años`),datasets:[{label:"Patrimonio acumulado (€)",data:v.map(T=>T.amount),backgroundColor:v.map(T=>T.isActive?"rgba(34, 197, 94, 0.8)":"rgba(147, 51, 234, 0.8)"),borderColor:v.map(T=>T.isActive?"rgba(34, 197, 94, 1)":"rgba(147, 51, 234, 1)"),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:1e6,ticks:{callback:function(T){return"€"+T.toLocaleString()},color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(T){return`€${parseFloat(T.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:300})})]}),o.jsx("button",{onClick:()=>{n(1),i(25),l(500),f(40),y([]),E([]),R(0)},className:"w-full bg-gradient-to-r from-purple-400 to-pink-500 text-white font-black text-2xl py-5 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"¡CALCULAR OTRO! 🔄"})]})]})})};Ha.register($l,Gl,ma,Ox,Lx,Dx,ea);const OL=()=>{const[t,e]=V.useState({grossAnnual:36e3,numberOfPays:14,region:"madrid",age:30,maritalStatus:"single",hasChildren:0,childrenUnder3:0,dependents65to75:0,dependentsOver75:0,disability:"none",flexibleCompensation:0,healthInsurance:0,food:0,transport:0,childcare:0,year:2025}),[n,s]=V.useState(null),r=()=>{const l=t.grossAnnual,c=l/t.numberOfPays,u=c*.0635;let h=i(l);const f=u+h,m=c-f,g=f/c*100,b=m*t.numberOfPays,_={madrid:28e3,cataluna:26e3,andalucia:2e4,valencia:22e3,galicia:21e3,castilla_leon:19e3,castilla_mancha:18e3,extremadura:17e3,murcia:19e3,asturias:2e4,cantabria:21e3,rioja:22e3,aragon:23e3,navarra:25e3,pais_vasco:26e3,canarias:19e3,baleares:22e3,ceuta:17e3,melilla:17e3,no_residentes:35e3},j=22e3,y=_[t.region]||28e3,v=b/y*100,E=b/j*100,P={yourNet:b,yourGross:l,regionAverage:y,spainAverage:j,regionRank:v,spainRank:E},R={regularMonth:m,extraMonth:t.numberOfPays===14?m+u*.5:m,extraPayments:t.numberOfPays===14?2:0},M=l*.235,N={grossAnnual:l,socialSecurityCompany:M,totalCost:l+M};s({netSalary:m,socialSecurity:u,irpf:h,totalDeductions:f,netAnnual:b,grossAnnual:l,retentionRate:g,comparison:P,monthlyBreakdown:R,companyCost:N})},i=l=>{let c=5550;t.maritalStatus==="married"&&(c=11100);const u=t.hasChildren*2400,h=t.childrenUnder3*2800,f=t.dependents65to75*1150,m=t.dependentsOver75*2550;let g=0;t.disability==="33-65"&&(g=3e3),t.disability==="65+"&&(g=9e3);const b=c+u+h+f+m+g;let _=Math.max(0,l-b),j=0;return _<=12450?j=_*.19:_<=20200?j=12450*.19+(_-12450)*.24:_<=35200?j=12450*.19+7750*.24+(_-20200)*.3:_<=6e4?j=12450*.19+7750*.24+15200*.3+(_-35200)*.37:j=12450*.19+7750*.24+15200*.3+24800*.37+(_-6e4)*.45,j/t.numberOfPays},a=l=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-block bg-gradient-to-r from-yellow-400 to-orange-500 text-black px-6 py-2 rounded-full text-sm font-bold mb-4 animate-pulse",children:"🚀 LA MEJOR CALCULADORA DE SALARIO NETO 2025 DEL MUNDO"}),o.jsx("h1",{className:"text-6xl font-black text-white mb-4 bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Calculadora de Salario Neto"}),o.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Descubre cuánto recibirás realmente y compárate con el salario medio de tu comunidad y España"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-8 text-center",children:"💼 Configuración"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:"💰 Salario Bruto Anual"}),o.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 rounded-3xl p-8 mb-6 text-center",children:[o.jsx("div",{className:"text-5xl font-black text-white mb-2",children:a(t.grossAnnual)}),o.jsx("div",{className:"text-lg text-white/90",children:"al año"})]}),o.jsx("input",{type:"range",min:"15000",max:"150000",step:"1000",value:t.grossAnnual,onChange:l=>e(c=>({...c,grossAnnual:Number(l.target.value)})),className:"w-full h-6 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${(t.grossAnnual-15e3)/(15e4-15e3)*100}%, rgba(255,255,255,0.2) ${(t.grossAnnual-15e3)/(15e4-15e3)*100}%, rgba(255,255,255,0.2) 100%)`}}),o.jsxs("div",{className:"flex justify-between text-sm mt-2 text-white/70",children:[o.jsx("span",{children:"15.000€"}),o.jsx("span",{children:"150.000€"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:"📅 Número de Pagas"}),o.jsx("div",{className:"bg-white/10 rounded-2xl p-4",children:o.jsx("div",{className:"grid grid-cols-2 sm:flex sm:flex-row sm:space-x-4 gap-3 pb-2",children:[12,14].map(l=>o.jsx("button",{onClick:()=>e(c=>({...c,numberOfPays:l})),className:`flex-shrink-0 p-6 rounded-2xl border-4 transition-all duration-300 ${t.numberOfPays===l?"border-yellow-400 bg-yellow-400/20 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:o.jsxs("div",{className:"text-center min-w-[100px]",children:[o.jsx("div",{className:"text-4xl font-black text-white",children:l}),o.jsx("div",{className:"text-sm text-white/80",children:"pagos"}),l===14&&o.jsx("div",{className:"text-xs text-yellow-300 font-bold mt-1",children:"+2 extra"})]})},l))})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:"🗺️ Comunidad Autónoma"}),o.jsx("div",{className:"bg-white/10 rounded-2xl p-4",children:o.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:flex md:flex-row md:space-x-3 md:gap-2 md:pb-2 md:overflow-x-auto md:scrollbar-hide gap-2",children:[{value:"madrid",label:"Madrid",emoji:"🏛️"},{value:"cataluna",label:"Cataluña",emoji:"🏰"},{value:"andalucia",label:"Andalucía",emoji:"🌞"},{value:"valencia",label:"Valencia",emoji:"🍊"},{value:"galicia",label:"Galicia",emoji:"🌊"},{value:"pais_vasco",label:"País Vasco",emoji:"🏔️"},{value:"canarias",label:"Canarias",emoji:"🏝️"},{value:"baleares",label:"Baleares",emoji:"🏖️"},{value:"castilla_leon",label:"Castilla y León",emoji:"🏰"},{value:"castilla_mancha",label:"Castilla-La Mancha",emoji:"🌾"},{value:"extremadura",label:"Extremadura",emoji:"🌳"},{value:"murcia",label:"Murcia",emoji:"🍋"},{value:"asturias",label:"Asturias",emoji:"⛰️"},{value:"cantabria",label:"Cantabria",emoji:"🌊"},{value:"rioja",label:"La Rioja",emoji:"🍷"},{value:"aragon",label:"Aragón",emoji:"🏔️"},{value:"navarra",label:"Navarra",emoji:"🏔️"},{value:"ceuta",label:"Ceuta",emoji:"🌍"},{value:"melilla",label:"Melilla",emoji:"🌍"},{value:"no_residentes",label:"No Residentes",emoji:"🌐"}].map(l=>o.jsx("button",{onClick:()=>e(c=>({...c,region:l.value})),className:`md:flex-shrink-0 w-full h-20 md:w-20 flex flex-col items-center justify-center rounded-xl border-2 transition-all duration-300 ${t.region===l.value?"border-yellow-400 bg-yellow-400/20 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-2xl mb-1",children:l.emoji}),o.jsx("div",{className:"text-xs font-semibold text-white leading-tight",children:l.label})]})},l.value))})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:"👨‍👩‍👧‍👦 Situación Familiar"}),o.jsx("div",{className:"bg-white/10 rounded-2xl p-4",children:o.jsx("div",{className:"grid grid-cols-3 sm:flex sm:flex-row sm:space-x-4 gap-3 pb-2",children:[{value:"single",label:"Individual",emoji:"👤"},{value:"married",label:"Conjunta",emoji:"👫"},{value:"married_high_income",label:"Separada",emoji:"💼"}].map(l=>o.jsx("button",{onClick:()=>e(c=>({...c,maritalStatus:l.value})),className:`w-full h-20 flex flex-col items-center justify-center rounded-2xl border-4 transition-all duration-300 ${t.maritalStatus===l.value?"border-pink-400 bg-pink-400/20 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"text-3xl mb-1",children:l.emoji}),o.jsx("div",{className:"text-xs font-semibold text-white leading-tight",children:l.label})]})},l.value))})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-bold text-white mb-4",children:"👶 Hijos < 3 años"}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[o.jsx("div",{className:"text-4xl font-black text-pink-400 mb-2",children:t.childrenUnder3}),o.jsx("input",{type:"range",min:"0",max:"5",value:t.childrenUnder3,onChange:l=>e(c=>({...c,childrenUnder3:Number(l.target.value)})),className:"w-full h-3 bg-white/20 rounded-lg appearance-none cursor-pointer"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-bold text-white mb-4",children:"🧒 Hijos < 25 años"}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[o.jsx("div",{className:"text-4xl font-black text-blue-400 mb-2",children:t.hasChildren}),o.jsx("input",{type:"range",min:"0",max:"5",value:t.hasChildren,onChange:l=>e(c=>({...c,hasChildren:Number(l.target.value)})),className:"w-full h-3 bg-white/20 rounded-lg appearance-none cursor-pointer"})]})]})]}),o.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-600 text-white font-black text-2xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"🧮 ¡CALCULAR MI SALARIO!"})]})]}),o.jsxs("div",{className:"space-y-8",children:[n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-3xl p-8 text-white shadow-2xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),o.jsx("h3",{className:"text-3xl font-black mb-4",children:"Tu Salario Neto"}),o.jsx("div",{className:"text-6xl font-black mb-2",children:a(n.netSalary)}),o.jsx("div",{className:"text-sm opacity-90 mb-4",children:"al mes"}),t.numberOfPays===14&&o.jsxs("div",{className:"mx-auto mb-6 inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[o.jsx("span",{className:"text-xs opacity-90",children:"+ 2 pagas extra de"}),o.jsx("span",{className:"text-lg font-black",children:a(n.monthlyBreakdown.extraMonth)})]}),o.jsxs("div",{className:"bg-white/20 rounded-2xl p-6",children:[o.jsx("div",{className:"text-3xl font-black mb-2",children:a(n.netAnnual)}),o.jsxs("div",{className:"text-lg opacity-90",children:["al año (",t.numberOfPays," pagas)"]})]})]})}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"📊 Comparativas"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-lg font-bold text-white",children:"Tu Comunidad"}),o.jsxs("span",{className:"text-sm text-white/70",children:[n.comparison.regionRank>100?"Por encima":"Por debajo"," del promedio"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-black text-white",children:a(n.comparison.yourNet)}),o.jsx("div",{className:"text-sm text-white/70",children:"Tu salario neto"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-4xl font-black text-yellow-400",children:[n.comparison.regionRank>100?"+":"",(n.comparison.regionRank-100).toFixed(0),"%"]}),o.jsx("div",{className:"text-xs text-white/70",children:"vs promedio"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-black text-white/70",children:a(n.comparison.regionAverage)}),o.jsx("div",{className:"text-sm text-white/70",children:"Promedio región"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-2xl p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-lg font-bold text-white",children:"España"}),o.jsxs("span",{className:"text-sm text-white/70",children:[n.comparison.spainRank>100?"Por encima":"Por debajo"," del promedio"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-black text-white",children:a(n.comparison.yourNet)}),o.jsx("div",{className:"text-sm text-white/70",children:"Tu salario neto"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-4xl font-black text-green-400",children:[n.comparison.spainRank>100?"+":"",(n.comparison.spainRank-100).toFixed(0),"%"]}),o.jsx("div",{className:"text-xs text-white/70",children:"vs promedio"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-black text-white/70",children:a(n.comparison.spainAverage)}),o.jsx("div",{className:"text-sm text-white/70",children:"Promedio España"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"📅 Desglose Mensual"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl p-6",children:[o.jsx("h5",{className:"text-lg font-bold text-white mb-4",children:"Mes Normal"}),o.jsx("div",{className:"text-3xl font-black text-white mb-2",children:a(n.monthlyBreakdown.regularMonth)}),o.jsx("div",{className:"text-sm text-white/70",children:"12 meses al año"})]}),t.numberOfPays===14&&o.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-2xl p-6",children:[o.jsx("h5",{className:"text-lg font-bold text-white mb-4",children:"+ 2 Pagas Extra"}),o.jsx("div",{className:"text-3xl font-black text-white mb-2",children:a(n.monthlyBreakdown.extraMonth)}),o.jsx("div",{className:"text-sm text-white/70",children:"importe de cada paga extra"})]})]}),o.jsx("div",{className:"bg-white/5 rounded-2xl p-6",children:o.jsx(Ap,{data:{labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{label:"Salario Neto Mensual (€)",data:[n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,t.numberOfPays===14?n.monthlyBreakdown.regularMonth+n.monthlyBreakdown.extraMonth:n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,t.numberOfPays===14?n.monthlyBreakdown.regularMonth+n.monthlyBreakdown.extraMonth:n.monthlyBreakdown.regularMonth],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)",t.numberOfPays===14?"rgba(255, 193, 7, 0.8)":"rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)",t.numberOfPays===14?"rgba(255, 193, 7, 0.8)":"rgba(59, 130, 246, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)",t.numberOfPays===14?"rgba(255, 193, 7, 1)":"rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)",t.numberOfPays===14?"rgba(255, 193, 7, 1)":"rgba(59, 130, 246, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(l){return"€"+l.toLocaleString()},color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(l){return`€${parseFloat(l.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:200})})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"💼 Coste Real para la Empresa"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[o.jsx("span",{className:"text-white font-semibold",children:"Salario bruto anual:"}),o.jsx("span",{className:"text-xl font-black text-green-400",children:a(n.companyCost.grossAnnual)})]}),o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[o.jsx("span",{className:"text-white font-semibold",children:"Cotizaciones empresa (23.5%):"}),o.jsx("span",{className:"text-xl font-black text-orange-400",children:a(n.companyCost.socialSecurityCompany)})]}),o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-red-500/20 to-pink-500/20 rounded-xl border-2 border-red-400/30",children:[o.jsx("span",{className:"text-white font-bold text-lg",children:"COSTE TOTAL EMPRESA:"}),o.jsx("span",{className:"text-2xl font-black text-red-400",children:a(n.companyCost.totalCost)})]})]}),o.jsx("div",{className:"bg-white/5 rounded-2xl p-4",children:o.jsx(Pj,{data:{labels:["Salario Bruto","Cotizaciones Empresa"],datasets:[{data:[n.companyCost.grossAnnual,n.companyCost.socialSecurityCompany],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(249, 115, 22, 0.8)"],borderColor:["rgba(34, 197, 94, 1)","rgba(249, 115, 22, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(l){return`${l.label}: €${parseFloat(l.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:200})})]})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"🔍 Desglose Técnico"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[o.jsx("span",{className:"text-white font-semibold",children:"IRPF anual:"}),o.jsx("span",{className:"text-2xl font-black text-red-400",children:a(n.irpf*t.numberOfPays)})]}),o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[o.jsx("span",{className:"text-white font-semibold",children:"Seguridad Social anual:"}),o.jsx("span",{className:"text-2xl font-black text-orange-400",children:a(n.socialSecurity*t.numberOfPays)})]}),o.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[o.jsx("span",{className:"text-white font-semibold",children:"Tipo de retención:"}),o.jsxs("span",{className:"text-2xl font-black text-purple-400",children:[n.retentionRate.toFixed(1),"%"]})]})]})]})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"💡 Consejos para Mejorar Financieramente"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-2xl p-4",children:[o.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:"💰 Optimiza tu IRPF"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Planifica tu declaración con anticipación"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Aprovecha las deducciones por vivienda"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Considera planes de pensiones"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl p-4",children:[o.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:"📈 Invierte tu dinero"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Aprovecha el interés compuesto"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Diversifica tus inversiones"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Invierte a largo plazo"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-2xl p-4",children:[o.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:"💼 Mejora tu salario"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Formación continua y especialización"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Negocia tu salario anualmente"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Considera cambiar de empresa"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-2xl p-4",children:[o.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:"🎯 Controla tus gastos"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Haz un presupuesto mensual"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Evita gastos innecesarios"}),o.jsx("p",{className:"text-white/80 text-sm",children:"• Ahorra al menos el 20%"})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 backdrop-blur-lg rounded-3xl p-8 border border-purple-400/30 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"🚀 ¡Sigue Mejorando tu Situación Financiera!"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:"💰"}),o.jsx("h5",{className:"text-xl font-bold text-white mb-3",children:"Calculadora de Millonario"}),o.jsx("p",{className:"text-white/80 mb-4",children:"Descubre cuánto necesitas ahorrar para ser millonario y en cuánto tiempo lo conseguirás."}),o.jsx("button",{onClick:()=>{const l=new CustomEvent("changeMode",{detail:"millonario"});window.dispatchEvent(l)},className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black py-3 rounded-xl hover:scale-105 transform transition-all duration-300",children:"¡CALCULAR CUÁNDO SER MILLONARIO!"})]}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📊"}),o.jsx("h5",{className:"text-xl font-bold text-white mb-3",children:"Control de Gastos"}),o.jsx("p",{className:"text-white/80 mb-4",children:"Gestiona tus finanzas personales, controla tus gastos y alcanza tus objetivos financieros."}),o.jsx("button",{onClick:()=>{const l=new CustomEvent("changeMode",{detail:"gastos"});window.dispatchEvent(l)},className:"w-full bg-gradient-to-r from-green-400 to-blue-500 text-white font-black py-3 rounded-xl hover:scale-105 transform transition-all duration-300",children:"¡CONTROLAR MIS GASTOS!"})]})]})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[o.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:"ℹ️ Información Importante"}),o.jsxs("div",{className:"space-y-3 text-white/80",children:[o.jsx("p",{children:"• Los cálculos son aproximados y pueden variar según tu situación específica."}),o.jsx("p",{children:"• Consulta con un asesor fiscal para optimizar tu declaración."}),o.jsx("p",{children:"• Los tramos de IRPF pueden cambiar cada año."}),o.jsx("p",{children:"• La Seguridad Social se calcula sobre el salario bruto."}),o.jsx("p",{children:"• Las pagas extra se cobran más porque las cotizaciones se prorratean en los meses normales."})]})]})]})]})]})})},LL=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Política de Privacidad"}),o.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-6",children:[o.jsxs("p",{className:"text-lg",children:[o.jsx("strong",{children:"Última actualización:"})," 19 de enero de 2025"]}),o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:o.jsxs("p",{className:"text-blue-800",children:[o.jsx("strong",{children:"Importante:"})," Esta política describe cómo FinanzasFácil recopila, utiliza y protege tu información personal cuando utilizas nuestro sitio web y servicios."]})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"1. Información que recopilamos"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"1.1 Información personal"}),o.jsx("p",{children:"Recopilamos información que nos proporcionas directamente, incluyendo:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Datos de contacto (nombre, dirección de email)"}),o.jsx("li",{children:"Información financiera que introduces en nuestras calculadoras (salarios, gastos, objetivos de ahorro)"}),o.jsx("li",{children:"Comentarios, preguntas y comunicaciones que nos envías"}),o.jsx("li",{children:"Información de registro si creas una cuenta"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"1.2 Información técnica"}),o.jsx("p",{children:"Recopilamos automáticamente cierta información cuando visitas nuestro sitio:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Dirección IP y ubicación geográfica aproximada"}),o.jsx("li",{children:"Tipo de navegador y dispositivo"}),o.jsx("li",{children:"Páginas visitadas y tiempo de permanencia"}),o.jsx("li",{children:"Referencias de sitios web que te dirigieron a nosotros"}),o.jsx("li",{children:"Datos de cookies y tecnologías similares"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"2. Cómo utilizamos tu información"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.1 Propósitos principales"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Proporcionar servicios:"})," Ejecutar nuestras calculadoras financieras y herramientas"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Personalización:"})," Adaptar el contenido y las recomendaciones a tus necesidades"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Comunicación:"})," Responder a tus consultas y enviar actualizaciones del servicio"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Mejora continua:"})," Analizar el uso para mejorar nuestros servicios"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cumplimiento legal:"})," Cumplir con obligaciones legales y regulatorias"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.2 Marketing y publicidad"}),o.jsx("p",{children:"Podemos utilizar tu información para enviarte contenido educativo financiero, ofertas especiales y actualizaciones sobre nuevos servicios. Siempre puedes optar por no recibir estas comunicaciones."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"3. Cookies y tecnologías de seguimiento"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.1 Tipos de cookies"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies esenciales:"})," Necesarias para el funcionamiento básico del sitio"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de rendimiento:"})," Nos ayudan a entender cómo los usuarios interactúan con el sitio"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de funcionalidad:"})," Recuerdan tus preferencias y configuraciones"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de publicidad:"})," Utilizadas para mostrar anuncios relevantes"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.2 Google AdSense"}),o.jsxs("p",{children:["Utilizamos Google AdSense para mostrar anuncios. Google puede utilizar cookies para personalizar anuncios según tus intereses. Puedes gestionar tus preferencias de anuncios en ",o.jsx("a",{href:"https://adssettings.google.com",className:"text-blue-600 hover:underline",children:"Google Ad Settings"}),"."]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"4. Compartir información con terceros"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.1 Proveedores de servicios"}),o.jsx("p",{children:"Compartimos información con proveedores que nos ayudan a operar nuestro negocio:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Google Analytics:"})," Para análisis de tráfico web"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Google AdSense:"})," Para mostrar anuncios relevantes"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Netlify:"})," Para hosting y servicios de infraestructura"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Servicios de email:"})," Para comunicaciones (si te suscribes)"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.2 Requisitos legales"}),o.jsx("p",{children:"Podemos divulgar información si es requerido por ley, orden judicial, o para proteger nuestros derechos, propiedad o seguridad."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"5. Seguridad de la información"}),o.jsx("p",{children:"Implementamos medidas de seguridad técnicas y organizativas para proteger tu información:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Cifrado SSL/TLS para todas las transmisiones de datos"}),o.jsx("li",{children:"Acceso restringido a la información personal"}),o.jsx("li",{children:"Monitoreo regular de sistemas de seguridad"}),o.jsx("li",{children:"Capacitación del personal en privacidad y seguridad"})]}),o.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-6",children:o.jsxs("p",{className:"text-yellow-800",children:[o.jsx("strong",{children:"Nota importante:"})," Aunque implementamos medidas de seguridad robustas, ningún método de transmisión por Internet es 100% seguro. No podemos garantizar la seguridad absoluta de tu información."]})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"6. Retención de datos"}),o.jsx("p",{children:"Conservamos tu información personal durante el tiempo necesario para:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Cumplir con los propósitos para los que fue recopilada"}),o.jsx("li",{children:"Satisfacer requisitos legales y regulatorios"}),o.jsx("li",{children:"Resolver disputas y hacer cumplir acuerdos"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"7. Tus derechos y opciones"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.1 Derechos de privacidad"}),o.jsx("p",{children:"Dependiendo de tu ubicación, puedes tener los siguientes derechos:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Acceso:"})," Solicitar una copia de la información que tenemos sobre ti"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Rectificación:"})," Corregir información inexacta o incompleta"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Eliminación:"})," Solicitar la eliminación de tu información personal"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Limitación:"})," Restringir el procesamiento de tu información"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Portabilidad:"})," Recibir tu información en un formato estructurado"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Oposición:"})," Oponerte al procesamiento de tu información"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.2 Gestión de cookies"}),o.jsx("p",{children:"Puedes controlar las cookies a través de la configuración de tu navegador. Ten en cuenta que deshabilitar ciertas cookies puede afectar la funcionalidad del sitio."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"8. Transferencias internacionales"}),o.jsx("p",{children:"Tu información puede ser transferida y procesada en países fuera de tu país de residencia. Nos aseguramos de que dichas transferencias cumplan con las leyes de protección de datos aplicables."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"9. Menores de edad"}),o.jsx("p",{children:"Nuestros servicios no están dirigidos a menores de 16 años. No recopilamos intencionalmente información personal de menores de 16 años sin el consentimiento verificable de los padres."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"10. Cambios a esta política"}),o.jsx("p",{children:"Podemos actualizar esta Política de Privacidad ocasionalmente. Te notificaremos sobre cambios significativos mediante:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Publicación de la nueva política en esta página"}),o.jsx("li",{children:"Notificación por email (si tienes una cuenta)"}),o.jsx("li",{children:"Aviso prominente en nuestro sitio web"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"11. Contacto"}),o.jsx("p",{children:"Si tienes preguntas, inquietudes o solicitudes relacionadas con esta Política de Privacidad, puedes contactarnos:"}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mt-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Información de contacto"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Email:"})," ",o.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:underline",children:"lipastudios4@gmail.com"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Sitio web:"})," ",o.jsx("a",{href:"https://finanzasmuyfaciles.netlify.app",className:"text-blue-600 hover:underline",children:"https://finanzasmuyfaciles.netlify.app"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Asunto sugerido:"}),' "Consulta sobre Política de Privacidad"']})]})]}),o.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mt-6",children:o.jsxs("p",{className:"text-green-800",children:[o.jsx("strong",{children:"Compromiso de respuesta:"})," Nos comprometemos a responder a todas las consultas relacionadas con privacidad dentro de 72 horas hábiles."]})})]})]})})}),VL=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 py-24 px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Términos de Servicio"}),o.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-6",children:[o.jsxs("p",{className:"text-lg",children:[o.jsx("strong",{children:"Última actualización:"})," 19 de enero de 2025"]}),o.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:o.jsxs("p",{className:"text-green-800",children:[o.jsx("strong",{children:"Bienvenido a FinanzasFácil:"})," Al acceder y utilizar nuestro sitio web, aceptas estar sujeto a estos Términos de Servicio y todas las leyes y regulaciones aplicables."]})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"1. Aceptación de los términos"}),o.jsxs("p",{children:["Al acceder y utilizar ",o.jsx("strong",{children:"FinanzasFácil"})," (finanzasmuyfaciles.netlify.app), aceptas cumplir con estos Términos de Servicio y todas las leyes y regulaciones aplicables. Si no estás de acuerdo con alguno de estos términos, está prohibido el uso de este sitio."]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"2. Descripción del servicio"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.1 Servicios ofrecidos"}),o.jsx("p",{children:"FinanzasFácil proporciona:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Calculadoras financieras:"})," Herramientas para calcular salarios netos, impuestos de autónomos, y proyecciones de ahorro"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Control de gastos:"})," Sistema para registrar y categorizar gastos personales"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Educación financiera:"})," Artículos, guías y recursos educativos sobre finanzas personales"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Herramientas de planificación:"})," Calculadoras de objetivos financieros y planificación de jubilación"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.2 Naturaleza de los servicios"}),o.jsx("p",{children:"Nuestros servicios son herramientas educativas y de cálculo. Los resultados proporcionados son estimaciones basadas en información general y no constituyen asesoramiento financiero, legal o fiscal profesional."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"3. Uso aceptable"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.1 Uso permitido"}),o.jsx("p",{children:"Puedes utilizar nuestros servicios para:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Cálculos financieros personales y educativos"}),o.jsx("li",{children:"Control y seguimiento de gastos personales"}),o.jsx("li",{children:"Educación financiera personal"}),o.jsx("li",{children:"Planificación financiera personal"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.2 Uso prohibido"}),o.jsx("p",{children:"Está prohibido utilizar nuestros servicios para:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Actividades ilegales o fraudulentas"}),o.jsx("li",{children:"Violación de derechos de propiedad intelectual"}),o.jsx("li",{children:"Transmisión de virus, malware o código malicioso"}),o.jsx("li",{children:"Spam, phishing o actividades de acoso"}),o.jsx("li",{children:"Intentos de acceso no autorizado a nuestros sistemas"}),o.jsx("li",{children:"Uso comercial no autorizado de nuestros servicios"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"4. Registro y cuentas de usuario"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.1 Creación de cuenta"}),o.jsx("p",{children:"Al registrarte en nuestro servicio, debes proporcionar información precisa y completa. Eres responsable de mantener la confidencialidad de tu cuenta y contraseña."}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.2 Responsabilidades del usuario"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Mantener la información de tu cuenta actualizada"}),o.jsx("li",{children:"Proteger la confidencialidad de tu contraseña"}),o.jsx("li",{children:"Notificarnos inmediatamente cualquier uso no autorizado"}),o.jsx("li",{children:"Ser responsable de todas las actividades en tu cuenta"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"5. Propiedad intelectual"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"5.1 Derechos de autor"}),o.jsx("p",{children:"Todo el contenido de FinanzasFácil, incluyendo texto, gráficos, logotipos, iconos, imágenes, clips de audio, descargas digitales y compilaciones de datos, es propiedad de FinanzasFácil o sus proveedores de contenido y está protegido por las leyes de derechos de autor."}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"5.2 Uso de marca"}),o.jsx("p",{children:'El nombre "FinanzasFácil" y todos los nombres, logotipos y marcas relacionadas son marcas comerciales de FinanzasFácil. No puedes utilizar estas marcas sin nuestro consentimiento previo por escrito.'}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"6. Limitación de responsabilidad"}),o.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-6",children:o.jsxs("p",{className:"text-yellow-800",children:[o.jsx("strong",{children:"Importante:"}),' Los servicios de FinanzasFácil se proporcionan "tal como están" sin garantías de ningún tipo.']})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"6.1 Descargo de responsabilidad"}),o.jsx("p",{children:"FinanzasFácil no será responsable de:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Pérdidas financieras derivadas del uso de nuestras calculadoras"}),o.jsx("li",{children:"Decisiones tomadas basándose en los resultados de nuestras herramientas"}),o.jsx("li",{children:"Interrupciones del servicio o errores técnicos"}),o.jsx("li",{children:"Pérdida de datos o información del usuario"}),o.jsx("li",{children:"Daños indirectos, incidentales o consecuenciales"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"6.2 Precisión de la información"}),o.jsx("p",{children:"Aunque nos esforzamos por mantener la información actualizada y precisa, no garantizamos la exactitud, completitud o actualidad de toda la información proporcionada. Los usuarios deben verificar la información antes de tomar decisiones financieras importantes."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"7. Publicidad y contenido de terceros"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.1 Google AdSense"}),o.jsx("p",{children:"Nuestro sitio web utiliza Google AdSense para mostrar anuncios. Google puede utilizar cookies para personalizar anuncios según tus intereses. La presencia de anuncios no constituye un respaldo de FinanzasFácil hacia los productos o servicios anunciados."}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.2 Enlaces externos"}),o.jsx("p",{children:"Nuestro sitio puede contener enlaces a sitios web de terceros. No somos responsables del contenido, políticas de privacidad o prácticas de estos sitios externos."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"8. Privacidad y protección de datos"}),o.jsxs("p",{children:["La recopilación y uso de información personal se rige por nuestra",o.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:" Política de Privacidad"}),", que forma parte integral de estos Términos de Servicio."]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"9. Modificaciones del servicio"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"9.1 Cambios en los términos"}),o.jsx("p",{children:"Nos reservamos el derecho de modificar estos Términos de Servicio en cualquier momento. Las modificaciones entrarán en vigor inmediatamente después de su publicación en nuestro sitio web."}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"9.2 Cambios en el servicio"}),o.jsx("p",{children:"Nos reservamos el derecho de modificar, suspender o discontinuar cualquier parte de nuestros servicios con o sin previo aviso."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"10. Terminación"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"10.1 Terminación por el usuario"}),o.jsx("p",{children:"Puedes terminar tu cuenta en cualquier momento eliminando tu perfil o contactándonos directamente."}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"10.2 Terminación por nuestra parte"}),o.jsx("p",{children:"Podemos suspender o terminar tu acceso a nuestros servicios inmediatamente, sin previo aviso, por violación de estos términos o por cualquier otra razón a nuestra discreción."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"11. Ley aplicable y jurisdicción"}),o.jsx("p",{children:"Estos Términos de Servicio se rigen por las leyes de España. Cualquier disputa que surja de estos términos será resuelta en los tribunales competentes de España."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"12. Disposiciones generales"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"12.1 Divisibilidad"}),o.jsx("p",{children:"Si alguna disposición de estos términos es considerada inválida o inaplicable, las disposiciones restantes permanecerán en pleno vigor y efecto."}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"12.2 Renuncia"}),o.jsx("p",{children:"El hecho de que no ejerzamos algún derecho o disposición de estos términos no constituirá una renuncia a tal derecho o disposición."}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"13. Contacto"}),o.jsx("p",{children:"Si tienes preguntas sobre estos Términos de Servicio, puedes contactarnos:"}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mt-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Información de contacto"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Email:"})," ",o.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:underline",children:"lipastudios4@gmail.com"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Sitio web:"})," ",o.jsx("a",{href:"https://finanzasmuyfaciles.netlify.app",className:"text-blue-600 hover:underline",children:"https://finanzasmuyfaciles.netlify.app"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Asunto sugerido:"}),' "Consulta sobre Términos de Servicio"']})]})]}),o.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mt-6",children:o.jsxs("p",{className:"text-blue-800",children:[o.jsx("strong",{children:"Compromiso de respuesta:"})," Nos comprometemos a responder a todas las consultas relacionadas con estos términos dentro de 72 horas hábiles."]})})]})]})})});function FL(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"Sobre FinanzasFácil"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"¿Quiénes somos?"}),o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"FinanzasFácil es una plataforma web especializada en educación financiera y herramientas de cálculo gratuitas para mejorar la gestión personal del dinero. Nuestro equipo está formado por profesionales del sector financiero y desarrolladores especializados en crear herramientas útiles y fáciles de usar."}),o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Creemos que la educación financiera debe ser accesible para todos, independientemente de su nivel de conocimientos o situación económica. Por eso, ofrecemos calculadoras gratuitas, guías prácticas y recursos educativos sin necesidad de registro."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Nuestra misión"}),o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Democratizar el acceso a la información financiera de calidad, proporcionando herramientas precisas y actualizadas que ayuden a las personas a tomar mejores decisiones económicas y alcanzar sus objetivos financieros."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"¿Qué ofrecemos?"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-3",children:"📊 Calculadoras Financieras"}),o.jsxs("ul",{className:"text-blue-800 space-y-2",children:[o.jsx("li",{children:"• Calculadora de salario neto 2025"}),o.jsx("li",{children:"• Calculadora para autónomos"}),o.jsx("li",{children:"• Simulador de libertad financiera"}),o.jsx("li",{children:"• Herramientas de control de gastos"})]})]}),o.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-green-900 mb-3",children:"🎓 Educación Financiera"}),o.jsxs("ul",{className:"text-green-800 space-y-2",children:[o.jsx("li",{children:"• Guías sobre IRPF y Seguridad Social"}),o.jsx("li",{children:"• Consejos para autónomos"}),o.jsx("li",{children:"• Estrategias de ahorro e inversión"}),o.jsx("li",{children:"• Planificación financiera personal"})]})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Nuestros valores"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-3",children:"🔒"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Privacidad"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Tus datos personales están protegidos. No compartimos información sin tu consentimiento."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-3",children:"📱"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Accesibilidad"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Herramientas optimizadas para móvil y fáciles de usar para cualquier persona."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-3",children:"✅"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Precisión"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Cálculos actualizados con la normativa fiscal vigente en España."})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Transparencia y sostenibilidad"}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"FinanzasFácil se mantiene gracias a la publicidad responsable mediante Google AdSense. Esta publicidad nos permite ofrecer todas nuestras herramientas de forma completamente gratuita sin comprometer la experiencia del usuario."}),o.jsxs("ul",{className:"text-gray-700 space-y-2",children:[o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Sin registro obligatorio:"})," Puedes usar las herramientas básicas sin crear cuenta"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Publicidad no intrusiva:"})," Anuncios relevantes que no interfieren con el uso"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Datos seguros:"})," No vendemos ni compartimos tu información personal"]}),o.jsxs("li",{children:["• ",o.jsx("strong",{children:"Herramientas actualizadas:"})," Mantenemos los cálculos al día con la normativa"]})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Contacto y soporte"}),o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[o.jsx("p",{className:"text-gray-700 mb-4",children:"¿Tienes preguntas, sugerencias o has encontrado algún error en nuestros cálculos? Estamos aquí para ayudarte. Nuestro equipo de especialistas en finanzas y desarrolladores está disponible para resolver tus dudas y mejorar continuamente nuestras herramientas."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"📧 Email de soporte"}),o.jsx("p",{className:"text-blue-800",children:"lipastudios4@gmail.com"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"⏰ Tiempo de respuesta"}),o.jsx("p",{className:"text-blue-800",children:"24-48 horas laborables"})]})]}),o.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¿Cómo podemos ayudarte?"}),o.jsxs("ul",{className:"text-gray-700 space-y-1 text-sm",children:[o.jsx("li",{children:"• Dudas sobre cálculos fiscales y salariales"}),o.jsx("li",{children:"• Sugerencias para nuevas funcionalidades"}),o.jsx("li",{children:"• Reporte de errores en las calculadoras"}),o.jsx("li",{children:"• Consultas sobre optimización fiscal"}),o.jsx("li",{children:"• Solicitudes de contenido educativo"})]})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Nuestra historia y compromiso"}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"FinanzasFácil nació en 2024 con la misión de hacer accesible la educación financiera a todos los españoles. Observamos que muchas personas tenían dificultades para entender conceptos básicos como el cálculo del salario neto, la fiscalidad de los autónomos o la planificación del ahorro para la jubilación."}),o.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Decidimos crear herramientas gratuitas y fáciles de usar que democratizaran el acceso a la información financiera. Nuestro equipo combina experiencia en el sector financiero español con las últimas tecnologías web para ofrecer calculadoras precisas y actualizadas con la normativa vigente."}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Hoy, miles de usuarios confían en nuestras herramientas para tomar decisiones financieras informadas. Seguimos comprometidos con nuestro objetivo original: hacer que las finanzas personales sean realmente fáciles para todo el mundo, sin importar su nivel de conocimientos previos."})]})]}),o.jsx("div",{className:"text-center pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"Última actualización: Enero 2025 | FinanzasFácil - Herramientas financieras gratuitas"})})]})]})})}function zL(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"Contacto y Soporte"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"¿Cómo podemos ayudarte?"}),o.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"En FinanzasFácil valoramos tu opinión y estamos aquí para ayudarte. Si tienes preguntas, sugerencias, has encontrado algún error en nuestros cálculos o necesitas soporte técnico, no dudes en contactarnos."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"📧 Contacto General"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-800",children:"Email principal:"}),o.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:text-blue-800 underline break-all",children:"lipastudios4@gmail.com"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-800",children:"Tiempo de respuesta:"}),o.jsx("p",{className:"text-blue-700",children:"24-48 horas laborables"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-800",children:"Horario de atención:"}),o.jsx("p",{className:"text-blue-700",children:"Lunes a Viernes, 9:00-18:00 (CET)"})]})]})]}),o.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-green-900 mb-4",children:"🐛 Reportar Errores"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-green-700",children:"Si has encontrado un error en alguna de nuestras calculadoras, por favor incluye:"}),o.jsxs("ul",{className:"text-green-700 space-y-1 text-sm",children:[o.jsx("li",{children:"• Calculadora utilizada"}),o.jsx("li",{children:"• Valores introducidos"}),o.jsx("li",{children:"• Resultado esperado vs obtenido"}),o.jsx("li",{children:"• Captura de pantalla (opcional)"})]}),o.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"inline-block bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Reportar Error"})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Tipos de consultas"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-purple-50 rounded-xl p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"💡"}),o.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Sugerencias"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"¿Tienes ideas para mejorar nuestras herramientas? Nos encanta escuchar propuestas."})]}),o.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"❓"}),o.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"Dudas Técnicas"}),o.jsx("p",{className:"text-orange-700 text-sm",children:"Preguntas sobre cómo usar las calculadoras o interpretar los resultados."})]}),o.jsxs("div",{className:"bg-red-50 rounded-xl p-6",children:[o.jsx("div",{className:"text-3xl mb-3",children:"🔧"}),o.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Problemas Técnicos"}),o.jsx("p",{className:"text-red-700 text-sm",children:"Errores de funcionamiento, problemas de carga o incompatibilidades."})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Soporte para Empresas"}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[o.jsx("p",{className:"text-gray-700 mb-4",children:"¿Eres una empresa interesada en integrar nuestras calculadoras o necesitas una solución personalizada? Ofrecemos servicios de consultoría y desarrollo de herramientas financieras."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:"Email empresarial:"}),o.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:text-blue-800 underline",children:"lipastudios4@gmail.com"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800",children:"Servicios:"}),o.jsx("p",{className:"text-gray-700 text-sm",children:"Integración API, desarrollo personalizado, consultoría financiera"})]})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Otras formas de contacto"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:"💖 Donaciones"}),o.jsx("p",{className:"text-yellow-800 mb-3",children:"¿Te gustan nuestras herramientas? Ayúdanos a mantener el servicio gratuito."}),o.jsx("p",{className:"text-yellow-700 text-sm",children:'Utiliza el botón "💖 Donar" en la página principal para donar vía PayPal.'})]}),o.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-indigo-900 mb-3",children:"📱 Feedback Directo"}),o.jsx("p",{className:"text-indigo-800 mb-3",children:"¿Prefieres enviar feedback directamente desde la app?"}),o.jsx("p",{className:"text-indigo-700 text-sm",children:"Busca el botón 💬 en el menú de la aplicación."})]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Preguntas frecuentes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¿Cuánto tardan en responder?"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Normalmente respondemos en 24-48 horas laborables. Para errores críticos, priorizamos la respuesta en menos de 24 horas."})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¿Ofrecen soporte en otros idiomas?"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Actualmente ofrecemos soporte en español. Para consultas en inglés, también podemos ayudarte, pero la respuesta puede tardar un poco más."})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"¿Puedo solicitar nuevas calculadoras?"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"¡Por supuesto! Valoramos las sugerencias de nuestros usuarios. Si es técnicamente viable y útil para la comunidad, la consideraremos."})]})]})]}),o.jsx("div",{className:"text-center pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"Gracias por confiar en FinanzasFácil. Tu feedback nos ayuda a mejorar cada día."})})]})]})})}const Hr=[{id:"presupuesto-50-30-20",type:"article",title:"Presupuesto 50/30/20: La Regla de Oro de las Finanzas Personales",excerpt:"Aprende a repartir tus ingresos de forma eficiente: 50% necesidades, 30% deseos, 20% ahorro y pago de deudas.",content:`La regla 50/30/20 es uno de los métodos de presupuestación más populares y efectivos para gestionar tus finanzas personales. Esta estrategia te ayuda a distribuir tus ingresos de manera equilibrada y sostenible.

## ¿Cómo funciona la regla 50/30/20?

**50% para Necesidades Básicas:**
- Vivienda (alquiler o hipoteca)
- Alimentación y supermercado
- Transporte (gasolina, transporte público)
- Servicios básicos (luz, agua, internet)
- Seguros esenciales
- Gastos médicos básicos

**30% para Deseos y Estilo de Vida:**
- Entretenimiento y ocio
- Comidas fuera de casa
- Suscripciones (Netflix, Spotify, etc.)
- Ropa y accesorios
- Viajes y vacaciones
- Hobbies y actividades recreativas

**20% para Ahorro y Pago de Deudas:**
- Fondo de emergencia
- Ahorro para objetivos específicos
- Pago de deudas adicionales
- Inversiones a largo plazo

## Ventajas de este método

1. **Simplicidad**: Es fácil de entender y aplicar
2. **Flexibilidad**: Se adapta a diferentes niveles de ingresos
3. **Equilibrio**: Permite disfrutar del presente mientras preparas el futuro
4. **Motivación**: El 30% para deseos mantiene la motivación

## Cómo implementarlo paso a paso

1. **Calcula tus ingresos netos mensuales**
2. **Identifica y categoriza todos tus gastos**
3. **Ajusta gradualmente hasta alcanzar las proporciones**
4. **Revisa y ajusta mensualmente**

Recuerda: esta regla es un punto de partida. Puedes ajustarla según tu situación personal, objetivos financieros y etapa de vida.`,category:"Presupuesto",tags:["presupuesto","ahorro","finanzas personales"],readTime:8,difficulty:"Principiante",featured:!0,publishDate:"2025-01-15",author:"Equipo FinanzasFácil",rating:4.9},{id:"guia-primer-presupuesto",type:"guide",title:"Tu Primer Presupuesto en 30 Días",excerpt:"Guía completa para crear tu primer presupuesto personal desde cero, paso a paso.",content:`# Tu Primer Presupuesto en 30 Días

## Día 1-7: Análisis de tu situación actual

### Paso 1: Registra todos tus ingresos
- Salario principal
- Ingresos secundarios
- Bonificaciones
- Ingresos por inversiones

### Paso 2: Identifica todos tus gastos
- Gastos fijos (vivienda, seguros, servicios)
- Gastos variables (alimentación, transporte)
- Gastos discrecionales (ocio, entretenimiento)

## Día 8-14: Categorización y análisis

### Clasifica tus gastos en:
1. **Necesidades esenciales** (50%)
2. **Deseos y estilo de vida** (30%)
3. **Ahorro e inversión** (20%)

### Herramientas recomendadas:
- Apps de presupuesto (YNAB, Mint)
- Hojas de cálculo
- Apps bancarias

## Día 15-21: Creación del presupuesto

### Establece límites mensuales para cada categoría
- Usa la regla 50/30/20 como base
- Ajusta según tu situación personal
- Deja margen para imprevistos

## Día 22-30: Implementación y seguimiento

### Automatiza cuando sea posible:
- Transferencias automáticas para ahorro
- Domiciliaciones para gastos fijos
- Alertas de límites de gasto

### Revisa y ajusta semanalmente
- Compara gastos reales vs presupuestados
- Identifica patrones y oportunidades de mejora
- Celebra los logros`,category:"Guías",tags:["presupuesto","principiantes","guía paso a paso"],readTime:15,difficulty:"Principiante",featured:!0,publishDate:"2025-01-10",author:"Equipo FinanzasFácil"},{id:"libros-finanzas-recomendados",type:"product",title:"Los 10 Mejores Libros de Finanzas Personales 2025",excerpt:"Descubre los libros más influyentes para transformar tu relación con el dinero y construir riqueza.",content:`# Los 10 Mejores Libros de Finanzas Personales 2025

## 1. "Padre Rico, Padre Pobre" - Robert Kiyosaki
**Precio:** 15-20€ | **Rating:** 4.5/5
**Por qué leerlo:** Cambia tu mentalidad sobre prospectos de dinero y enseña la diferencia entre activos y pasivos.

## 2. "El Inversor Inteligente" - Benjamin Graham
**Precio:** 25-30€ | **Rating:** 4.7/5
**Por qué leerlo:** La biblia de la inversión en valor, recomendado por Warren Buffett.

## 3. "Piense y Hágase Rico" - Napoleon Hill
**Precio:** 12-18€ | **Rating:** 4.3/5
**Por qué leerlo:** Clásico atemporal sobre psicología del éxito y mentalidad de riqueza.

## 4. "El Millonario de la Puerta de al Lado" - Thomas Stanley
**Precio:** 18-25€ | **Rating:** 4.6/5
**Por qué leerlo:** Revela los hábitos reales de los millonarios de clase media.

## 5. "Dinero: Domina el Juego" - Tony Robbins
**Precio:** 20-28€ | **Rating:** 4.4/5
**Por qué leerlo:** Estrategias prácticas de inversión y planificación financiera.

## 6. "El Hombre Más Rico de Babilonia" - George Clason
**Precio:** 10-15€ | **Rating:** 4.5/5
**Por qué leerlo:** Principios atemporales de ahorro e inversión en formato de fábula.

## 7. "Finanzas Personales para Dummies" - Eric Tyson
**Precio:** 22-30€ | **Rating:** 4.2/5
**Por qué leerlo:** Guía completa y accesible para principiantes.

## 8. "El Pequeño Libro de la Inversión" - John Bogle
**Precio:** 15-20€ | **Rating:** 4.8/5
**Por qué leerlo:** Fundamentos de inversión en fondos indexados.

## 9. "Your Money or Your Life" - Vicki Robin
**Precio:** 18-25€ | **Rating:** 4.6/5
**Por qué leerlo:** Enfoque holístico sobre la relación entre dinero y vida.

## 10. "The Millionaire Fastlane" - MJ DeMarco
**Precio:** 20-28€ | **Rating:** 4.4/5
**Por qué leerlo:** Estrategias para crear riqueza a través del emprendimiento.

## Dónde comprar:
- **Amazon España** - Mejor precio y entrega rápida
- **Casa del Libro** - Librerías físicas y online
- **Fnac** - Gran selección y promociones`,category:"Productos",tags:["libros","educación financiera","recomendaciones"],readTime:12,difficulty:"Principiante",featured:!0,publishDate:"2025-01-12",author:"Equipo FinanzasFácil",rating:4.8,price:"Desde 10€",affiliateLink:"https://amazon.es/libros-finanzas"},{id:"gastos-hormiga",type:"article",title:"Gastos Hormiga: El Enemigo Silencioso de tu Presupuesto",excerpt:"Los pequeños gastos diarios que parecen insignificantes pero pueden devorar tu presupuesto mensual.",content:`Los gastos hormiga son esos pequeños desembolsos que hacemos de forma rutinaria y que, aunque individualmente parecen insignificantes, sumados pueden representar una cantidad considerable al final del mes.

## ¿Qué son los gastos hormiga?

Son gastos pequeños y frecuentes que muchas veces pasan desapercibidos:
- Café diario en la cafetería (3-5€)
- Aperitivos y snacks (2-4€)
- Aplicaciones móviles y suscripciones (1-15€/mes)
- Gastos de transporte no planificados
- Compras impulsivas online
- Propinas excesivas
- Gastos de parking

## El impacto real en tu economía

**Ejemplo práctico:**
- Café diario: 4€ × 22 días laborables = 88€/mes
- Aperitivos: 3€ × 20 días = 60€/mes
- Aplicaciones: 10€/mes
- **Total: 158€/mes = 1.896€/año**

## Cómo detectar tus gastos hormiga

1. **Registra TODO durante una semana**
   - Anota cada gasto, por pequeño que sea
   - Incluye fecha, concepto y cantidad

2. **Categoriza los gastos**
   - Alimentación fuera de casa
   - Entretenimiento
   - Transporte no planificado
   - Compras impulsivas

3. **Analiza patrones**
   - ¿En qué días gastas más?
   - ¿Qué emociones te llevan a gastar?
   - ¿Cuáles son tus "momentos débiles"?

## Estrategias para reducirlos

**Para el café:**
- Lleva tu propio café al trabajo
- Establece un presupuesto semanal para cafés fuera
- Busca ofertas o programas de fidelidad

**Para las suscripciones:**
- Revisa mensualmente qué apps usas realmente
- Cancela las que no uses activamente
- Considera planes familiares para compartir costos

**Para compras impulsivas:**
- Implementa la regla de 24 horas
- Elimina aplicaciones de compras del móvil
- Usa listas de compras estrictas

## Herramientas de control

1. **Apps de gastos**: Registra automáticamente tus transacciones
2. **Presupuesto semanal**: Asigna un límite específico para gastos variables
3. **Efectivo para gastos hormiga**: Retira una cantidad fija semanal
4. **Revisión mensual**: Analiza patrones y ajusta estrategias

Recuerda: el objetivo no es eliminar completamente estos gastos, sino hacerlos conscientes y controlados.`,category:"Ahorro",tags:["gastos","ahorro","presupuesto"],readTime:10,difficulty:"Principiante",featured:!1,publishDate:"2025-01-08",author:"Equipo FinanzasFácil",rating:4.7}];function UL(){const[t,e]=V.useState(null),[n,s]=V.useState({type:"all",category:"all",difficulty:"all",search:""}),r=Hr.filter(a=>{const l=n.type==="all"||a.type===n.type,c=n.category==="all"||a.category===n.category,u=n.difficulty==="all"||a.difficulty===n.difficulty,h=n.search===""||a.title.toLowerCase().includes(n.search.toLowerCase())||a.excerpt.toLowerCase().includes(n.search.toLowerCase())||a.tags.some(f=>f.toLowerCase().includes(n.search.toLowerCase()));return l&&c&&u&&h}),i=[...new Set(Hr.map(a=>a.category))];return t?o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("div",{className:"sticky top-0 z-50 bg-black/80 backdrop-blur-xl border-b border-gray-800",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:o.jsxs("button",{onClick:()=>e(null),className:"flex items-center gap-3 text-gray-300 hover:text-white transition-colors",children:[o.jsx("span",{className:"text-2xl",children:"←"}),o.jsx("span",{children:"Volver al Hub"})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[o.jsxs("div",{className:"flex items-center gap-6 mb-8 text-sm text-gray-400",children:[o.jsx("span",{className:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full border border-blue-500/30",children:t.type==="article"?"📄 Artículo":t.type==="guide"?"📚 Guía":t.type==="product"?"🛍️ Producto":"📝 Blog"}),o.jsxs("span",{children:[t.readTime," min lectura"]}),o.jsx("span",{children:t.difficulty}),t.rating&&o.jsxs("span",{children:["⭐ ",t.rating,"/5"]}),t.price&&o.jsxs("span",{children:["💰 ",t.price]})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:t.title}),o.jsxs("div",{className:"flex items-center gap-4 mb-8 text-gray-400",children:[o.jsxs("span",{children:["Por ",t.author]}),o.jsx("span",{children:"•"}),o.jsx("span",{children:new Date(t.publishDate).toLocaleDateString("es-ES")})]}),o.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:o.jsx("div",{className:"text-gray-300 leading-relaxed whitespace-pre-line",children:t.content})}),t.affiliateLink&&o.jsxs("div",{className:"mt-12 p-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-2xl border border-blue-500/20",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"🛍️ ¿Te interesa este producto?"}),o.jsx("p",{className:"text-gray-300 mb-6",children:"Si decides comprarlo, puedes apoyarnos usando nuestro enlace de afiliado. No pagas más, pero nos ayudas a seguir creando contenido gratuito."}),o.jsxs("a",{href:t.affiliateLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold hover:from-blue-500 hover:to-purple-500 transition-all duration-300 shadow-lg hover:shadow-blue-500/25",children:["Ver en Amazon",o.jsx("span",{children:"→"})]})]}),o.jsxs("div",{className:"mt-16",children:[o.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Contenido relacionado"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Hr.filter(a=>a.id!==t.id&&a.category===t.category).slice(0,2).map(a=>o.jsxs("div",{onClick:()=>e(a),className:"bg-gray-900/50 rounded-2xl p-6 border border-gray-700/50 hover:border-blue-500/50 cursor-pointer transition-all duration-300 hover:scale-105",children:[o.jsx("h4",{className:"text-lg font-bold mb-2",children:a.title}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:a.excerpt}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{children:[a.readTime," min"]}),o.jsxs("span",{children:["⭐ ",a.rating||4.5,"/5"]})]})]},a.id))})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-gray-900 via-black to-black",children:[o.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-6 pt-32 pb-24",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-6xl md:text-7xl font-bold bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent mb-6 leading-tight",children:["Hub de",o.jsx("br",{}),o.jsx("span",{className:"text-blue-400",children:"Contenido"})]}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto mb-12 leading-relaxed",children:"Todo lo que necesitas para dominar tus finanzas: artículos, guías, productos recomendados y más."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:Hr.filter(a=>a.type==="article").length}),o.jsx("div",{className:"text-gray-400",children:"Artículos"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:Hr.filter(a=>a.type==="guide").length}),o.jsx("div",{className:"text-gray-400",children:"Guías"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:Hr.filter(a=>a.type==="product").length}),o.jsx("div",{className:"text-gray-400",children:"Productos"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-yellow-400 mb-2",children:Hr.filter(a=>a.featured).length}),o.jsx("div",{className:"text-gray-400",children:"Destacados"})]})]})]})})]}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsx("div",{className:"bg-gray-900/50 backdrop-blur-xl rounded-2xl border border-gray-700/50 p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Buscar contenido...",value:n.search,onChange:a=>s({...n,search:a.target.value}),className:"w-full bg-gray-800/50 border border-gray-700/50 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500/50"})}),o.jsx("div",{children:o.jsxs("select",{value:n.type,onChange:a=>s({...n,type:a.target.value}),className:"w-full bg-gray-800/50 border border-gray-700/50 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500/50",children:[o.jsx("option",{value:"all",children:"Todos los tipos"}),o.jsx("option",{value:"article",children:"📄 Artículos"}),o.jsx("option",{value:"guide",children:"📚 Guías"}),o.jsx("option",{value:"product",children:"🛍️ Productos"}),o.jsx("option",{value:"blog",children:"📝 Blog"})]})}),o.jsx("div",{children:o.jsxs("select",{value:n.category,onChange:a=>s({...n,category:a.target.value}),className:"w-full bg-gray-800/50 border border-gray-700/50 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500/50",children:[o.jsx("option",{value:"all",children:"Todas las categorías"}),i.map(a=>o.jsx("option",{value:a,children:a},a))]})}),o.jsx("div",{children:o.jsxs("select",{value:n.difficulty,onChange:a=>s({...n,difficulty:a.target.value}),className:"w-full bg-gray-800/50 border border-gray-700/50 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-blue-500/50",children:[o.jsx("option",{value:"all",children:"Todas las dificultades"}),o.jsx("option",{value:"Principiante",children:"Principiante"}),o.jsx("option",{value:"Intermedio",children:"Intermedio"}),o.jsx("option",{value:"Avanzado",children:"Avanzado"})]})})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-24",children:[o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:r.map((a,l)=>o.jsxs("div",{onClick:()=>e(a),className:"group relative bg-gradient-to-br from-gray-900/50 to-gray-800/50 backdrop-blur-xl rounded-3xl border border-gray-700/50 overflow-hidden hover:border-blue-500/50 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-blue-500/10 cursor-pointer",children:[a.featured&&o.jsx("div",{className:"absolute top-4 right-4 z-10",children:o.jsx("span",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-black text-xs font-bold px-3 py-1 rounded-full",children:"⭐ Destacado"})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsxs("div",{className:"relative p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"text-4xl font-bold text-gray-700/30 group-hover:text-blue-500/20 transition-colors duration-300",children:String(l+1).padStart(2,"0")}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full border ${a.type==="article"?"bg-blue-500/10 text-blue-400 border-blue-500/20":a.type==="guide"?"bg-green-500/10 text-green-400 border-green-500/20":a.type==="product"?"bg-purple-500/10 text-purple-400 border-purple-500/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:a.type==="article"?"📄 Artículo":a.type==="guide"?"📚 Guía":a.type==="product"?"🛍️ Producto":"📝 Blog"}),o.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full border ${a.difficulty==="Principiante"?"bg-green-500/10 text-green-400 border-green-500/20":a.difficulty==="Intermedio"?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:a.difficulty})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white group-hover:text-blue-400 transition-colors duration-300 leading-tight",children:a.title}),o.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:a.excerpt}),o.jsx("div",{className:"bg-gray-800/50 rounded-2xl p-6 border border-gray-700/50",children:o.jsxs("div",{className:"text-gray-300 text-sm leading-relaxed line-clamp-4",children:[a.content.split(`
`).slice(0,4).join(`
`),"..."]})}),o.jsxs("div",{className:"flex items-center justify-between pt-4",children:[o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[o.jsxs("span",{children:["📖 ",a.readTime," min"]}),o.jsxs("span",{children:["⭐ ",a.rating||4.5,"/5"]}),a.price&&o.jsxs("span",{children:["💰 ",a.price]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-xl font-semibold group-hover:scale-105 transition-transform duration-300",children:a.type==="article"?"Leer":a.type==="guide"?"Seguir Guía":a.type==="product"?"Ver Producto":"Leer Blog"})]})]})]})]},a.id))}),r.length===0&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-300 mb-4",children:"No se encontraron resultados"}),o.jsx("p",{className:"text-gray-500 mb-8",children:"Prueba ajustando los filtros o usando términos de búsqueda diferentes."}),o.jsx("button",{onClick:()=>s({type:"all",category:"all",difficulty:"all",search:""}),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-2xl font-semibold hover:from-blue-500 hover:to-purple-500 transition-all duration-300",children:"Limpiar filtros"})]})]})]})}function BL(){const t=[{category:"Calculadoras Financieras",questions:[{question:"¿Cómo funciona la calculadora de salario neto?",answer:"Nuestra calculadora de salario neto convierte tu sueldo bruto a neto aplicando todas las deducciones correspondientes: IRPF según tu tramo impositivo, cuotas de Seguridad Social (6.35% para contingencias comunes + 1.55% para desempleo + 0.1% para formación profesional), y otras deducciones como sindicatos o seguros privados. El resultado es el dinero que realmente recibirás en tu cuenta bancaria."},{question:"¿Por qué mi salario neto es menor de lo esperado?",answer:"El salario neto puede ser menor debido a varios factores: 1) IRPF progresivo - a mayor salario, mayor porcentaje de retención, 2) Pagas extra - se prorratean mensualmente, 3) Deducciones adicionales como sindicatos, seguros privados o anticipos, 4) Comunidad autónoma - algunas tienen tipos de IRPF diferentes. Nuestra calculadora incluye todos estos factores para darte el resultado más preciso."},{question:"¿Es exacto el cálculo de la calculadora de autónomos?",answer:"Sí, nuestra calculadora de autónomos utiliza los datos oficiales más actualizados: cuota de Seguridad Social 2025 (294€/mes base, más 294€ por cada tramo adicional), tramos de IRPF vigentes, bonificaciones por comunidades autónomas para autónomos nuevos, y todas las deducciones aplicables. Sin embargo, recomendamos consultar con un gestor para casos específicos complejos."},{question:"¿Cómo calcula la calculadora cuándo seré millonario?",answer:"La calculadora utiliza la fórmula del interés compuesto: Capital Final = Capital Inicial × (1 + tasa)^tiempo. Toma en cuenta tu ahorro mensual, tasa de rentabilidad esperada, capital inicial y ajustes por inflación. Es una estimación basada en promedios históricos del mercado, pero los resultados reales pueden variar según las condiciones del mercado."}]},{category:"Control de Gastos",questions:[{question:"¿Cómo puedo empezar a controlar mis gastos?",answer:"Para empezar a controlar tus gastos: 1) Registra TODOS tus gastos durante una semana completa, 2) Categoriza cada gasto (alimentación, transporte, ocio, etc.), 3) Usa una app como la nuestra o una hoja de cálculo, 4) Establece presupuestos por categoría, 5) Revisa semanalmente y ajusta. La clave es la constancia y ser honesto contigo mismo."},{question:"¿Qué categorías de gastos debo usar?",answer:"Recomendamos estas categorías principales: Necesidades (vivienda, alimentación, transporte, servicios), Deseos (ocio, ropa, entretenimiento), Ahorro e inversión, Deudas. Puedes subcategorizar según tus necesidades: alimentación en casa vs. fuera, transporte público vs. privado, etc. Lo importante es que sea útil para ti y te permita identificar patrones."},{question:"¿Cuánto tiempo necesito para ver patrones en mis gastos?",answer:"Para ver patrones claros necesitas al menos 2-3 meses de datos. Sin embargo, en 2-3 semanas ya puedes identificar gastos problemáticos. Los patrones estacionales (vacaciones, navidades) requieren un año completo de datos. Lo importante es empezar ya y ser consistente en el registro."},{question:"¿Cómo puedo reducir mis gastos sin sacrificar calidad de vida?",answer:"Estrategias efectivas: 1) Regla 24h - espera un día antes de compras no esenciales, 2) Compara precios y usa cupones, 3) Cancela suscripciones que no uses, 4) Cocina más en casa, 5) Usa transporte público o comparte vehículo, 6) Negocia facturas (seguros, internet, móvil), 7) Compra de segunda mano cuando sea posible. El objetivo es optimizar, no privarse."}]},{category:"Ahorro e Inversión",questions:[{question:"¿Cuánto debo ahorrar cada mes?",answer:"La regla general es ahorrar entre el 10-20% de tus ingresos netos. Si eres principiante, empieza con el 10% y ve aumentando gradualmente. Prioriza: 1) Fondo de emergencia (3-6 meses de gastos), 2) Objetivos a corto plazo (vacaciones, coche), 3) Jubilación. Si tienes deudas con intereses altos, págales primero antes de ahorrar."},{question:"¿Dónde debo guardar mi dinero ahorrado?",answer:"Depende del objetivo: Fondo de emergencia - cuenta remunerada con acceso inmediato, Objetivos 1-3 años - depósitos a plazo o cuentas remuneradas, Objetivos 5+ años - fondos indexados o ETFs, Jubilación - planes de pensiones o SIALP. La clave es diversificar según el plazo y la necesidad de liquidez."},{question:"¿Cuándo debo empezar a invertir?",answer:"Puedes empezar a invertir cuando: 1) Tengas un fondo de emergencia de 3-6 meses, 2) No tengas deudas con intereses altos (>5%), 3) Puedas permitirte perder el dinero invertido, 4) Tengas un horizonte de inversión de al menos 5 años. Empieza con pequeñas cantidades para aprender sin riesgo."},{question:"¿Qué es el interés compuesto y por qué es importante?",answer:"El interés compuesto es 'el interés sobre el interés'. Tus ganancias se reinvierten y generan más ganancias. Ejemplo: 1.000€ al 7% anual = 1.070€ el primer año, pero 1.145€ el segundo (7% sobre 1.070€). Es la fuerza más poderosa para crear riqueza a largo plazo. Por eso empezar joven, aunque sea con poco, marca una diferencia enorme."}]},{category:"Gestión de Deudas",questions:[{question:"¿Qué debo pagar primero: ahorro o deudas?",answer:"Prioriza según el tipo de deuda: 1) Deudas con intereses altos (>7%) - págales primero, 2) Fondo de emergencia mínimo (1 mes de gastos) - hazlo simultáneamente, 3) Deudas con intereses bajos (<5%) - puedes ahorrar e invertir mientras pagas. La regla: si el interés de la deuda es mayor que la rentabilidad esperada de inversión, paga la deuda primero."},{question:"¿Cuál es la diferencia entre método bola de nieve y avalancha?",answer:"Método bola de nieve: pagas primero la deuda más pequeña para ganar motivación. Método avalancha: pagas primero la deuda con mayor interés para ahorrar dinero. Bola de nieve es mejor para motivación, avalancha para ahorro. Elige según tu personalidad y disciplina."},{question:"¿Puedo negociar mis deudas con los bancos?",answer:"Sí, es posible negociar: 1) Refinanciación - cambiar condiciones del préstamo, 2) Consolidación - unir varias deudas en una, 3) Quita - reducción del capital adeudado (solo en casos extremos), 4) Pausa de pagos temporal. La clave es contactar al banco ANTES de entrar en impago y mostrar buena fe en el pago."},{question:"¿Cómo afectan las deudas a mi capacidad de ahorro?",answer:"Las deudas reducen tu capacidad de ahorro de dos formas: 1) Dinero que no puedes ahorrar - cada euro de deuda es un euro menos para ahorrar, 2) Coste de oportunidad - el interés que pagas es dinero que no puedes invertir. Pagar deudas es una inversión con rentabilidad garantizada igual al interés que dejas de pagar."}]},{category:"Fiscalidad y Autónomos",questions:[{question:"¿Qué gastos puedo deducir como autónomo?",answer:"Puedes deducir gastos necesarios para tu actividad: material y suministros, servicios profesionales (contabilidad, abogados), alquiler de local, gastos de vehículo (proporcional al uso profesional), formación relacionada, telecomunicaciones (proporcional), seguros de actividad, amortizaciones de equipos. Mantén todas las facturas y separa gastos personales de profesionales."},{question:"¿Cuándo debo hacer los pagos trimestrales del IRPF?",answer:"Los pagos trimestrales se realizan: 1er trimestre (enero-marzo) - hasta 20 de abril, 2º trimestre (abril-junio) - hasta 20 de julio, 3er trimestre (julio-septiembre) - hasta 20 de octubre, 4º trimestre (octubre-diciembre) - hasta 30 de enero. Puedes pagar el 20% de los ingresos o calcular según gastos reales (estimación directa)."},{question:"¿Me conviene ser autónomo o crear una sociedad?",answer:"Depende de varios factores: Autónomo es mejor si: ingresos < 60.000€, trabajo individual, pocos gastos deducibles. Sociedad es mejor si: ingresos > 60.000€, varios socios, muchos gastos deducibles, quieres limitar responsabilidad. Consulta con un asesor fiscal para tu caso específico, ya que la decisión tiene implicaciones a largo plazo."},{question:"¿Qué es la cuota cero para autónomos nuevos?",answer:"La cuota cero es una bonificación que permite a autónomos nuevos (primeros 12 meses) pagar 0€ de cuota de Seguridad Social. Está disponible en todas las comunidades autónomas, aunque con diferencias en duración y condiciones. Algunas comunidades la extienden hasta 24 meses. Es una excelente oportunidad para empezar con menores costes."}]},{category:"Planes y Objetivos",questions:[{question:"¿Cómo establezco objetivos financieros realistas?",answer:"Usa el método SMART: Específico (cuánto exactamente), Medible (puedes hacer seguimiento), Alcanzable (realista con tu situación), Relevante (importante para ti), Tiempo definido (fecha límite). Ejemplo: 'Ahorrar 6.000€ para fondo de emergencia en 18 meses' (333€/mes). Empieza con objetivos pequeños para crear hábitos."},{question:"¿Cuánto dinero necesito para la jubilación?",answer:"La regla general es necesitar entre el 70-80% de tu salario actual para mantener tu nivel de vida. Si gastas 2.000€/mes, necesitarás 1.400-1.600€/mes en jubilación. Multiplica por 12 y luego por 25 (regla del 4% de retiro). Ejemplo: 1.500€ × 12 × 25 = 450.000€. Usa nuestras calculadoras para tu situación específica."},{question:"¿Cómo priorizo mis objetivos financieros?",answer:"Orden de prioridad típico: 1) Fondo de emergencia (3-6 meses de gastos), 2) Eliminar deudas con intereses altos, 3) Ahorro para objetivos a corto plazo (1-3 años), 4) Inversión para jubilación, 5) Otros objetivos (casa, coche, etc.). Ajusta según tu situación personal, pero el fondo de emergencia siempre debe ser prioridad."},{question:"¿Qué hago si no puedo cumplir mis objetivos financieros?",answer:"Es normal ajustar objetivos: 1) Revisa si son realistas - quizás necesitas más tiempo, 2) Busca formas de aumentar ingresos - freelance, venta de objetos, 3) Reduce gastos - revisa presupuesto mensualmente, 4) Divide objetivos grandes en sub-objetivos más pequeños, 5) Celebra progresos parciales. Lo importante es mantener la dirección, no la velocidad exacta."}]}];return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-purple-50 py-24 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Preguntas Frecuentes"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Respuestas a las dudas más comunes sobre finanzas personales, calculadoras y herramientas."})]}),o.jsx("div",{className:"space-y-12",children:t.map((e,n)=>o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:e.category}),o.jsx("div",{className:"space-y-6",children:e.questions.map((s,r)=>o.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-start",children:[o.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:"Q:"}),s.question]}),o.jsx("p",{className:"text-gray-700 leading-relaxed pl-6",children:s.answer})]},r))})]},n))}),o.jsxs("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 text-white text-center",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"¿No encuentras la respuesta que buscas?"}),o.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Nuestro equipo de expertos está aquí para ayudarte con cualquier duda específica."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx("a",{href:"mailto:soporte@finanzasmuyfaciles.netlify.app",className:"bg-white text-blue-600 px-6 py-3 rounded-xl font-semibold hover:bg-gray-100 transition-colors",children:"📧 Enviar Email"}),o.jsx("a",{href:"/contacto",className:"bg-white/20 text-white px-6 py-3 rounded-xl font-semibold hover:bg-white/30 transition-colors",children:"📞 Más Formas de Contacto"})]})]})]})})}function WL(){const t=[{category:"Plantillas Gratuitas",items:[{title:"Plantilla de Presupuesto Mensual",description:"Excel descargable para crear y seguir tu presupuesto personal",type:"Excel",size:"45 KB",downloads:"2,847",features:["Categorías predefinidas","Gráficos automáticos","Comparativas mensuales"]},{title:"Seguimiento de Gastos Diarios",description:"Plantilla para registrar todos tus gastos día a día",type:"PDF",size:"12 KB",downloads:"1,923",features:["Registro por categorías","Resumen semanal","Análisis de patrones"]},{title:"Planificador de Objetivos Financieros",description:"Herramienta para establecer y seguir tus metas de ahorro",type:"Excel",size:"38 KB",downloads:"1,456",features:["Múltiples objetivos","Progreso visual","Recordatorios"]},{title:"Calculadora de Deudas",description:"Plantilla para gestionar y planificar el pago de deudas",type:"Excel",size:"52 KB",downloads:"987",features:["Método bola de nieve","Método avalancha","Comparativas"]}]},{category:"Guías en PDF",items:[{title:"Guía Completa de Finanzas Personales",description:"Manual completo de 50 páginas sobre gestión financiera",type:"PDF",size:"2.3 MB",downloads:"3,421",features:["Conceptos básicos","Estrategias avanzadas","Casos prácticos"]},{title:"Manual para Autónomos 2025",description:"Todo lo que necesitas saber sobre fiscalidad autónoma",type:"PDF",size:"1.8 MB",downloads:"2,156",features:["IRPF actualizado","Gastos deducibles","Calendario fiscal"]},{title:"Guía de Inversión para Principiantes",description:"Introducción completa al mundo de las inversiones",type:"PDF",size:"1.5 MB",downloads:"1,789",features:["Conceptos básicos","Tipos de activos","Estrategias"]},{title:"Planificación de Jubilación",description:"Cómo preparar tu futuro económico desde joven",type:"PDF",size:"1.2 MB",downloads:"1,234",features:["Cálculos necesarios","Productos financieros","Optimización fiscal"]}]},{category:"Calculadoras Avanzadas",items:[{title:"Calculadora de Interés Compuesto",description:"Simula el crecimiento de tus ahorros a largo plazo",type:"Web",size:"Online",downloads:"5,234",features:["Múltiples escenarios","Gráficos interactivos","Comparativas"]},{title:"Simulador de Hipoteca",description:"Calcula cuotas, intereses y amortizaciones",type:"Web",size:"Online",downloads:"4,567",features:["Diferentes tipos de interés","Amortizaciones anticipadas","Comparativas bancos"]},{title:"Calculadora de Coste de Vida",description:"Compara el coste de vida entre ciudades",type:"Web",size:"Online",downloads:"2,345",features:["Más de 100 ciudades","Múltiples categorías","Ajustes por salario"]},{title:"Simulador de Pensiones",description:"Estima tu pensión futura según diferentes escenarios",type:"Web",size:"Online",downloads:"3,123",features:["Escenarios variables","Optimización de aportaciones","Comparativas productos"]}]}],e=[{title:"Padre Rico, Padre Pobre",author:"Robert Kiyosaki",rating:4.2,category:"Educación Financiera",description:"Fundamentos de la mentalidad financiera y la diferencia entre activos y pasivos."},{title:"El Inversor Inteligente",author:"Benjamin Graham",rating:4.5,category:"Inversión",description:"La biblia de la inversión en valor, escrito por el mentor de Warren Buffett."},{title:"Los Secretos de la Mente Millonaria",author:"T. Harv Eker",rating:4.1,category:"Mentalidad",description:"Cómo reprogramar tu mente para el éxito financiero."},{title:"Un Paseo Aleatorio por Wall Street",author:"Burton Malkiel",rating:4.3,category:"Inversión",description:"Introducción a la inversión pasiva y los fondos indexados."},{title:"Dinero: Domina el Juego",author:"Tony Robbins",rating:4,category:"Estrategia Financiera",description:"7 pasos simples para la libertad financiera."},{title:"El Hombre Más Rico de Babilonia",author:"George S. Clason",rating:4.4,category:"Principios Básicos",description:"Lecciones atemporales sobre el ahorro y la inversión."}],n=[{title:"Finanzas Personales desde Cero",provider:"Coursera",duration:"4 semanas",level:"Principiante",price:"Gratis",rating:4.6,description:"Curso completo de la Universidad de Michigan sobre gestión financiera personal."},{title:"Inversión en Bolsa para Principiantes",provider:"Udemy",duration:"8 horas",level:"Principiante",price:"€29.99",rating:4.4,description:"Aprende los fundamentos de la inversión en mercados financieros."},{title:"Fiscalidad para Autónomos",provider:"Domestika",duration:"3 horas",level:"Intermedio",price:"€19.99",rating:4.5,description:"Todo sobre impuestos, deducciones y optimización fiscal para autónomos."},{title:"Planificación de Jubilación",provider:"edX",duration:"6 semanas",level:"Intermedio",price:"Gratis",rating:4.3,description:"Estrategias avanzadas para asegurar tu futuro financiero."}];return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 py-24 px-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recursos y Herramientas"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Plantillas gratuitas, guías descargables, calculadoras avanzadas y recursos educativos para dominar tus finanzas."})]}),o.jsx("div",{className:"space-y-16",children:t.map((s,r)=>o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:s.category}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.items.map((i,a)=>o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:i.title}),o.jsx("p",{className:"text-gray-600 mb-3",children:i.description})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i.type==="Excel"?"bg-green-100 text-green-800":i.type==="PDF"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:i.type})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:["Tamaño: ",i.size]}),o.jsxs("span",{className:"text-sm text-gray-500",children:[i.downloads," descargas"]})]}),o.jsx("div",{className:"space-y-2 mb-4",children:i.features.map((l,c)=>o.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),l]},c))}),o.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:i.type==="Web"?"Usar Calculadora":"Descargar Gratis"})]},a))})]},r))}),o.jsxs("div",{className:"mt-16 bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Libros Recomendados"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((s,r)=>o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[o.jsxs("div",{className:"flex items-start mb-4",children:[o.jsx("div",{className:"w-16 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg mr-4",children:s.title.charAt(0)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:s.title}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.author}),o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("span",{className:"text-yellow-500 mr-1",children:"★"}),o.jsx("span",{className:"text-sm text-gray-600",children:s.rating}),o.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full ml-2",children:s.category})]})]})]}),o.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:s.description}),o.jsx("button",{className:"w-full mt-4 bg-purple-600 text-white py-2 rounded-xl hover:bg-purple-700 transition-colors font-semibold",children:"Ver en Amazon"})]},r))})]}),o.jsxs("div",{className:"mt-16 bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Cursos Online Recomendados"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((s,r)=>o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.title}),o.jsx("p",{className:"text-gray-600 mb-3",children:s.description})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.price==="Gratis"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:s.price})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-sm text-gray-500",children:s.provider}),o.jsx("span",{className:"text-sm text-gray-500",children:s.duration}),o.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:s.level})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-yellow-500 mr-1",children:"★"}),o.jsx("span",{className:"text-sm text-gray-600",children:s.rating})]})]}),o.jsx("button",{className:"w-full bg-orange-600 text-white py-3 rounded-xl hover:bg-orange-700 transition-colors font-semibold",children:"Ver Curso"})]},r))})]}),o.jsxs("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 text-white text-center",children:[o.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Recursos Exclusivos"}),o.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Suscríbete a nuestro newsletter y recibe recursos exclusivos, plantillas nuevas y consejos financieros directamente en tu email."}),o.jsxs("div",{className:"max-w-md mx-auto flex gap-3",children:[o.jsx("input",{type:"email",placeholder:"Tu email",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500"}),o.jsx("button",{className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Suscribirse"})]}),o.jsx("p",{className:"text-sm mt-4 opacity-75",children:"Sin spam. Cancela cuando quieras. Recibe contenido de valor."})]})]})})}const sm=[{value:"madrid",label:"Madrid",hasBonus:!0,bonusMonths:12},{value:"andalucia",label:"Andalucía",hasBonus:!0,bonusMonths:12},{value:"murcia",label:"Murcia",hasBonus:!0,bonusMonths:12},{value:"rioja",label:"La Rioja",hasBonus:!0,bonusMonths:12},{value:"baleares",label:"Baleares",hasBonus:!0,bonusMonths:24,specialCondition:"mujeres <35 años"},{value:"castilla-leon",label:"Castilla y León",hasBonus:!0,bonusMonths:0,hasDirectAid:!0},{value:"cataluna",label:"Cataluña",hasBonus:!1},{value:"pais-vasco",label:"País Vasco",hasBonus:!1},{value:"navarra",label:"Navarra",hasBonus:!1},{value:"valencia",label:"Comunidad Valenciana",hasBonus:!1},{value:"galicia",label:"Galicia",hasBonus:!1},{value:"asturias",label:"Asturias",hasBonus:!1},{value:"cantabria",label:"Cantabria",hasBonus:!1},{value:"aragon",label:"Aragón",hasBonus:!1},{value:"extremadura",label:"Extremadura",hasBonus:!1},{value:"castilla-mancha",label:"Castilla-La Mancha",hasBonus:!1},{value:"ceuta",label:"Ceuta",hasBonus:!1},{value:"melilla",label:"Melilla",hasBonus:!1}],rm={2024:{madrid:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],cataluna:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],"pais-vasco":[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],navarra:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],valencia:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}]},2025:{madrid:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],cataluna:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],"pais-vasco":[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],navarra:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],valencia:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}]}};function qL({onBack:t}){const[e,n]=V.useState(1),[s,r]=V.useState({community:"",calculationType:"neto",grossIncome:0,desiredNetIncome:0,deductibleExpenses:0,fiscalYear:"2024",isNewAutonomo:!1,hasOfficeExpenses:!1,officeExpenses:0,hasVehicleExpenses:!1,vehicleExpenses:0,hasTrainingExpenses:!1,trainingExpenses:0,hasOtherExpenses:!1,otherExpenses:0}),i=(E,P,R)=>{const M=rm[R][P]||rm[R].madrid||rm[R].madrid;let N=0,w=E;for(const I of M){if(w<=0)break;const C=Math.min(w,I.max-I.min);N+=C*I.rate,w-=C}return N},a=V.useMemo(()=>{if(!s.community)return null;const E=sm.find(k=>k.value===s.community);if(!E)return null;let P=s.grossIncome*12,R=s.desiredNetIncome||0;if(s.calculationType==="facturar"&&R>0){const k=R*12;let J=k*1.4;for(let X=0;X<10;X++){const ne=(s.hasOfficeExpenses?s.officeExpenses*12:0)+(s.hasVehicleExpenses?s.vehicleExpenses*12:0)+(s.hasTrainingExpenses?s.trainingExpenses*12:0)+(s.hasOtherExpenses?s.otherExpenses*12:0)+s.deductibleExpenses,ae=J-ne,U=i(ae,s.community,s.fiscalYear);let H=294*12;s.isNewAutonomo&&E.hasBonus&&(H=0);const Z=ae-U-H;if(Math.abs(Z-k)<100)break;J=J+(k-Z)*1.2}P=J}else if(P<=0)return null;const M=(s.hasOfficeExpenses?s.officeExpenses*12:0)+(s.hasVehicleExpenses?s.vehicleExpenses*12:0)+(s.hasTrainingExpenses?s.trainingExpenses*12:0)+(s.hasOtherExpenses?s.otherExpenses*12:0)+s.deductibleExpenses,N=P-M,w=i(N,s.community,s.fiscalYear);let I=294*12;s.isNewAutonomo&&E.hasBonus&&(E.specialCondition==="mujeres <35 años"&&E.value,I=0);const C=N-w-I,T=w+I,A=T/P*100;return{baseImponible:N,irpf:w,cuotaSS:I,netIncome:C,totalTaxes:T,taxPercentage:A,grossIncome:P,grossIncomeMonthly:P/12,community:E.label}},[s]),l=()=>{e<9&&n(e+1)},c=()=>{e>1&&n(e-1)},u=()=>{n(1),r({community:"",calculationType:"neto",grossIncome:0,desiredNetIncome:0,deductibleExpenses:0,fiscalYear:"2024",isNewAutonomo:!1,hasOfficeExpenses:!1,officeExpenses:0,hasVehicleExpenses:!1,vehicleExpenses:0,hasTrainingExpenses:!1,trainingExpenses:0,hasOtherExpenses:!1,otherExpenses:0})},h=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"¿Qué quieres calcular?"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx("button",{onClick:()=>r({...s,calculationType:"neto"}),className:`p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${s.calculationType==="neto"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 shadow-lg scale-105":"border-gray-200 hover:border-blue-300 bg-white hover:bg-blue-50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 ${s.calculationType==="neto"?"bg-blue-500 text-white shadow-lg":"bg-blue-100 text-blue-600"}`,children:o.jsx(PT,{className:"w-8 h-8"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"¿Cuánto me queda neto?"}),o.jsx("p",{className:"text-gray-600",children:"Si facturo X euros, ¿cuánto me queda después de impuestos?"})]})]})}),o.jsx("button",{onClick:()=>r({...s,calculationType:"facturar"}),className:`p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${s.calculationType==="facturar"?"border-green-500 bg-gradient-to-br from-green-50 to-green-100 shadow-lg scale-105":"border-gray-200 hover:border-green-300 bg-white hover:bg-green-50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 ${s.calculationType==="facturar"?"bg-green-500 text-white shadow-lg":"bg-green-100 text-green-600"}`,children:o.jsx(BT,{className:"w-8 h-8"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"¿Cuánto tengo que facturar?"}),o.jsx("p",{className:"text-gray-600",children:"Para ganar X euros netos, ¿cuánto debo facturar?"})]})]})})]})]}),f=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"¿Dónde vives?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Esto es importante porque los impuestos cambian según tu comunidad"}),o.jsxs("select",{value:s.community,onChange:E=>r({...s,community:E.target.value}),className:"w-full p-4 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",children:[o.jsx("option",{value:"",children:"Selecciona tu comunidad"}),sm.map(E=>o.jsxs("option",{value:E.value,children:[E.label,E.hasBonus&&" (con bonificaciones)"]},E.value))]})]}),m=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s.calculationType==="facturar"?"¿Cuánto quieres ganar neto al mes?":"¿Cuánto facturas al mes?"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"number",value:s.calculationType==="facturar"?s.desiredNetIncome:s.grossIncome,onChange:E=>r({...s,[s.calculationType==="facturar"?"desiredNetIncome":"grossIncome"]:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:s.calculationType==="facturar"?"10000":"5000"})]})}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"newAutonomo",checked:s.isNewAutonomo,onChange:E=>r({...s,isNewAutonomo:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"newAutonomo",className:"text-sm text-gray-700",children:"Soy autónomo nuevo (primeros 2 años)"})]})]})]}),g=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"¿Tienes gastos de oficina?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Alquiler, luz, internet, teléfono, material de oficina..."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"hasOfficeExpenses",checked:s.hasOfficeExpenses,onChange:E=>r({...s,hasOfficeExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"hasOfficeExpenses",className:"text-sm font-medium text-gray-700",children:"Sí, tengo gastos de oficina"})]}),s.hasOfficeExpenses&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"¿Cuánto gastas al mes en oficina?"}),o.jsxs("div",{className:"relative",children:[o.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"number",value:s.officeExpenses,onChange:E=>r({...s,officeExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"250"})]})]})]})]}),b=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"¿Usas vehículo para trabajar?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Gasolina, mantenimiento, seguro, parking..."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"hasVehicleExpenses",checked:s.hasVehicleExpenses,onChange:E=>r({...s,hasVehicleExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"hasVehicleExpenses",className:"text-sm font-medium text-gray-700",children:"Sí, uso vehículo para trabajar"})]}),s.hasVehicleExpenses&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"¿Cuánto gastas al mes en vehículo?"}),o.jsxs("div",{className:"relative",children:[o.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"number",value:s.vehicleExpenses,onChange:E=>r({...s,vehicleExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"170"})]})]})]})]}),_=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"¿Inviertes en formación?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Cursos, libros, conferencias, certificaciones..."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"hasTrainingExpenses",checked:s.hasTrainingExpenses,onChange:E=>r({...s,hasTrainingExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"hasTrainingExpenses",className:"text-sm font-medium text-gray-700",children:"Sí, invierto en formación"})]}),s.hasTrainingExpenses&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"¿Cuánto gastas al mes en formación?"}),o.jsxs("div",{className:"relative",children:[o.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"number",value:s.trainingExpenses,onChange:E=>r({...s,trainingExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"80"})]})]})]})]}),j=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"¿Tienes otros gastos deducibles?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Seguros, gestoría, asesoría, material, software..."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"hasOtherExpenses",checked:s.hasOtherExpenses,onChange:E=>r({...s,hasOtherExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"hasOtherExpenses",className:"text-sm font-medium text-gray-700",children:"Sí, tengo otros gastos deducibles"})]}),s.hasOtherExpenses&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"¿Cuánto gastas al mes en otros gastos?"}),o.jsxs("div",{className:"relative",children:[o.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"number",value:s.otherExpenses,onChange:E=>r({...s,otherExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"40"})]})]})]})]}),y=()=>{var E,P,R;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Resumen de datos"}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Tipo de cálculo:"}),o.jsxs("span",{className:"font-semibold",children:[s.calculationType==="neto"&&"¿Cuánto me queda neto?",s.calculationType==="facturar"&&"¿Cuánto tengo que facturar?"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Comunidad:"}),o.jsx("span",{className:"font-semibold",children:(E=sm.find(M=>M.value===s.community))==null?void 0:E.label})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Ingresos brutos:"}),o.jsx("span",{className:"font-semibold",children:s.calculationType==="facturar"?`${((P=a==null?void 0:a.grossIncomeMonthly)==null?void 0:P.toFixed(0).toLocaleString())||"0"}€/mes (${((R=a==null?void 0:a.grossIncome)==null?void 0:R.toLocaleString())||"0"}€/año)`:`${s.grossIncome.toLocaleString()}€/mes (${(s.grossIncome*12).toLocaleString()}€/año)`})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Gastos deducibles:"}),o.jsx("span",{className:"font-semibold",children:(()=>{const M=(s.hasOfficeExpenses?s.officeExpenses:0)+(s.hasVehicleExpenses?s.vehicleExpenses:0)+(s.hasTrainingExpenses?s.trainingExpenses:0)+(s.hasOtherExpenses?s.otherExpenses:0),N=M*12+s.deductibleExpenses;return`${M.toLocaleString()}€/mes (${N.toLocaleString()}€/año)`})()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Año fiscal:"}),o.jsx("span",{className:"font-semibold",children:s.fiscalYear})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Autónomo nuevo:"}),o.jsx("span",{className:"font-semibold",children:s.isNewAutonomo?"Sí":"No"})]})]})]})},v=()=>{var E,P,R;return a?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Resultados"}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-8 shadow-2xl border border-white/50 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-200 rounded-full -translate-y-16 translate-x-16 opacity-20"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-purple-200 rounded-full translate-y-12 -translate-x-12 opacity-20"}),o.jsxs("div",{className:"text-center mb-8 relative z-10",children:[o.jsx("div",{className:"text-6xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-3 animate-pulse",children:s.calculationType==="facturar"?`${Math.round(a.grossIncomeMonthly||0).toLocaleString()}€`:`${Math.round(a.netIncome/12).toLocaleString()}€`}),o.jsx("p",{className:"text-xl text-gray-700 font-semibold",children:s.calculationType==="facturar"?"Debes facturar al mes":"Ingresos netos mensuales"}),o.jsx("p",{className:"text-lg text-gray-500 mt-2",children:s.calculationType==="facturar"?`${((E=a.grossIncome)==null?void 0:E.toLocaleString())||"0"}€ al año`:`${a.netIncome.toLocaleString()}€ al año`})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-red-200",children:[o.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:[Math.round(a.irpf/12).toLocaleString(),"€"]}),o.jsx("p",{className:"text-sm font-semibold text-red-700 mb-1",children:"IRPF/mes"}),o.jsxs("p",{className:"text-xs text-red-600",children:[a.irpf.toLocaleString(),"€/año"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-orange-200",children:[o.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[Math.round(a.cuotaSS/12).toLocaleString(),"€"]}),o.jsx("p",{className:"text-sm font-semibold text-orange-700 mb-1",children:"SS/mes"}),o.jsxs("p",{className:"text-xs text-orange-600",children:[a.cuotaSS.toLocaleString(),"€/año"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-purple-200",children:[o.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[Math.round(a.taxPercentage),"%"]}),o.jsx("p",{className:"text-sm font-semibold text-purple-700",children:"% Impuestos"})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-lg flex items-center gap-2",children:"💡 ¿Qué significa esto?"}),s.calculationType==="facturar"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-700 text-base leading-relaxed",children:["Para ganar ",o.jsxs("span",{className:"font-bold text-2xl text-green-600 bg-green-100 px-2 py-1 rounded-lg",children:[(P=s.desiredNetIncome)==null?void 0:P.toLocaleString(),"€"]})," netos al mes, necesitas facturar"," ",o.jsxs("span",{className:"font-bold text-2xl text-blue-600 bg-blue-100 px-2 py-1 rounded-lg",children:[Math.round(a.grossIncomeMonthly||0).toLocaleString(),"€"]})," al mes."]}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["Esto significa que por cada 100€ que facturas, te quedan aproximadamente"," ",o.jsxs("span",{className:"font-bold text-lg text-purple-600",children:[(()=>{const M=a.grossIncomeMonthly||0;return M===0?"0":Math.round(a.netIncome/12/M*100)})(),"€"]})," netos."]})]}):o.jsxs("p",{className:"text-gray-700 text-base leading-relaxed",children:["Por cada ",o.jsx("span",{className:"font-bold text-gray-900",children:"100€"})," que facturas al mes, te quedan aproximadamente"," ",o.jsxs("span",{className:"font-bold text-2xl text-blue-600 bg-blue-100 px-2 py-1 rounded-lg",children:[(()=>s.grossIncome===0?"0":Math.round(a.netIncome/12/s.grossIncome*100))(),"€"]})," ","después de impuestos."]}),s.isNewAutonomo&&a.cuotaSS===0&&o.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl border border-green-200",children:o.jsx("p",{className:"text-green-700 font-semibold flex items-center gap-2",children:"🎉 ¡Como eres autónomo nuevo, no pagas Seguridad Social este año!"})}),o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:"💡 Consejos para autónomos"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[o.jsx("li",{children:"• Reserva el 20-25% de tus ingresos para impuestos"}),o.jsx("li",{children:"• Lleva un control mensual de tus gastos deducibles"}),o.jsx("li",{children:"• Considera contratar un gestor para optimizar tu fiscalidad"}),o.jsx("li",{children:"• Planifica tus pagos trimestrales de IRPF"})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:"📅 Calendario fiscal 2024"}),o.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Enero:"})," Pago IRPF 4º trimestre 2023"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Abril:"})," Pago IRPF 1º trimestre 2024"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Julio:"})," Pago IRPF 2º trimestre 2024"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Octubre:"})," Pago IRPF 3º trimestre 2024"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Enero 2025:"})," Pago IRPF 4º trimestre 2024"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-4 border border-yellow-200",children:[o.jsx("h4",{className:"font-bold text-yellow-900 mb-2 flex items-center gap-2",children:"🧾 Gastos deducibles más comunes"}),o.jsxs("div",{className:"text-sm text-yellow-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Oficina:"})," Alquiler, luz, internet, teléfono"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Vehículo:"})," Gasolina, mantenimiento, seguro"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Formación:"})," Cursos, libros, conferencias"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Material:"})," Ordenador, software, herramientas"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Otros:"})," Seguros, gestoría, asesoría"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:"📊 Desglose de impuestos"}),o.jsxs("div",{className:"text-sm text-purple-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"IRPF:"})," ",Math.round(a.irpf/12).toLocaleString(),"€/mes (",Math.round(a.taxPercentage*.7),"% de tus ingresos)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Seguridad Social:"})," ",Math.round(a.cuotaSS/12).toLocaleString(),"€/mes (",Math.round(a.taxPercentage*.3),"% de tus ingresos)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total impuestos:"})," ",Math.round((a.irpf+a.cuotaSS)/12).toLocaleString(),"€/mes (",Math.round(a.taxPercentage),"%)"]})]})]}),s.calculationType==="facturar"&&o.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-4 border border-orange-200",children:[o.jsx("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:"🎯 Objetivo de facturación"}),o.jsxs("div",{className:"text-sm text-orange-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Facturación mensual necesaria:"})," ",Math.round(a.grossIncomeMonthly||0).toLocaleString(),"€"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Facturación anual necesaria:"})," ",(R=a.grossIncome)==null?void 0:R.toLocaleString(),"€"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Eficiencia fiscal:"})," Por cada 100€ facturados, te quedan ",(()=>{const M=a.grossIncomeMonthly||0;return M===0?"0":Math.round(a.netIncome/12/M*100)})(),"€ netos"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-4 border border-indigo-200",children:[o.jsx("h4",{className:"font-bold text-indigo-900 mb-2 flex items-center gap-2",children:"💰 Pagos trimestrales de IRPF"}),o.jsxs("div",{className:"text-sm text-indigo-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Pago trimestral estimado:"})," ",Math.round(a.irpf/12*3).toLocaleString(),"€"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Pago anual total:"})," ",a.irpf.toLocaleString(),"€"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Próximo pago:"})," ",(()=>{const N=new Date().getMonth();return N<3?"Abril 2024":N<6?"Julio 2024":N<9?"Octubre 2024":"Enero 2025"})()]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-200",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-2 flex items-center gap-2",children:"⚖️ Comparación con otros regímenes"}),o.jsxs("div",{className:"text-sm text-pink-800 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Autónomo:"})," ",Math.round(a.taxPercentage),"% de impuestos"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Asalariado:"})," ~",Math.round(a.taxPercentage*.8),"% de impuestos"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Ventaja autónomo:"})," Más gastos deducibles"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Ventaja asalariado:"})," Menos gestión administrativa"]})]})]})]})]})]})]}):null};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-8 px-4 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"2s"}}),o.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"4s"}})]}),o.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-white to-gray-50 backdrop-blur-sm rounded-2xl border border-gray-200 text-gray-700 hover:from-gray-50 hover:to-white transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[o.jsx(Sg,{className:"w-5 h-5"}),"Volver"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Calculadora de Autónomos"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Calcula tus impuestos de forma inteligente"})]}),o.jsx("div",{className:"w-20"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700 bg-white/50 px-3 py-1 rounded-full backdrop-blur-sm",children:["Paso ",e," de 9"]}),o.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-3 py-1 rounded-full",children:[Math.round(e/9*100),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 h-3 rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:`${e/9*100}%`}})})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[e===1&&h(),e===2&&f(),e===3&&m(),e===4&&g(),e===5&&b(),e===6&&_(),e===7&&j(),e===8&&y(),e===9&&v(),o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsx("button",{onClick:c,disabled:e===1,className:`px-8 py-4 rounded-2xl font-semibold transition-all duration-300 transform ${e===1?"bg-gray-100 text-gray-400 cursor-not-allowed scale-95":"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 hover:from-gray-300 hover:to-gray-400 hover:scale-105 hover:shadow-lg"}`,children:"← Anterior"}),e<9?o.jsx("button",{onClick:l,disabled:e===1&&!s.calculationType||e===2&&!s.community||e===3&&(s.calculationType==="facturar"?s.desiredNetIncome||0:s.grossIncome)<=0||e===4&&s.hasOfficeExpenses&&s.officeExpenses<0||e===5&&s.hasVehicleExpenses&&s.vehicleExpenses<0||e===6&&s.hasTrainingExpenses&&s.trainingExpenses<0||e===7&&s.hasOtherExpenses&&s.otherExpenses<0,className:`px-8 py-4 rounded-2xl font-semibold transition-all duration-300 transform ${e===1&&!s.calculationType||e===2&&!s.community||e===3&&(s.calculationType==="facturar"?s.desiredNetIncome||0:s.grossIncome)<=0||e===4&&s.hasOfficeExpenses&&s.officeExpenses<0||e===5&&s.hasVehicleExpenses&&s.vehicleExpenses<0||e===6&&s.hasTrainingExpenses&&s.trainingExpenses<0||e===7&&s.hasOtherExpenses&&s.otherExpenses<0?"bg-gray-100 text-gray-400 cursor-not-allowed scale-95":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 hover:scale-105 hover:shadow-xl"}`,children:"Siguiente →"}):o.jsx("button",{onClick:u,className:"px-8 py-4 rounded-2xl font-semibold bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 hover:shadow-xl",children:"🎯 Nueva Cálculo"})]})]})]})]})}function HL(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-block bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-bold mb-6",children:"🔥 PRODUCTO DIGITAL MÁS VENDIDO"}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["20 Gastos Deducibles para",o.jsx("br",{}),"Autónomos 2025"]}),o.jsxs("p",{className:"text-xl md:text-2xl text-gray-700 mb-8",children:["Ahorra entre ",o.jsx("span",{className:"font-bold text-green-600",children:"2.000€ y 5.000€"})," al año",o.jsx("br",{}),"(100% Legal y Actualizado)"]}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-yellow-600 mb-8",children:[o.jsx("span",{className:"text-3xl",children:"⭐⭐⭐⭐⭐"}),o.jsx("span",{className:"text-gray-700 font-semibold",children:"4.9/5 - Más de 500 autónomos satisfechos"})]})]}),o.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 mb-12",children:o.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl flex items-center justify-center text-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-8xl mb-4",children:"📚"}),o.jsx("p",{className:"text-2xl font-bold",children:"PDF Premium - 25 Páginas"}),o.jsx("p",{className:"text-lg opacity-90 mt-2",children:"Diseño profesional + Ejemplos reales"})]})})}),o.jsxs("div",{className:"bg-red-50 border-4 border-red-200 rounded-3xl p-8 mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-red-900 mb-6 text-center",children:"❌ El 87% de los autónomos NO deducen todo lo que pueden"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-5xl font-bold text-red-600 mb-2",children:"2.400€"}),o.jsx("p",{className:"text-gray-700",children:"Promedio perdido por no deducir gastos de casa"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-5xl font-bold text-red-600 mb-2",children:"840€"}),o.jsx("p",{className:"text-gray-700",children:"Promedio perdido por no deducir el vehículo"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-5xl font-bold text-red-600 mb-2",children:"3.500€"}),o.jsx("p",{className:"text-gray-700",children:"Promedio perdido por no optimizar IRPF"})]})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-2xl font-bold text-red-900",children:"TOTAL: Entre 5.000€ y 8.000€ tirados a la basura cada año"})})]}),o.jsxs("div",{className:"bg-green-50 border-4 border-green-200 rounded-3xl p-8 mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-green-900 mb-6 text-center",children:"✅ Esta guía te enseña EXACTAMENTE qué deducir"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"📋 20 Gastos Deducibles"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:"Oficina en casa (luz, agua, internet)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:"Vehículo profesional (gasolina, seguro)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:"Equipos informáticos y software"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:"Formación y cursos profesionales"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:"Seguros (salud, responsabilidad civil)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:"Y 15 gastos más que desconoces..."})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"🎯 Para cada gasto incluye:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Qué puedes deducir"})," exactamente"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Cuánto puedes deducir"})," (% y límites)"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Ahorro fiscal real"})," (IRPF + IVA)"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Requisitos legales"})," para justificar"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Ejemplo práctico"})," con números reales"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Consejos PRO"})," para maximizar"]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"📖 Qué incluye el PDF (25 páginas)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-xl",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"1️⃣"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Gastos de Oficina en Casa"}),o.jsx("p",{className:"text-gray-700",children:"Luz, agua, internet, alquiler... Ahorro: ~1.200€/año"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-xl",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"2️⃣"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Vehículo Profesional"}),o.jsx("p",{className:"text-gray-700",children:"Gasolina, seguro, reparaciones... Ahorro: ~840€/año"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-xl",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"3️⃣"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Equipos Informáticos"}),o.jsx("p",{className:"text-gray-700",children:"Ordenadores, móviles, software... Ahorro: ~230€/año"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-xl",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"4️⃣"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Mobiliario de Oficina"}),o.jsx("p",{className:"text-gray-700",children:"Silla ergonómica, mesa, estanterías... Ahorro: ~120€/año"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-xl",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"5️⃣"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Formación y Cursos"}),o.jsx("p",{className:"text-gray-700",children:"Cursos online, libros, certificaciones... Ahorro: ~269€/año"})]})]}),o.jsxs("div",{className:"text-center py-6",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"+ 15 GASTOS MÁS"}),o.jsx("p",{className:"text-gray-600",children:"(Seguros, marketing, viajes, dietas, software, etc.)"})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-green-100 rounded-xl border-2 border-green-300",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"🎁"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"BONUS: Checklist Anual"}),o.jsx("p",{className:"text-gray-700",children:"Marca todos los gastos que estás deduciendo (objetivo: 15 de 20)"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-green-100 rounded-xl border-2 border-green-300",children:[o.jsx("div",{className:"text-3xl flex-shrink-0",children:"🎁"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"BONUS: Calculadora de Ahorro"}),o.jsx("p",{className:"text-gray-700",children:"Calcula exactamente cuánto vas a ahorrar con tus gastos"})]})]})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"⭐ Lo que dicen otros autónomos"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[o.jsx("div",{className:"text-yellow-500 mb-3",children:"⭐⭐⭐⭐⭐"}),o.jsx("p",{className:"text-gray-700 mb-4",children:'"No sabía que podía deducir tantas cosas. Solo aplicando 5 gastos ya recuperé el precio del PDF 10 veces."'}),o.jsx("p",{className:"font-bold text-gray-900",children:"- Laura M., Diseñadora"})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[o.jsx("div",{className:"text-yellow-500 mb-3",children:"⭐⭐⭐⭐⭐"}),o.jsx("p",{className:"text-gray-700 mb-4",children:'"Clarísimo y con ejemplos reales. Mi gestor se sorprendió cuando le llevé todos los gastos organizados."'}),o.jsx("p",{className:"font-bold text-gray-900",children:"- Javier R., Consultor IT"})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[o.jsx("div",{className:"text-yellow-500 mb-3",children:"⭐⭐⭐⭐⭐"}),o.jsx("p",{className:"text-gray-700 mb-4",children:'"Ahorré 2.800€ en mi primera declaración aplicando esta guía. Mejor inversión que he hecho."'}),o.jsx("p",{className:"font-bold text-gray-900",children:"- Ana P., Fotógrafa"})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl p-8 md:p-12 text-white shadow-2xl mb-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-block bg-yellow-400 text-yellow-900 px-4 py-2 rounded-full text-sm font-bold mb-4",children:"🔥 OFERTA DE LANZAMIENTO"}),o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Precio Especial de Lanzamiento"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("span",{className:"text-2xl line-through opacity-70",children:"47€"}),o.jsx("div",{className:"text-7xl font-bold my-4",children:"19€"}),o.jsx("p",{className:"text-xl opacity-90",children:"Pago único - Acceso inmediato"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-6 mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"¿Es esta una buena inversión?"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-left",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:"19€"}),o.jsx("p",{className:"text-sm opacity-90",children:"Inversión única"})]}),o.jsx("div",{className:"text-4xl flex items-center justify-center",children:"→"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-green-300",children:"2.000-5.000€"}),o.jsx("p",{className:"text-sm opacity-90",children:"Ahorro cada año"})]})]}),o.jsxs("div",{className:"mt-6 text-center",children:[o.jsx("p",{className:"text-2xl font-bold",children:"ROI: 10.526% - 26.316%"}),o.jsx("p",{className:"opacity-90",children:"El PDF se paga solo más de 100 veces"})]})]}),o.jsx("a",{href:"https://lipastudios.gumroad.com/l/jkowwe",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🎁 COMPRAR AHORA POR 19€"}),o.jsx("p",{className:"mt-6 text-sm opacity-90",children:"⚡ Descarga inmediata después del pago"}),o.jsx("p",{className:"text-sm opacity-90",children:"🔒 Pago seguro con tarjeta o PayPal"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-6 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-3",children:"✅ Garantía de Satisfacción 30 días"}),o.jsx("p",{className:"opacity-90",children:"Si no estás 100% satisfecho, te devuelvo cada euro. Sin preguntas."})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"❓ Preguntas Frecuentes"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"¿Este PDF es para mí si soy autónomo nuevo?"}),o.jsx("p",{className:"text-gray-700",children:"SÍ. De hecho, es IDEAL para autónomos nuevos porque te enseña desde el inicio qué deducir para no perder dinero."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"¿Está actualizado a 2025?"}),o.jsx("p",{className:"text-gray-700",children:"SÍ. Incluye todas las normativas fiscales de 2025 (cuotas, tramos IRPF, límites de deducción, etc.)."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"¿Funciona si ya tengo gestor?"}),o.jsx("p",{className:"text-gray-700",children:"SÍ. Este PDF NO reemplaza a tu gestor. Te ayuda a ENTENDER qué gastos tienes y llevarlos organizados. Tu gestor te lo agradecerá."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"¿Qué formato tiene?"}),o.jsx("p",{className:"text-gray-700",children:"PDF descargable de 25 páginas, diseño profesional, fácil de leer en ordenador, tablet o móvil. Puedes imprimirlo si prefieres."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"¿Cuándo recibo el PDF?"}),o.jsx("p",{className:"text-gray-700",children:"INMEDIATAMENTE después del pago. Te llega un email con el link de descarga."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:"¿Hay actualizaciones?"}),o.jsx("p",{className:"text-gray-700",children:"SÍ. Si cambia la normativa fiscal, actualizamos el PDF y te enviamos la nueva versión gratis."})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-3xl p-8 md:p-12 text-white text-center shadow-2xl",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"¿Listo para dejar de pagar de más?"}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Más de 500 autónomos ya están ahorrando miles de euros con esta guía"}),o.jsx("a",{href:"https://lipastudios.gumroad.com/l/jkowwe",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-white text-green-600 font-bold text-2xl px-12 py-6 rounded-2xl hover:bg-gray-100 transition-all transform hover:scale-105 shadow-2xl",children:"🚀 SÍ, QUIERO AHORRAR AHORA"}),o.jsx("p",{className:"mt-6 text-sm opacity-90",children:"Solo 19€ - Descarga inmediata - Garantía 30 días"})]})]})})}function $L(){const[t,e]=V.useState(""),[n,s]=V.useState(""),[r,i]=V.useState(!1),[a,l]=V.useState(!1),[c,u]=V.useState(!1),[h,f]=V.useState(!1);Gd.useEffect(()=>{if(localStorage.getItem("finanzas_lead_closed")){f(!0);return}const y=setTimeout(()=>{h||u(!0)},3e4),v=E=>{E.clientY<=0&&!h&&u(!0)};return document.addEventListener("mouseleave",v),()=>{clearTimeout(y),document.removeEventListener("mouseleave",v)}},[h]);const m=async j=>{j.preventDefault(),i(!0);try{localStorage.setItem("finanzas_lead_captured","true"),await new Promise(y=>setTimeout(y,1e3)),l(!0),u(!1),f(!0)}catch(y){console.error("Error al suscribir:",y),alert("Hubo un error. Por favor, intenta de nuevo.")}finally{i(!1)}},g=()=>{u(!1),f(!0),localStorage.setItem("finanzas_lead_closed","true")},b=localStorage.getItem("finanzas_lead_captured"),_=localStorage.getItem("finanzas_lead_closed");return b||_||h?null:o.jsxs(o.Fragment,{children:[c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fadeIn",children:o.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full shadow-2xl overflow-hidden relative animate-slideUp",children:[o.jsx("button",{onClick:g,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl font-bold z-10",children:"×"}),o.jsxs("div",{className:"p-8 md:p-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:"📚"}),o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"¡ESPERA! 🎁"}),o.jsx("p",{className:"text-xl text-gray-700 font-semibold",children:"Descarga GRATIS la Guía Definitiva del Autónomo 2025"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 mb-8",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:"📖 Descubre:"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-green-600 font-bold text-xl flex-shrink-0",children:"✓"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"20+ gastos deducibles"})," que desconoces (ahorra 2.000-5.000€/año)"]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-green-600 font-bold text-xl flex-shrink-0",children:"✓"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Calculadora fiscal 2025"})," actualizada con nuevas normativas"]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-green-600 font-bold text-xl flex-shrink-0",children:"✓"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Plantillas"})," de facturas, presupuestos y control de gastos"]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-green-600 font-bold text-xl flex-shrink-0",children:"✓"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Calendario fiscal"})," con fechas clave para no pagar multas"]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-green-600 font-bold text-xl flex-shrink-0",children:"✓"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Estrategias legales"})," para pagar menos impuestos"]})]})]})]}),a?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),o.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-4",children:"¡Revisa tu email!"}),o.jsxs("p",{className:"text-gray-700 mb-4",children:["Te hemos enviado la ",o.jsx("strong",{children:"Guía Definitiva del Autónomo 2025"})," a ",o.jsx("strong",{children:t})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Si no lo ves, revisa tu carpeta de spam 📧"})]}):o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tu nombre",value:n,onChange:j=>s(j.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-300 focus:border-blue-500 focus:outline-none text-lg"})}),o.jsx("div",{children:o.jsx("input",{type:"email",placeholder:"Tu mejor email",value:t,onChange:j=>e(j.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-300 focus:border-blue-500 focus:outline-none text-lg"})}),o.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-lg text-lg disabled:opacity-50",children:r?"Enviando...":"🎁 QUIERO MI GUÍA GRATIS"}),o.jsx("p",{className:"text-xs text-center text-gray-500",children:"💯 100% gratis. Sin spam. Cancela cuando quieras."})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["⭐⭐⭐⭐⭐ Más de ",o.jsx("strong",{children:"1.000 autónomos"})," ya han descargado esta guía"]})})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl p-8 md:p-12 text-white shadow-2xl",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-6xl mb-4",children:"📚"}),o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Guía Definitiva del Autónomo 2025"}),o.jsx("p",{className:"text-xl text-blue-100",children:"Descarga GRATIS y ahorra miles de euros en impuestos"})]}),o.jsx("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-6 mb-8",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:"✓"}),o.jsx("span",{children:"20+ gastos deducibles desconocidos"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:"✓"}),o.jsx("span",{children:"Calculadora fiscal 2025 actualizada"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:"✓"}),o.jsx("span",{children:"Plantillas profesionales incluidas"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:"✓"}),o.jsx("span",{children:"Calendario fiscal completo"})]})]})}),a?o.jsxs("div",{className:"text-center py-8 bg-white/10 backdrop-blur rounded-2xl",children:[o.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"¡Revisa tu email!"}),o.jsxs("p",{className:"text-blue-100 mb-4",children:["Te hemos enviado la guía a ",o.jsx("strong",{children:t})]})]}):o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Tu nombre",value:n,onChange:j=>s(j.target.value),required:!0,className:"px-4 py-3 rounded-xl border-2 border-white/20 bg-white/10 backdrop-blur text-white placeholder-white/60 focus:border-white focus:outline-none text-lg"}),o.jsx("input",{type:"email",placeholder:"Tu mejor email",value:t,onChange:j=>e(j.target.value),required:!0,className:"px-4 py-3 rounded-xl border-2 border-white/20 bg-white/10 backdrop-blur text-white placeholder-white/60 focus:border-white focus:outline-none text-lg"})]}),o.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-blue-600 font-bold py-4 rounded-xl hover:bg-blue-50 transition-all transform hover:scale-105 shadow-lg text-lg disabled:opacity-50",children:r?"Enviando...":"🎁 DESCARGAR GUÍA GRATIS"}),o.jsx("p",{className:"text-xs text-center text-blue-100",children:"💯 100% gratis. Sin spam. Cancela cuando quieras."})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-sm text-blue-100",children:"⭐⭐⭐⭐⭐ Más de 1.000 autónomos ya la han descargado"})})]})})]})}function GL(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 text-white py-20 px-6",children:o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Calculadora IRPF Autónomos 2025"}),o.jsx("p",{className:"text-2xl mb-4 opacity-90",children:"Calcula tu IRPF, cuota de Seguridad Social y gastos deducibles en 2 minutos"}),o.jsx("p",{className:"text-xl mb-8 opacity-80",children:"✅ 100% Gratis • ✅ Actualizado 2025 • ✅ Resultados Instantáneos"}),o.jsx("a",{href:"/autonomos",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🧮 CALCULAR AHORA GRATIS"})]})}),o.jsx("div",{className:"py-8 bg-white border-y border-gray-200",children:o.jsx("div",{className:"max-w-6xl mx-auto px-6",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"50.000+"}),o.jsx("div",{className:"text-gray-600",children:"Cálculos realizados"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"100%"}),o.jsx("div",{className:"text-gray-600",children:"Gratis siempre"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"2 min"}),o.jsx("div",{className:"text-gray-600",children:"Tiempo promedio"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"2025"}),o.jsx("div",{className:"text-gray-600",children:"Actualizado"})]})]})})}),o.jsx("div",{className:"py-16 px-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"¿Qué Puedes Calcular?"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border-2 border-green-200",children:[o.jsx("div",{className:"text-5xl mb-4",children:"💰"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"IRPF Trimestral"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Calcula exactamente cuánto debes pagar de IRPF cada trimestre con el Modelo 130. Incluye todos los tramos impositivos de 2025."})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border-2 border-blue-200",children:[o.jsx("div",{className:"text-5xl mb-4",children:"📊"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cuota Seguridad Social"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Descubre tu cuota mensual según el nuevo sistema por ingresos reales. Incluye tarifa plana y bonificaciones disponibles."})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border-2 border-purple-200",children:[o.jsx("div",{className:"text-5xl mb-4",children:"📝"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gastos Deducibles"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Calcula cuánto ahorras deduciendo gastos profesionales. Incluye guía de los 20 gastos más importantes."})]})]})]})}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 py-16 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Calcula Tus Impuestos en 2 Minutos"}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"No pierdas más tiempo con cálculos manuales. Nuestra calculadora hace TODO por ti."}),o.jsx("a",{href:"/autonomos",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🚀 EMPEZAR AHORA"}),o.jsx("p",{className:"mt-6 text-sm opacity-75",children:"✅ Sin registro • ✅ Sin tarjeta • ✅ Sin instalación"})]})}),o.jsx("div",{className:"py-16 px-6 bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Preguntas Frecuentes"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-md",children:[o.jsx("summary",{className:"font-bold text-lg cursor-pointer",children:"¿Cómo calculo el IRPF de autónomos en 2025?"}),o.jsx("p",{className:"mt-4 text-gray-700",children:"El IRPF se calcula sobre tu beneficio neto (ingresos - gastos deducibles). Nuestra calculadora aplica automáticamente los tramos impositivos vigentes en 2025 y te muestra el resultado al instante."})]}),o.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-md",children:[o.jsx("summary",{className:"font-bold text-lg cursor-pointer",children:"¿La calculadora está actualizada con las tarifas de 2025?"}),o.jsx("p",{className:"mt-4 text-gray-700",children:"Sí, incluye todas las actualizaciones de 2025: nuevas cuotas por ingresos reales, tarifa plana de 80€/mes, bonificaciones por edad y género, y todos los tramos de IRPF actualizados."})]}),o.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-md",children:[o.jsx("summary",{className:"font-bold text-lg cursor-pointer",children:"¿Tengo que pagar para usar la calculadora?"}),o.jsx("p",{className:"mt-4 text-gray-700",children:"No, la calculadora es 100% gratuita y siempre lo será. No necesitas registrarte ni dar tu email."})]})]})]})}),o.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-700 py-16 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"¿Listo para Calcular tus Impuestos?"}),o.jsx("a",{href:"/autonomos",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🧮 CALCULAR GRATIS AHORA"})]})}),o.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"SoftwareApplication",name:"Calculadora IRPF Autónomos 2025",applicationCategory:"FinanceApplication",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.9",reviewCount:"1247"}})})]})}function KL(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-20 px-6",children:o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Cuota Autónomos 2025: Calcula la Tuya"}),o.jsx("p",{className:"text-2xl mb-4 opacity-90",children:"Descubre cuánto pagarás con el nuevo sistema por ingresos reales"}),o.jsx("p",{className:"text-xl mb-8 opacity-80",children:"✅ Tarifa Plana 80€ • ✅ Bonificaciones • ✅ Calculadora Gratis"}),o.jsx("a",{href:"/autonomos",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🧮 CALCULAR MI CUOTA"})]})}),o.jsx("div",{className:"py-16 px-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Novedades Cuota Autónomos 2025"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-green-50 rounded-2xl p-8 border-2 border-green-300",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🎉 Tarifa Plana 80€"}),o.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Paga solo 80€/mes durante el primer año como autónomo.",o.jsx("strong",{children:" Ahorra más de 2.500€"})," el primer año."]}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsx("li",{children:"✓ 12 meses a 80€/mes"}),o.jsx("li",{children:"✓ Después 50% descuento 6 meses"}),o.jsx("li",{children:"✓ Luego 30% descuento 6 meses"})]})]}),o.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 border-2 border-blue-300",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📊 Sistema por Ingresos Reales"}),o.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Tu cuota se ajusta automáticamente según lo que ganes.",o.jsx("strong",{children:" Pagas según tus ingresos netos"}),"."]}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsx("li",{children:"✓ 15 tramos de cotización"}),o.jsx("li",{children:"✓ Desde 230€ hasta 590€/mes"}),o.jsx("li",{children:"✓ Ajuste cada 2 meses"})]})]})]})]})}),o.jsx("div",{className:"py-16 px-6 bg-gray-50",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Tabla de Cuotas 2025"}),o.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-xl overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-blue-300",children:[o.jsx("th",{className:"pb-4",children:"Ingresos Netos/Mes"}),o.jsx("th",{className:"pb-4 text-right",children:"Cuota Mensual"})]})}),o.jsxs("tbody",{className:"text-gray-700",children:[o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("td",{className:"py-3",children:"Menos de 670€"}),o.jsx("td",{className:"py-3 text-right font-bold text-green-600",children:"230€"})]}),o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("td",{className:"py-3",children:"670€ - 900€"}),o.jsx("td",{className:"py-3 text-right font-bold",children:"260€"})]}),o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("td",{className:"py-3",children:"900€ - 1.166€"}),o.jsx("td",{className:"py-3 text-right font-bold",children:"294€"})]}),o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("td",{className:"py-3",children:"1.166€ - 1.300€"}),o.jsx("td",{className:"py-3 text-right font-bold",children:"320€"})]}),o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("td",{className:"py-3",children:"1.300€ - 1.500€"}),o.jsx("td",{className:"py-3 text-right font-bold",children:"350€"})]}),o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("td",{className:"py-3",children:"1.500€ - 1.700€"}),o.jsx("td",{className:"py-3 text-right font-bold",children:"380€"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"py-3",children:"Más de 6.000€"}),o.jsx("td",{className:"py-3 text-right font-bold text-red-600",children:"590€"})]})]})]})})]})}),o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 py-16 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center text-white",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Calcula Tu Cuota Exacta en 30 Segundos"}),o.jsx("a",{href:"/autonomos",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🚀 CALCULAR AHORA GRATIS"})]})})]})}function QL(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-20 px-6",children:o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"20 Gastos Deducibles para Autónomos 2025"}),o.jsx("p",{className:"text-2xl mb-4 opacity-90",children:"Descubre los gastos que te harán ahorrar entre 2.000€ y 5.000€ al año"}),o.jsx("p",{className:"text-xl mb-8 opacity-80",children:"✅ Guía Completa GRATIS • ✅ Ejemplos Reales • ✅ PDF Premium 19€"}),o.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsx("a",{href:"/blog",className:"inline-block bg-white text-purple-600 font-bold text-xl px-10 py-5 rounded-2xl hover:bg-gray-100 transition-all transform hover:scale-105 shadow-2xl",children:"📚 LEER GUÍA GRATIS"}),o.jsx("a",{href:"https://lipastudios.gumroad.com/l/jkowwe",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-xl px-10 py-5 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🎁 PDF PREMIUM 19€"})]})]})}),o.jsx("div",{className:"py-16 px-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Los 20 Gastos Que TODO Autónomo Puede Deducir"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{emoji:"🏠",nombre:"Alquiler oficina",ahorro:"300-600€/mes"},{emoji:"💻",nombre:"Ordenadores y tablets",ahorro:"30% del precio"},{emoji:"📱",nombre:"Móvil e internet",ahorro:"50-100€/mes"},{emoji:"🚗",nombre:"Vehículo profesional",ahorro:"200-400€/mes"},{emoji:"☕",nombre:"Comidas con clientes",ahorro:"100-200€/mes"},{emoji:"✈️",nombre:"Viajes de trabajo",ahorro:"Variable"},{emoji:"📚",nombre:"Formación y cursos",ahorro:"100% deducible"},{emoji:"💼",nombre:"Gestoría",ahorro:"50-80€/mes"},{emoji:"🔒",nombre:"Seguros profesionales",ahorro:"30-60€/mes"},{emoji:"📦",nombre:"Material de oficina",ahorro:"20-50€/mes"},{emoji:"💡",nombre:"Suministros casa",ahorro:"30% si trabajas en casa"},{emoji:"🛠️",nombre:"Herramientas",ahorro:"100% deducible"},{emoji:"🎨",nombre:"Software y apps",ahorro:"50-150€/mes"},{emoji:"📢",nombre:"Marketing y publicidad",ahorro:"100% deducible"},{emoji:"🏦",nombre:"Gastos bancarios",ahorro:"10-30€/mes"},{emoji:"⚖️",nombre:"Abogados",ahorro:"100% deducible"},{emoji:"🎓",nombre:"Libros técnicos",ahorro:"100% deducible"},{emoji:"🖨️",nombre:"Impresora y consumibles",ahorro:"30% del precio"},{emoji:"📞",nombre:"Línea telefónica",ahorro:"100% si es exclusiva"},{emoji:"🌐",nombre:"Hosting y dominio web",ahorro:"5-20€/mes"}].map((t,e)=>o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-shadow border-2 border-purple-100",children:[o.jsx("div",{className:"text-4xl mb-3",children:t.emoji}),o.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:t.nombre}),o.jsxs("p",{className:"text-sm text-green-600 font-semibold",children:["Ahorro: ",t.ahorro]})]},e))})]})}),o.jsx("div",{className:"py-16 px-6 bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Calcula Cuánto Puedes Ahorrar"}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Usa nuestra calculadora GRATIS y descubre exactamente cuánto ahorras deduciendo estos gastos"}),o.jsx("a",{href:"/autonomos",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🧮 CALCULAR AHORRO GRATIS"})]})}),o.jsx("div",{className:"py-16 px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl p-12 text-white text-center shadow-2xl",children:[o.jsx("div",{className:"inline-block bg-yellow-400 text-yellow-900 px-4 py-2 rounded-full font-bold mb-4 animate-pulse",children:"🔥 OFERTA ESPECIAL"}),o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"PDF Premium: 20 Gastos Deducibles 2025"}),o.jsx("p",{className:"text-xl mb-6 opacity-90",children:"26 páginas con ejemplos detallados, caso práctico real, gráficas y checklist descargable"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white/20 px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"19€"}),o.jsx("div",{className:"text-sm opacity-80",children:"Precio lanzamiento"})]}),o.jsxs("div",{className:"bg-white/20 px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"26"}),o.jsx("div",{className:"text-sm opacity-80",children:"Páginas"})]}),o.jsxs("div",{className:"bg-white/20 px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"⭐⭐⭐⭐⭐"}),o.jsx("div",{className:"text-sm opacity-80",children:"500+ satisfechos"})]})]}),o.jsx("a",{href:"https://lipastudios.gumroad.com/l/jkowwe",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🎁 COMPRAR AHORA (19€)"}),o.jsx("p",{className:"mt-6 text-sm opacity-75",children:"✅ Descarga inmediata • ✅ Garantía 30 días • ✅ Actualizado 2025"})]})})]})}function YL(){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white py-20 px-6",children:o.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[o.jsx("div",{className:"inline-block bg-yellow-400 text-yellow-900 px-6 py-2 rounded-full font-bold mb-6 animate-pulse",children:"🔥 NUEVO CURSO 2025"}),o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"FINANZAS DESDE 0"}),o.jsx("p",{className:"text-3xl mb-4 opacity-95",children:"Tu Camino a la Libertad Financiera"}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"De no tener ni idea de dinero... a invertir en bolsa con confianza"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"50"}),o.jsx("div",{className:"text-sm opacity-90",children:"Páginas"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"20+"}),o.jsx("div",{className:"text-sm opacity-90",children:"Gráficas"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"10"}),o.jsx("div",{className:"text-sm opacity-90",children:"Casos Prácticos"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold",children:"29€"}),o.jsx("div",{className:"text-sm opacity-90",children:"Una vez"})]})]}),o.jsx("a",{href:"#comprar",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🎁 COMPRAR AHORA (29€)"}),o.jsx("p",{className:"mt-4 text-sm opacity-75",children:"✅ Descarga inmediata • ✅ Garantía 30 días • ✅ Actualizado 2025"})]})}),o.jsx("div",{className:"py-16 px-6 bg-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"¿Te Suena Familiar?"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-red-50 rounded-2xl p-8 border-2 border-red-200",children:[o.jsx("div",{className:"text-4xl mb-4",children:"😰"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:'"No sé dónde se va mi dinero"'}),o.jsx("p",{className:"text-gray-700",children:"Llegas a fin de mes sin saber en qué gastaste. El dinero desaparece y no entiendes cómo."})]}),o.jsxs("div",{className:"bg-red-50 rounded-2xl p-8 border-2 border-red-200",children:[o.jsx("div",{className:"text-4xl mb-4",children:"😨"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:'"La bolsa me da miedo"'}),o.jsx("p",{className:"text-gray-700",children:"Quieres invertir pero no sabes por dónde empezar. Todo suena complicado y arriesgado."})]}),o.jsxs("div",{className:"bg-red-50 rounded-2xl p-8 border-2 border-red-200",children:[o.jsx("div",{className:"text-4xl mb-4",children:"😔"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:'"No puedo ahorrar"'}),o.jsx("p",{className:"text-gray-700",children:"Cada mes prometes ahorrar, pero nunca queda nada. Los imprevistos se comen todo."})]}),o.jsxs("div",{className:"bg-red-50 rounded-2xl p-8 border-2 border-red-200",children:[o.jsx("div",{className:"text-4xl mb-4",children:"😞"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:'"Envidio a los que invierten"'}),o.jsx("p",{className:"text-gray-700",children:"Ves cómo otros invierten y crecen su dinero mientras tú sigues en el mismo sitio."})]})]}),o.jsx("div",{className:"text-center mt-12",children:o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"🎯 Este curso es para ti si respondes SÍ a cualquiera de esas preguntas"})})]})}),o.jsx("div",{className:"py-16 px-6 bg-gradient-to-br from-green-50 to-emerald-50",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-4",children:"Imagina Esto..."}),o.jsx("p",{className:"text-xl text-center text-gray-600 mb-12",children:"Dentro de 6 meses podrías estar así:"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border-2 border-green-200",children:[o.jsx("div",{className:"text-5xl mb-4",children:"💰"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Control Total"}),o.jsx("p",{className:"text-gray-700",children:"Sabes exactamente dónde va cada euro. Tienes un presupuesto que funciona y no te limita."})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border-2 border-green-200",children:[o.jsx("div",{className:"text-5xl mb-4",children:"🏦"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Fondo de Emergencia"}),o.jsx("p",{className:"text-gray-700",children:"Tienes 3-6 meses de gastos ahorrados. Duermes tranquilo porque estás protegido."})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border-2 border-green-200",children:[o.jsx("div",{className:"text-5xl mb-4",children:"📈"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Primera Inversión"}),o.jsx("p",{className:"text-gray-700",children:"Has hecho tu primera inversión en bolsa. Tu dinero crece mientras duermes."})]})]}),o.jsxs("div",{className:"text-center mt-12 bg-white rounded-2xl p-8 shadow-xl",children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Todo esto es POSIBLE y ALCANZABLE"}),o.jsxs("p",{className:"text-lg text-gray-700",children:["Solo necesitas la guía correcta, los pasos claros y la motivación para empezar.",o.jsx("br",{}),o.jsx("span",{className:"font-bold text-green-600",children:"Este curso te da las 3 cosas."})]})]})]})}),o.jsx("div",{className:"py-16 px-6 bg-white",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"¿Qué Aprenderás Exactamente?"}),o.jsx("div",{className:"space-y-6",children:[{parte:"PARTE 1: FUNDAMENTOS",emoji:"🎯",color:"blue",items:["Los 5 niveles financieros (¿en cuál estás?)","Test de situación actual","Mentalidad de inversor vs empleado"]},{parte:"PARTE 2: CONTROL DE TU DINERO",emoji:"💸",color:"purple",items:["Regla 50/30/20 explicada paso a paso","Caso práctico: María transforma su economía","Apps y herramientas que funcionan"]},{parte:"PARTE 3: SALIR DE DEUDAS",emoji:"🔓",color:"red",items:["Método bola de nieve (probado)","Caso: Carlos sale de 8.000€ de deudas","Script para negociar con bancos"]},{parte:"PARTE 4: AHORRO INTELIGENTE",emoji:"🏦",color:"green",items:["Cómo crear tu fondo de emergencia","Truco para ahorrar sin pensar","Mejores cuentas remuneradas 2025"]},{parte:"PARTE 5: INVERSIÓN",emoji:"📊",color:"yellow",items:["Interés compuesto con gráficas","Riesgo vs rentabilidad explicado","Por qué NO invertir = perder dinero"]},{parte:"PARTE 6: FONDOS INDEXADOS",emoji:"📈",color:"indigo",items:["Qué son y por qué son los mejores","Fondos gestionados vs indexados","Los 5 mejores fondos para españoles"]},{parte:"PARTE 7: BOLSA",emoji:"💹",color:"pink",items:["Cómo funciona la bolsa (sin jerga)","Acciones vs ETFs","Cómo abrir tu primer broker"]},{parte:"PARTE 8: TU PLAN",emoji:"🚀",color:"teal",items:["Portfolio personalizado según tu perfil","Estrategia Dollar Cost Averaging","Plan de inversión a 10 años"]}].map((t,e)=>o.jsx("div",{className:`bg-${t.color}-50 rounded-2xl p-6 border-2 border-${t.color}-200`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"text-4xl",children:t.emoji}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:t.parte}),o.jsx("ul",{className:"space-y-2",children:t.items.map((n,s)=>o.jsxs("li",{className:"text-gray-700 flex items-start gap-2",children:[o.jsx("span",{className:"text-green-600 font-bold",children:"✓"}),o.jsx("span",{children:n})]},s))})]})]})},e))})]})}),o.jsx("div",{className:"py-16 px-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-8",children:"🎁 BONUS Incluidos (GRATIS)"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:"📋"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Plantilla Presupuesto Excel"}),o.jsx("p",{className:"opacity-90",children:"Descargable y personalizable"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:"📊"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Calculadora Interés Compuesto"}),o.jsx("p",{className:"opacity-90",children:"Simula tu crecimiento a 30 años"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:"✅"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Checklist Paso a Paso"}),o.jsx("p",{className:"opacity-90",children:"No te pierdas ningún paso"})]}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:"🔄"}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Actualizaciones Gratis"}),o.jsx("p",{className:"opacity-90",children:"Nuevas versiones sin pagar más"})]})]})]})}),o.jsx("div",{id:"comprar",className:"py-16 px-6 bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Empieza Tu Transformación HOY"}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-3xl p-8 mb-8",children:[o.jsx("div",{className:"text-6xl font-bold mb-2",children:"29€"}),o.jsx("div",{className:"text-xl opacity-90",children:"Pago único • Acceso de por vida"})]}),o.jsx("a",{href:"https://lipastudios.gumroad.com/l/finanzas-desde-0",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🎁 COMPRAR AHORA (29€)"}),o.jsxs("div",{className:"mt-8 space-y-3",children:[o.jsx("p",{className:"text-lg",children:"✅ Descarga inmediata en PDF"}),o.jsx("p",{className:"text-lg",children:"✅ Garantía de devolución 30 días"}),o.jsx("p",{className:"text-lg",children:"✅ Soporte por email incluido"}),o.jsx("p",{className:"text-lg",children:"✅ Actualizado para 2025"})]}),o.jsx("div",{className:"mt-8 bg-white/10 rounded-2xl p-6",children:o.jsxs("p",{className:"text-sm italic opacity-90",children:['"El mejor momento para empezar fue hace 10 años.',o.jsx("br",{}),'El segundo mejor momento es AHORA."']})})]})}),o.jsx("div",{className:"py-16 px-6 bg-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("div",{className:"text-6xl mb-6",children:"🛡️"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Garantía de Satisfacción 100%"}),o.jsx("p",{className:"text-xl text-gray-700 mb-4",children:"Si en los próximos 30 días sientes que el curso no cumplió tus expectativas, te devuelvo el 100% de tu dinero. Sin preguntas."}),o.jsx("p",{className:"text-lg text-gray-600",children:"No tienes nada que perder y TODO que ganar."})]})}),o.jsx("div",{className:"py-16 px-6 bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-12",children:"Preguntas Frecuentes"}),o.jsx("div",{className:"space-y-4",children:[{q:"¿Es solo un PDF o hay videos?",a:"Es un PDF de 50 páginas ultra-visual con gráficas, tablas y casos prácticos. Preferimos PDF porque puedes leerlo a tu ritmo, subrayar, imprimir y volver cuando quieras. No necesitas conexión a internet."},{q:"¿Necesito conocimientos previos?",a:"NO. El curso empieza desde 0 absoluto. Si sabes leer y tienes ganas de aprender, es para ti."},{q:"¿Cuánto tiempo lleva completarlo?",a:"Puedes leerlo en 2-3 horas. Pero lo importante es APLICAR lo que aprendes. En 6 meses puedes estar en nivel 3 de libertad financiera."},{q:"¿Funciona para cualquier país?",a:"Está optimizado para España (fiscalidad, brokers, cuentas), pero los conceptos son universales. Funciona en cualquier país hispanohablante."},{q:"¿Hay actualizaciones?",a:"SÍ. Cuando actualicemos el curso (nuevas leyes, brokers, etc.), recibirás la nueva versión GRATIS."},{q:"¿Puedo compartirlo con mi pareja/amigos?",a:"El curso es para uso personal. Pero si quieres regalarlo, puedes comprarlo como regalo en Gumroad."}].map((t,e)=>o.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-md",children:[o.jsx("summary",{className:"font-bold text-lg cursor-pointer text-gray-900",children:t.q}),o.jsx("p",{className:"mt-4 text-gray-700",children:t.a})]},e))})]})}),o.jsx("div",{className:"py-16 px-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"¿Listo para Cambiar Tu Vida Financiera?"}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Dentro de 6 meses mirarás atrás y te alegrarás de haber empezado hoy."}),o.jsx("a",{href:"https://lipastudios.gumroad.com/l/finanzas-desde-0",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-yellow-400 hover:bg-yellow-300 text-gray-900 font-bold text-2xl px-12 py-6 rounded-2xl transition-all transform hover:scale-105 shadow-2xl",children:"🚀 SÍ, QUIERO EMPEZAR AHORA"})]})})]})}const XL=({onNavigateToRegister:t,onNavigateToForgotPassword:e,onSuccess:n})=>{const{signIn:s,signInWithGoogle:r,signInWithApple:i,loading:a}=Rh(),[l,c]=V.useState(""),[u,h]=V.useState(""),[f,m]=V.useState(""),g=()=>{window.location.reload()},b=async y=>{if(y.preventDefault(),m(""),!l||!u){m("Por favor completa todos los campos");return}try{await s(l,u),n()}catch(v){m(v.message||"Error al iniciar sesión")}},_=async()=>{m("");try{await r(),n()}catch(y){m(y.message||"Error al iniciar sesión con Google")}},j=async()=>{m("");try{await i(),n()}catch(y){m(y.message||"Error al iniciar sesión con Apple")}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-500 to-green-500 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md relative",children:[o.jsx("button",{onClick:g,className:"absolute top-4 left-4 text-gray-500 hover:text-gray-700 transition-colors",disabled:a,children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsxs("div",{className:"text-center mb-8 mt-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"¡Bienvenido! 👋"}),o.jsx("p",{className:"text-gray-600",children:"Inicia sesión en FinanzasFácil"})]}),f&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:o.jsx("p",{className:"text-red-600 text-sm text-center",children:f})}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{id:"email",type:"email",value:l,onChange:y=>c(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"tu@email.com",disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),o.jsx("input",{id:"password",type:"password",value:u,onChange:y=>h(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••",disabled:a})]}),o.jsx("div",{className:"text-right",children:o.jsx("button",{type:"button",onClick:e,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",disabled:a,children:"¿Olvidaste tu contraseña?"})}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-bold py-3 px-6 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesión..."]}):"Iniciar Sesión"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500",children:"o continúa con"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:j,disabled:a,className:"w-full flex items-center justify-center gap-3 bg-black text-white font-medium py-3 px-6 rounded-xl hover:bg-gray-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continuar con Apple"]}),o.jsxs("button",{type:"button",onClick:_,disabled:a,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 font-medium py-3 px-6 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["¿No tienes cuenta?"," ",o.jsx("button",{type:"button",onClick:t,className:"text-blue-600 hover:text-blue-700 font-bold",disabled:a,children:"Regístrate gratis"})]})})]})})},JL=({onNavigateToLogin:t,onSuccess:e})=>{const{signUp:n,signInWithGoogle:s,signInWithApple:r,loading:i}=Rh(),[a,l]=V.useState(""),[c,u]=V.useState(""),[h,f]=V.useState(""),[m,g]=V.useState(""),[b,_]=V.useState(!1),[j,y]=V.useState(""),v=()=>{window.location.reload()},E=()=>!a||!c||!h||!m?(y("Por favor completa todos los campos"),!1):a.length<2?(y("El nombre debe tener al menos 2 caracteres"),!1):c.includes("@")?h.length<6?(y("La contraseña debe tener al menos 6 caracteres"),!1):h!==m?(y("Las contraseñas no coinciden"),!1):b?!0:(y("Debes aceptar los términos y condiciones"),!1):(y("Email inválido"),!1),P=async N=>{if(N.preventDefault(),y(""),!!E())try{await n(c,h,a),e()}catch(w){y(w.message||"Error al crear la cuenta")}},R=async()=>{y("");try{await s(),e()}catch(N){y(N.message||"Error al registrarse con Google")}},M=async()=>{y("");try{await r(),e()}catch(N){y(N.message||"Error al registrarse con Apple")}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-600 via-blue-500 to-purple-600 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md relative",children:[o.jsx("button",{onClick:v,className:"absolute top-4 left-4 text-gray-500 hover:text-gray-700 transition-colors",disabled:i,children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsxs("div",{className:"text-center mb-8 mt-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"¡Únete! 🚀"}),o.jsx("p",{className:"text-gray-600",children:"Crea tu cuenta en FinanzasFácil"})]}),j&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:o.jsx("p",{className:"text-red-600 text-sm text-center",children:j})}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),o.jsx("input",{id:"name",type:"text",value:a,onChange:N=>l(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Tu nombre",disabled:i})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{id:"email",type:"email",value:c,onChange:N=>u(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"tu@email.com",disabled:i})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),o.jsx("input",{id:"password",type:"password",value:h,onChange:N=>f(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Mínimo 6 caracteres",disabled:i})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contraseña"}),o.jsx("input",{id:"confirmPassword",type:"password",value:m,onChange:N=>g(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",placeholder:"Repite tu contraseña",disabled:i})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{id:"terms",type:"checkbox",checked:b,onChange:N=>_(N.target.checked),className:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",disabled:i}),o.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["Acepto los"," ",o.jsx("a",{href:"/terms",target:"_blank",className:"text-green-600 hover:text-green-700 font-medium",children:"términos y condiciones"})," ","y la"," ",o.jsx("a",{href:"/privacy",target:"_blank",className:"text-green-600 hover:text-green-700 font-medium",children:"política de privacidad"})]})]}),o.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white font-bold py-3 px-6 rounded-xl hover:from-green-700 hover:to-green-800 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:i?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando cuenta..."]}):"Crear Cuenta"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500",children:"o regístrate con"})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:M,disabled:i,className:"w-full flex items-center justify-center gap-3 bg-black text-white font-medium py-3 px-6 rounded-xl hover:bg-gray-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continuar con Apple"]}),o.jsxs("button",{type:"button",onClick:R,disabled:i,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 text-gray-700 font-medium py-3 px-6 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["¿Ya tienes cuenta?"," ",o.jsx("button",{type:"button",onClick:t,className:"text-green-600 hover:text-green-700 font-bold",disabled:i,children:"Inicia sesión"})]})})]})})},ZL=({onNavigateToLogin:t})=>{const{sendPasswordReset:e,loading:n}=Rh(),[s,r]=V.useState(""),[i,a]=V.useState(""),[l,c]=V.useState(!1),u=async h=>{if(h.preventDefault(),a(""),c(!1),!s){a("Por favor ingresa tu email");return}if(!s.includes("@")){a("Email inválido");return}try{await e(s),c(!0)}catch(f){a(f.message||"Error al enviar el email de recuperación")}};return l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-500 to-green-500 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"¡Email enviado! 📧"}),o.jsx("p",{className:"text-gray-600",children:"Hemos enviado un enlace de recuperación a:"}),o.jsx("p",{className:"text-blue-600 font-medium mt-2",children:s})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Nota:"})," El enlace expira en 1 hora. Si no encuentras el email, revisa tu carpeta de spam."]})}),o.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-bold py-3 px-6 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all transform hover:scale-[1.02]",children:"Volver al inicio de sesión"})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-500 to-green-500 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"¿Olvidaste tu contraseña? 🔑"}),o.jsx("p",{className:"text-gray-600",children:"No te preocupes, te enviaremos un enlace para recuperarla"})]}),i&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:o.jsx("p",{className:"text-red-600 text-sm text-center",children:i})}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de tu cuenta"}),o.jsx("input",{id:"email",type:"email",value:s,onChange:h=>r(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"tu@email.com",disabled:n,autoFocus:!0})]}),o.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):"Enviar enlace de recuperación"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("button",{type:"button",onClick:t,className:"text-gray-600 hover:text-gray-700 font-medium flex items-center justify-center gap-2 mx-auto",disabled:n,children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver al inicio de sesión"]})})]})})},eV=[{name:"YouTube",url:"https://youtube.com/@FinanzasMuyFáciles",icon:o.jsx(HT,{className:"w-6 h-6"}),color:"bg-red-600 hover:bg-red-700",handle:"@FinanzasMuyFáciles"}],tV=()=>{const t=(e,n)=>{window.gtag&&window.gtag("event","social_link_click",{social_network:n,link_url:e}),window.open(e,"_blank","noopener,noreferrer")};return o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 shadow-xl",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(UT,{className:"w-6 h-6 text-yellow-400"}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"¡Síguenos en Redes Sociales!"})]}),o.jsx("p",{className:"text-gray-200 mb-6",children:"📚 Contenido diario sobre finanzas, consejos y trucos para mejorar tu economía"}),o.jsx("div",{className:"space-y-3",children:eV.map(e=>o.jsxs("button",{onClick:()=>t(e.url,e.name),className:`
              w-full flex items-center gap-4 p-4 rounded-lg
              ${e.color}
              transition-all duration-300 transform hover:scale-105
              shadow-lg hover:shadow-xl
            `,children:[o.jsx("div",{className:"flex-shrink-0",children:e.icon}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-bold text-white text-lg",children:e.name}),o.jsx("div",{className:"text-white/80 text-sm",children:e.handle})]}),o.jsx("div",{className:"text-white/60",children:"→"})]},e.name))}),o.jsx("div",{className:"mt-6 p-4 bg-yellow-400/20 rounded-lg border-2 border-yellow-400/40",children:o.jsxs("p",{className:"text-yellow-100 text-sm text-center",children:["💡 ",o.jsx("strong",{children:"¡Nuevo contenido cada día!"})," No te pierdas nuestros tips y tutoriales"]})})]})},nV=qa("Share",{web:()=>Ph(()=>import("./web-9a791d59.js"),[]).then(t=>new t.ShareWeb)}),sV=({variant:t="primary",className:e=""})=>{const n=async()=>{const a={title:"FinanzasFácil - Calculadoras Financieras Gratuitas",text:"🚀 ¡Descubre FinanzasFácil! Calculadoras de salario neto, libertad financiera y control de gastos. ¡100% GRATIS! 💰",url:"https://finanzasmuyfaciles.netlify.app",dialogTitle:"Comparte FinanzasFácil con tus amigos"};window.gtag&&window.gtag("event","share_app",{method:gi.getPlatform(),content_type:"app"});try{gi.isNativePlatform()?await nV.share({title:a.title,text:a.text,url:a.url,dialogTitle:a.dialogTitle}):navigator.share?await navigator.share({title:a.title,text:a.text,url:a.url}):(await navigator.clipboard.writeText(`${a.text}
${a.url}`),alert("✅ ¡Enlace copiado al portapapeles!"))}catch(l){console.log("Share cancelled or failed:",l)}},i=t==="primary"?`
    bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 
    hover:from-green-600 hover:via-emerald-600 hover:to-teal-600
    text-white font-bold px-8 py-4 rounded-2xl 
    transition-all duration-300 shadow-2xl transform hover:scale-105 
    border-2 border-white/30
    flex items-center gap-3 justify-center
  `:`
    bg-white/20 backdrop-blur-sm border-2 border-white/30 
    text-white font-bold px-6 py-3 rounded-xl 
    hover:bg-white/30 transition-all duration-300 shadow-lg
    flex items-center gap-2 justify-center
  `;return o.jsxs("button",{onClick:n,className:`${i} ${e}`,"aria-label":"Compartir aplicación",children:[o.jsx(zT,{className:"w-5 h-5"}),o.jsx("span",{children:"Compartir esta app"})]})};var Bw;(function(t){t.General="General",t.ParentalGuidance="ParentalGuidance",t.Teen="Teen",t.MatureAudience="MatureAudience"})(Bw||(Bw={}));var Ww;(function(t){t.SizeChanged="bannerAdSizeChanged",t.Loaded="bannerAdLoaded",t.FailedToLoad="bannerAdFailedToLoad",t.Opened="bannerAdOpened",t.Closed="bannerAdClosed",t.AdImpression="bannerAdImpression"})(Ww||(Ww={}));var qd;(function(t){t.TOP_CENTER="TOP_CENTER",t.CENTER="CENTER",t.BOTTOM_CENTER="BOTTOM_CENTER"})(qd||(qd={}));var Hd;(function(t){t.BANNER="BANNER",t.FULL_BANNER="FULL_BANNER",t.LARGE_BANNER="LARGE_BANNER",t.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",t.LEADERBOARD="LEADERBOARD",t.ADAPTIVE_BANNER="ADAPTIVE_BANNER",t.SMART_BANNER="SMART_BANNER"})(Hd||(Hd={}));var qw;(function(t){t.Loaded="interstitialAdLoaded",t.FailedToLoad="interstitialAdFailedToLoad",t.Showed="interstitialAdShowed",t.FailedToShow="interstitialAdFailedToShow",t.Dismissed="interstitialAdDismissed"})(qw||(qw={}));var Hw;(function(t){t.Loaded="onRewardedInterstitialAdLoaded",t.FailedToLoad="onRewardedInterstitialAdFailedToLoad",t.Showed="onRewardedInterstitialAdShowed",t.FailedToShow="onRewardedInterstitialAdFailedToShow",t.Dismissed="onRewardedInterstitialAdDismissed",t.Rewarded="onRewardedInterstitialAdReward"})(Hw||(Hw={}));var $w;(function(t){t.Loaded="onRewardedVideoAdLoaded",t.FailedToLoad="onRewardedVideoAdFailedToLoad",t.Showed="onRewardedVideoAdShowed",t.FailedToShow="onRewardedVideoAdFailedToShow",t.Dismissed="onRewardedVideoAdDismissed",t.Rewarded="onRewardedVideoAdReward"})($w||($w={}));var Gw;(function(t){t.NOT_REQUIRED="NOT_REQUIRED",t.OBTAINED="OBTAINED",t.REQUIRED="REQUIRED",t.UNKNOWN="UNKNOWN"})(Gw||(Gw={}));var Kw;(function(t){t[t.DISABLED=0]="DISABLED",t[t.EEA=1]="EEA",t[t.NOT_EEA=2]="NOT_EEA"})(Kw||(Kw={}));const Eo=qa("AdMob",{web:()=>Ph(()=>import("./web-5cab8660.js"),[]).then(t=>new t.AdMobWeb)}),Mj={APP_IDS:{ANDROID:"ca-app-pub-4837743291717475~5262527045",IOS:"ca-app-pub-4837743291717475~3521575123"},AD_UNITS:{BANNER:"ca-app-pub-4837743291717475/5805807742",INTERSTITIAL:"ca-app-pub-4837743291717475/9665161708",REWARDED:"ca-app-pub-4837743291717475/8858991273"},TESTING:{ENABLED:!1,TEST_DEVICE_IDS:["TEST_DEVICE_ID_1","TEST_DEVICE_ID_2"]},FREQUENCY:{INTERSTITIAL_SHOW_PROBABILITY:.3,REWARDED_SHOW_AFTER_ACTIONS:3,BANNER_ALWAYS_VISIBLE:!0}},rV=()=>Mj.TESTING.ENABLED,iV=()=>({adId:Mj.AD_UNITS.BANNER,isTesting:rV(),margin:0}),aV=({position:t="bottom",size:e="adaptive"})=>{const[n,s]=V.useState(!1),[r,i]=V.useState(null);return V.useEffect(()=>((async()=>{try{if(!Eo){console.log("AdMob not available on this platform");return}const l=iV(),c=t==="top"?qd.TOP_CENTER:qd.BOTTOM_CENTER,u=e==="adaptive"?Hd.ADAPTIVE_BANNER:Hd.BANNER;await Eo.showBanner({adId:l.adId,adSize:u,position:c,margin:l.margin,isTesting:l.isTesting}),s(!0),console.log("AdMob Banner loaded successfully")}catch(l){console.error("Error loading AdMob Banner:",l),i("Error loading banner")}})(),()=>{Eo&&n&&Eo.hideBanner().catch(console.error)}),[t,e]),null},tn=(t,e,n,s)=>{typeof window<"u"&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:n,value:s})},zs=(t,e)=>{typeof window<"u"&&window.gtag&&window.gtag("config","G-633RQLC6T0",{page_path:t,page_title:e})},zn={millionaireCalculatorOpened:()=>tn("calculator_opened","millionaire_calculator"),millionaireCalculationCompleted:(t,e)=>tn("calculation_completed","millionaire_calculator",`age_${t}_savings_${e}`),salaryCalculatorOpened:()=>tn("calculator_opened","salary_calculator"),salaryCalculationCompleted:(t,e)=>tn("calculation_completed","salary_calculator",`gross_${t}_region_${e}`),expenseControlOpened:()=>tn("app_opened","expense_control"),userRegistered:()=>tn("user_registered","expense_control"),expenseAdded:(t,e)=>tn("expense_added","expense_control",e,t),incomeAdded:(t,e)=>tn("income_added","expense_control",e,t),quizCompleted:t=>tn("quiz_completed","expense_control",`score_${t}`),navigationToExpenseControl:()=>tn("navigation","app_flow","to_expense_control"),navigationToCalculator:t=>tn("navigation","app_flow",`to_${t}`),timeSpentOnPage:(t,e)=>tn("time_spent","engagement",t,e),featureUsed:t=>tn("feature_used","engagement",t)},Dj=({slot:t,style:e={display:"block"},format:n="auto",responsive:s=!0,className:r=""})=>(V.useEffect(()=>{try{typeof window<"u"&&window.adsbygoogle&&localStorage.getItem("adsense-approved")==="true"&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(a){console.log("AdSense error:",a)}},[]),(typeof window<"u"?localStorage.getItem("adsense-approved")==="true":!1)?o.jsx("div",{className:`adsense-container ${r}`,children:o.jsx("ins",{className:"adsbygoogle",style:e,"data-ad-client":"ca-pub-4837743291717475","data-ad-slot":t,"data-ad-format":n,"data-full-width-responsive":s?"true":"false"})}):o.jsxs("div",{className:`adsense-placeholder ${r}`,style:{...e,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold",textAlign:"center",padding:"20px"},children:["📢 Espacio publicitario",o.jsx("br",{}),o.jsx("small",{style:{opacity:.8,fontSize:"12px"},children:"AdSense en proceso de aprobación"})]})),oV=({className:t})=>o.jsx(Dj,{slot:"6673201053",format:"auto",responsive:!0,style:{display:"block",textAlign:"center",margin:"20px 0",minHeight:"90px"},className:t}),lV=({className:t})=>o.jsx(Dj,{slot:"6673201053",format:"auto",responsive:!0,style:{display:"block",textAlign:"center",margin:"30px 0",minHeight:"90px"},className:`inline-ad ${t}`}),xu=({type:t,data:e})=>(V.useEffect(()=>{const n=()=>{const r={"@context":"https://schema.org","@type":t,name:e.name,description:e.description,url:e.url,author:{"@type":"Organization",name:"Finanzas Fáciles"},publisher:{"@type":"Organization",name:"Finanzas Fáciles",url:"https://finanzasmuyfaciles.netlify.app"}};switch(t){case"WebSite":return{...r,potentialAction:{"@type":"SearchAction",target:"https://finanzasmuyfaciles.netlify.app/?q={search_term_string}","query-input":"required name=search_term_string"}};case"WebApplication":return{...r,applicationCategory:"FinanceApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},screenshot:e.screenshot,featureList:e.features};case"Calculator":return{...r,applicationCategory:"FinanceApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},featureList:e.features};case"AutonomosCalculator":return{...r,applicationCategory:"FinanceApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},featureList:["Cálculo de IRPF para autónomos","Cuota de Seguridad Social 2025","Gastos deducibles por categorías","Comparativa entre comunidades autónomas","Bonificaciones para autónomos nuevos","Cálculo de cuánto facturar para ganancia neta deseada"],keywords:"calculadora autónomos, IRPF autónomos, cuota seguridad social, gastos deducibles, fiscalidad autónomos",audience:{"@type":"Audience",audienceType:"Autónomos y trabajadores por cuenta propia"}};default:return r}},s=document.createElement("script");return s.type="application/ld+json",s.textContent=JSON.stringify(n(),null,2),document.head.appendChild(s),()=>{s.parentNode&&s.parentNode.removeChild(s)}},[t,e]),null),cV=()=>{const[t,e]=V.useState(null),[n,s]=V.useState(!1),[r,i]=V.useState(!1);V.useEffect(()=>{if(gi.isNativePlatform())return;(()=>{if(window.navigator.standalone===!0){i(!0);return}if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}if(window.matchMedia("(display-mode: minimal-ui)").matches){i(!0);return}})();const u=b=>{b.preventDefault(),e(b),s(!0)},h=()=>{console.log("PWA instalada"),i(!0),s(!1),e(null)};window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",h);const f=/iPad|iPhone|iPod/.test(navigator.userAgent),m=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!r&&(f||m)&&s(!0);const g=window.setTimeout(()=>{!r&&!t&&s(!0)},4e3);return()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",h),window.clearTimeout(g)}},[]);const a=async()=>{if(t)try{await t.prompt();const{outcome:c}=await t.userChoice;console.log(c==="accepted"?"Usuario aceptó instalar la PWA":"Usuario rechazó instalar la PWA"),e(null),s(!1)}catch(c){console.error("Error al instalar PWA:",c)}},l=()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent),u=/Android/.test(navigator.userAgent);alert(c?`Para instalar en iOS:
1. Toca el botón Compartir
2. Selecciona "Agregar a pantalla de inicio"
3. Toca "Agregar"`:u?`Para instalar en Android:
1. Toca el menú (⋮)
2. Selecciona "Instalar app" o "Agregar a pantalla de inicio"
3. Confirma la instalación`:`Para instalar:
1. Busca el icono de instalación en la barra de direcciones
2. Haz clic en "Instalar"
3. Confirma la instalación`)};return r||!n&&!t?null:o.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 max-w-sm",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Instalar FinanzasFácil"}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Accede más rápido y usa sin conexión"}),o.jsxs("div",{className:"mt-3 flex space-x-2",children:[t?o.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded-md font-medium transition-colors",children:"Instalar"}):o.jsx("button",{onClick:l,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded-md font-medium transition-colors",children:"Instalar"}),o.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xs px-3 py-1.5 rounded-md transition-colors",children:"Ahora no"})]})]})]})})})},uV=()=>{const[t,e]=V.useState({});return V.useEffect(()=>{(()=>{var i,a;const r={userAgent:navigator.userAgent,isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent),isSafari:/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),hasServiceWorker:"serviceWorker"in navigator,hasManifest:"onbeforeinstallprompt"in window,displayMode:window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: minimal-ui)").matches?"minimal-ui":"browser",isStandalone:navigator.standalone||!1,swRegistration:null,swController:((i=navigator.serviceWorker)==null?void 0:i.controller)||null,manifestUrl:((a=document.querySelector('link[rel="manifest"]'))==null?void 0:a.getAttribute("href"))||"not found",currentUrl:window.location.href,origin:window.location.origin};"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(l=>{r.swRegistration=l,e(r)}).catch(l=>{r.swRegistration=`Error: ${l.message}`,e(r)}):e(r)})()},[]),new URLSearchParams(window.location.search).has("debug")?o.jsxs("div",{className:"fixed top-4 right-4 bg-black/90 text-white p-4 rounded-lg text-xs max-w-sm z-50 overflow-auto max-h-96",children:[o.jsx("h3",{className:"font-bold mb-2",children:"🔍 PWA Debug Info"}),o.jsx("div",{className:"space-y-1",children:Object.entries(t).map(([s,r])=>o.jsxs("div",{children:[o.jsxs("span",{className:"text-blue-300",children:[s,":"]})," ",o.jsx("span",{className:"text-green-300",children:typeof r=="object"?JSON.stringify(r):String(r)})]},s))}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("button",{onClick:()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(s=>{s.forEach(r=>{r.unregister()}),window.location.reload()})},className:"bg-red-600 text-white px-2 py-1 rounded text-xs",children:"🗑️ Clear SW"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs ml-2",children:"🔄 Reload"})]})]}):null};function dV(){const[t,e]=V.useState("landing"),n=xx({threshold:100,velocity:.2,safeZone:{top:140,bottom:100,left:50,right:50},onSwipeRight:()=>{t!=="landing"&&(e("landing"),zs("/","Landing Page"))}});return V.useEffect(()=>{console.log("App initialized on platform:",gi.getPlatform()),console.log("Firebase temporalmente desactivado - esperando configuración de reglas");const s=r=>{r.detail==="millonario"?(e("tiktok-millonario"),zn.millionaireCalculatorOpened(),zs("/millonario","Calculadora Millonario")):r.detail==="gastos"&&(e("gastos"),zn.navigationToExpenseControl(),zs("/gastos","Control de Gastos"))};return window.addEventListener("changeMode",s),zs("/","Finanzas Fáciles - Landing"),()=>{window.removeEventListener("changeMode",s)}},[]),V.useEffect(()=>{switch(t){case"gastos":zn.expenseControlOpened(),zs("/gastos","Control de Gastos");break;case"tiktok-millonario":zn.millionaireCalculatorOpened(),zs("/millonario","Calculadora Millonario");break;case"salario":zn.salaryCalculatorOpened(),zs("/salario","Calculadora Salario Neto");break;case"landing":zs("/","Finanzas Fáciles - Landing");break}},[t]),t==="gastos"?o.jsx(ML,{onBack:()=>e("landing")}):t==="autonomos"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50",children:[o.jsx(xu,{type:"AutonomosCalculator",data:{name:"Calculadora de Autónomos 2025 - IRPF y Seguridad Social",description:"Calculadora gratuita para autónomos en España. Calcula IRPF, cuota de Seguridad Social, gastos deducibles y bonificaciones por comunidad autónoma.",url:"https://finanzasmuyfaciles.netlify.app/autonomos"}}),o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(qL,{onBack:()=>e("landing")})]}):t==="tiktok-millonario"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600",children:[o.jsx(xu,{type:"Calculator",data:{name:"Calculadora ¿Cuándo Seré Millonario? - Libertad Financiera",description:"Calculadora interactiva para saber cuándo podrás cumplir tus sueños y alcanzar la libertad financiera. Calcula tu edad para ser millonario con gráficos y animaciones.",url:"https://finanzasmuyfaciles.netlify.app/cuando-ser-millonario",features:["Cálculo de interés compuesto","Gráficos interactivos","Animaciones de confeti","Sliders interactivos","Comparativas de ahorro"]}}),o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(DL,{onBack:()=>e("landing")})]}):t==="salario"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[o.jsx(xu,{type:"Calculator",data:{name:"Calculadora Salario Neto 2025 - Sueldo Bruto a Neto España",description:"Calculadora de salario neto 2025 para España. Convierte tu sueldo bruto a neto con cálculos precisos de IRPF, Seguridad Social y comparativas regionales.",url:"https://finanzasmuyfaciles.netlify.app/calculadora-salario-neto",features:["Cálculo IRPF 2025","Deducciones Seguridad Social","Comparativas regionales","Gráficos de pagas extra","Diseño mobile-first"]}}),o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(OL,{})]}):t==="privacy"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(LL,{})]}):t==="terms"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(VL,{})]}):t==="about"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(FL,{})]}):t==="contact"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(zL,{})]}):t==="content-hub"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(UL,{})]}):t==="faq"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(BL,{})]}):t==="resources"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(WL,{})]}):t==="producto-gastos"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(HL,{})]}):t==="producto-curso-finanzas"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(YL,{})]}):t==="donate"?o.jsx("div",{className:"min-h-screen",children:o.jsx(Rj,{isOpen:!0,onClose:()=>e("landing")})}):t==="landing-irpf"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(GL,{})]}):t==="landing-cuota"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(KL,{})]}):t==="landing-gastos"?o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:"← Volver"})}),o.jsx(QL,{})]}):t==="login"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-green-500",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30 text-white hover:bg-white/30 transition-colors shadow-lg",children:"← Volver"})}),o.jsx(XL,{onNavigateToRegister:()=>e("register"),onNavigateToForgotPassword:()=>e("forgot-password"),onSuccess:()=>e("landing")})]}):t==="register"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 to-pink-500",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("login"),className:"flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30 text-white hover:bg-white/30 transition-colors shadow-lg",children:"← Volver"})}),o.jsx(JL,{onNavigateToLogin:()=>e("login"),onSuccess:()=>e("landing")})]}):t==="forgot-password"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-500 to-red-500",children:[o.jsx("div",{className:"absolute top-20 left-4 z-10",children:o.jsx("button",{onClick:()=>e("login"),className:"flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30 text-white hover:bg-white/30 transition-colors shadow-lg",children:"← Volver"})}),o.jsx(ZL,{onNavigateToLogin:()=>e("login")})]}):t==="social"?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:[o.jsx("div",{className:"absolute top-4 left-4 z-50",children:o.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30 text-white hover:bg-white/30 transition-colors shadow-lg touch-manipulation",style:{zIndex:9999},children:"← Volver"})}),o.jsx("div",{className:"max-w-2xl mx-auto pt-20",children:o.jsx(tV,{})})]}):o.jsxs("div",{ref:n,className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[o.jsx(xu,{type:"WebSite",data:{name:"Finanzas Fáciles - Calculadoras Financieras Gratuitas",description:"Calculadora de salario neto 2024, calculadora cuándo ser millonario, control de gastos gratis. Herramientas financieras para mejorar tu economía personal.",url:"https://finanzasmuyfaciles.netlify.app"}}),o.jsxs("div",{className:"text-center pt-16 pb-8",children:[o.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"FinanzasFácil"}),o.jsx("p",{className:"text-xl text-white/80 mb-4",children:"Calculadoras Financieras Gratuitas 2025"}),o.jsx("p",{className:"text-lg text-white/70 mb-8",children:"Salario neto, libertad financiera y control de gastos"}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-8",children:[o.jsx("button",{onClick:()=>{zn.navigationToCalculator("social"),e("social")},className:"bg-gradient-to-r from-red-600 via-pink-600 to-purple-600 text-white font-bold px-8 py-4 rounded-2xl hover:from-red-700 hover:via-pink-700 hover:to-purple-700 transition-all duration-300 shadow-2xl transform hover:scale-105 border-2 border-white/30 animate-pulse",children:"🎥 ¡Síguenos en YouTube! 🔥"}),o.jsx(sV,{variant:"primary"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mt-12 mb-8",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 text-left",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"¿Qué es FinanzasFácil?"}),o.jsx("p",{className:"text-white/90 mb-4 leading-relaxed",children:"FinanzasFácil es la plataforma líder en España para educación financiera y herramientas de cálculo gratuitas. Nuestro objetivo es democratizar el acceso a la información financiera de calidad, proporcionando calculadoras precisas, guías prácticas y recursos educativos que te ayuden a tomar mejores decisiones económicas."}),o.jsx("p",{className:"text-white/90 mb-4 leading-relaxed",children:"Desde 2024, hemos ayudado a miles de españoles a entender sus finanzas personales, calcular correctamente sus impuestos como autónomos, planificar su ahorro para la jubilación y alcanzar sus objetivos de libertad financiera. Todas nuestras herramientas están actualizadas con la normativa fiscal vigente y son completamente gratuitas."}),o.jsx("p",{className:"text-white/90 leading-relaxed",children:"Nuestras calculadoras cubren aspectos esenciales de la economía personal: desde convertir tu salario bruto a neto considerando IRPF y Seguridad Social, hasta simular cuándo podrás alcanzar la libertad financiera con tus ahorros. También ofrecemos herramientas especializadas para autónomos, incluyendo cálculos de gastos deducibles y bonificaciones por comunidad autónoma."})]})})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-16",children:[o.jsx("div",{className:"mb-8",children:o.jsx(oV,{})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-6",children:"💸"}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Control de Gastos Personal"}),o.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"App gratuita para gestionar gastos diarios, categorizar compras y controlar tu presupuesto mensual. Ideal para ahorrar dinero y mejorar tus finanzas personales."}),o.jsx("button",{onClick:()=>{zn.navigationToExpenseControl(),e("gastos")},className:"bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-orange-600 hover:to-red-700 transition-all duration-300 shadow-2xl",children:"Empezar Ahora"})]})}),o.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-6",children:"🎉"}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"¿Cuándo seré millonario?"}),o.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"Calculadora de libertad financiera para saber cuándo serás millonario. Calcula con interés compuesto cuánto necesitas ahorrar para alcanzar 1 millón de euros."}),o.jsx("button",{onClick:()=>{zn.navigationToCalculator("millionaire"),e("tiktok-millonario")},className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-pink-600 hover:to-purple-700 transition-all duration-300 shadow-2xl",children:"¡CALCULAR! 🚀"})]})}),o.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-6",children:"💰"}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Calculadora Salario Neto 2025"}),o.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"Calculadora gratuita para convertir sueldo bruto a neto en España 2025. Calcula IRPF, Seguridad Social y descubre cuánto recibirás realmente en tu nómina."}),o.jsx("button",{onClick:()=>{zn.navigationToCalculator("salary"),e("salario")},className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-2xl",children:"Calcular Salario"})]})}),o.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-6",children:"👨‍💼"}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Calculadora de Autónomos"}),o.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"Calcula IRPF, cuota de Seguridad Social y gastos deducibles. Incluye bonificaciones por comunidad autónoma para autónomos nuevos."}),o.jsx("button",{onClick:()=>{zn.navigationToCalculator("autonomos"),e("autonomos")},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-2xl",children:"Calcular Impuestos"})]})})]}),o.jsx("div",{className:"mt-12",children:o.jsx(lV,{})}),o.jsx("div",{className:"mt-16",children:o.jsx($L,{})}),o.jsx("div",{className:"mt-16 bg-white/5 backdrop-blur-sm rounded-3xl p-8",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex justify-center flex-wrap gap-4 text-white/70",children:[o.jsx("button",{onClick:()=>e("content-hub"),className:"hover:text-white transition-colors underline",children:"Hub de Contenido"}),o.jsx("button",{onClick:()=>e("resources"),className:"hover:text-white transition-colors underline",children:"Recursos"}),o.jsx("button",{onClick:()=>e("faq"),className:"hover:text-white transition-colors underline",children:"FAQ"}),o.jsx("button",{onClick:()=>e("about"),className:"hover:text-white transition-colors underline",children:"Sobre nosotros"}),o.jsx("button",{onClick:()=>e("contact"),className:"hover:text-white transition-colors underline",children:"Contacto"}),o.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors underline",children:"Privacidad"}),o.jsx("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors underline",children:"Términos"}),o.jsx("button",{onClick:()=>e("donate"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 hover:text-white transition-colors","aria-label":"Donar a través de PayPal",children:o.jsx("span",{children:"💖 Donar"})})]}),o.jsx("p",{className:"text-white/50 text-sm",children:"© 2025 FinanzasFácil - LIPA Studios. Todos los derechos reservados."}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[o.jsx("p",{className:"text-white/70 text-sm mb-4",children:"🌐 Más proyectos de LIPA Studios:"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[o.jsx("a",{href:"https://entrenoapp.netlify.app",target:"_blank",rel:"noopener noreferrer",className:"text-blue-300 hover:text-blue-200 underline transition-colors",children:"💪 EntrenoApp"}),o.jsx("span",{className:"text-white/30",children:"•"}),o.jsx("a",{href:"https://lipastudios.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-300 hover:text-blue-200 underline transition-colors",children:"🎮 LIPA Studios Gaming"}),o.jsx("span",{className:"text-white/30",children:"•"}),o.jsx("a",{href:"https://finanzasmuyfaciles.netlify.app",target:"_blank",rel:"noopener noreferrer",className:"text-blue-300 hover:text-blue-200 underline transition-colors",children:"💰 Finanzas Muy Fáciles"})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:o.jsxs("p",{className:"text-white/60 text-xs max-w-3xl mx-auto leading-relaxed",children:[o.jsx("strong",{children:"Aviso legal:"})," FinanzasFácil proporciona herramientas de cálculo y contenido educativo con fines informativos. Los cálculos se basan en la normativa fiscal española vigente pero pueden no reflejar situaciones individuales específicas. Para asesoramiento personalizado, consulte con un profesional cualificado (asesor fiscal, gestor o contador). No nos hacemos responsables de decisiones tomadas exclusivamente en base a la información aquí proporcionada. Todos los datos introducidos en nuestras calculadoras se procesan localmente en su navegador y no se almacenan en nuestros servidores."]})})]})}),o.jsxs("div",{className:"mt-16 bg-white/5 backdrop-blur-sm rounded-3xl p-8",children:[o.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-8 text-center",children:"Preguntas Frecuentes sobre Calculadoras Financieras"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[o.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"¿Cómo calcular mi salario neto 2025?"}),o.jsx("p",{className:"text-white/80",children:"Nuestra calculadora de salario neto te ayuda a convertir tu sueldo bruto a neto considerando IRPF, Seguridad Social y todas las deducciones aplicables en España."})]}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[o.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"¿Cuándo seré millonario?"}),o.jsx("p",{className:"text-white/80",children:"Con la calculadora de libertad financiera puedes saber exactamente cuánto necesitas ahorrar mensualmente para alcanzar 1 millón de euros."})]}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[o.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"¿Es gratis usar las calculadoras?"}),o.jsx("p",{className:"text-white/80",children:"Sí, todas nuestras calculadoras financieras son completamente gratuitas. No necesitas registrarte para usar las herramientas básicas."})]}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[o.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"¿Cómo controlar mis gastos?"}),o.jsx("p",{className:"text-white/80",children:"Nuestra app de control de gastos te permite categorizar tus compras, establecer presupuestos y analizar tus patrones de gasto."})]})]})]}),o.jsx("div",{className:"mt-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl p-8 md:p-12 shadow-2xl border-4 border-white/20",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400 text-yellow-900 px-4 py-2 rounded-full mb-4 font-bold animate-pulse",children:[o.jsx("span",{className:"text-xl",children:"🔥"}),o.jsx("span",{children:"NUEVO PRODUCTO"})]}),o.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"20 Gastos Deducibles para Autónomos 2025"}),o.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-6",children:"PDF Premium con los 20 gastos que TODO autónomo puede deducir para ahorrar entre 2.000€ y 5.000€ al año"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:"19€"}),o.jsx("div",{className:"text-sm text-white/80",children:"Precio lanzamiento"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:"25"}),o.jsx("div",{className:"text-sm text-white/80",children:"Páginas de contenido"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:"⭐⭐⭐⭐⭐"}),o.jsx("div",{className:"text-sm text-white/80",children:"500+ satisfechos"})]})]}),o.jsxs("button",{onClick:()=>e("producto-gastos"),className:"bg-yellow-400 hover:bg-yellow-300 text-gray-900 px-10 py-5 rounded-2xl font-bold text-xl transition-all duration-300 shadow-2xl hover:shadow-xl transform hover:scale-105 inline-flex items-center gap-3",children:[o.jsx("span",{children:"🎁"}),o.jsx("span",{children:"VER PRODUCTO (19€)"})]}),o.jsx("p",{className:"mt-4 text-white/80 text-sm",children:"✅ Descarga inmediata • ✅ Garantía 30 días • ✅ Actualizado 2025"})]})}),o.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-3xl p-8 md:p-12 shadow-2xl",children:o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-4",children:[o.jsx("span",{className:"text-2xl",children:"📚"}),o.jsx("span",{className:"text-white font-semibold",children:"NUEVO CONTENIDO"})]}),o.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Blog de Finanzas Personales 2025"}),o.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-6",children:"Descubre artículos especializados sobre autónomos, fiscalidad, inversión y gestión del dinero. Guías completas actualizadas para 2025."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"24+"}),o.jsx("div",{className:"text-sm text-white/80",children:"Artículos"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"10"}),o.jsx("div",{className:"text-sm text-white/80",children:"Guías Autónomos 2025"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:"12"}),o.jsx("div",{className:"text-sm text-white/80",children:"Productos Recomendados"})]})]}),o.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:o.jsx("button",{onClick:()=>e("content-hub"),className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"📚 Hub de Contenido"})})]})}),o.jsxs("div",{className:"mt-16 text-center",children:[o.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-8",children:"¿Por qué elegir FinanzasFácil?"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📊"}),o.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Análisis Inteligente"}),o.jsx("p",{className:"text-white/80",children:"Visualiza tus patrones de gasto y recibe insights personalizados"})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),o.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Objetivos Claros"}),o.jsx("p",{className:"text-white/80",children:"Establece metas financieras y haz un seguimiento de tu progreso"})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🔒"}),o.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"100% Seguro"}),o.jsx("p",{className:"text-white/80",children:"Tus datos están protegidos y solo tú tienes acceso a ellos"})]})]})]}),o.jsxs("div",{className:"mt-20 bg-gradient-to-br from-purple-900/50 via-blue-900/50 to-indigo-900/50 backdrop-blur-sm rounded-3xl p-8 border border-white/10",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"🌐 Explora Más de LIPA Studios"}),o.jsx("p",{className:"text-white/80 text-lg",children:"Descubre todos nuestros proyectos: gaming, fitness y finanzas"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[o.jsxs("a",{href:"https://entrenoapp.netlify.app",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20",children:[o.jsx("div",{className:"text-4xl mb-4",children:"💪"}),o.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"EntrenoApp"}),o.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Tu entrenador personal con GPS tracking y planes personalizados"}),o.jsx("div",{className:"text-blue-300 text-sm font-semibold",children:"Ver App →"})]}),o.jsxs("a",{href:"https://lipastudios.com",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🎮"}),o.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"LIPA Studios Gaming"}),o.jsx("p",{className:"text-white/80 text-sm mb-4",children:"12 juegos gratis HTML5 con estética cyberpunk"}),o.jsx("div",{className:"text-blue-300 text-sm font-semibold",children:"Ver Juegos →"})]}),o.jsxs("a",{href:"https://finanzasmuyfaciles.netlify.app",target:"_blank",rel:"noopener noreferrer",className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20",children:[o.jsx("div",{className:"text-4xl mb-4",children:"💰"}),o.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Finanzas Muy Fáciles"}),o.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Aprende finanzas personales de forma simple y efectiva"}),o.jsx("div",{className:"text-blue-300 text-sm font-semibold",children:"Ver Guías →"})]})]})]})]}),o.jsx(cV,{}),o.jsx(uV,{}),o.jsx(aV,{position:"bottom",size:"adaptive"})]})}function hV(){return o.jsx(Z5,{children:o.jsx(dV,{})})}"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registrado exitosamente:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nueva versión disponible")})})}).catch(t=>{console.log("SW falló al registrarse:",t)}),window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registrado en load:",t.scope)}).catch(t=>{console.log("SW falló en load:",t)})}));im.createRoot(document.getElementById("root")).render(o.jsx(Gd.StrictMode,{children:o.jsx(hV,{})}));setTimeout(()=>{const t=document.getElementById("initial-content");t&&(t.style.display="none")},100);export{Gw as A,xA as B,EV as C,LV as D,_i as E,$s as F,Ks as G,DV as H,VV as I,OV as J,FA as K,js as L,TV as M,Jy as N,Pu as O,gv as P,pP as Q,PV as R,J2 as S,Qs as T,sP as U,FE as W,yV as a,xV as b,BA as c,AV as d,FV as e,_V as f,gR as g,Gs as h,vV as i,CV as j,UA as k,MV as l,bV as m,pv as n,kV as o,mV as p,gV as q,HC as r,NV as s,WA as t,wV as u,RV as v,pV as w,SV as x,IV as y,jV as z};
