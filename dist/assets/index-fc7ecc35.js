var GS=Object.defineProperty;var KS=(t,e,n)=>e in t?GS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Q=(t,e,n)=>(KS(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function QS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zb={exports:{}},Id={},e_={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),YS=Symbol.for("react.portal"),XS=Symbol.for("react.fragment"),JS=Symbol.for("react.strict_mode"),ZS=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),nN=Symbol.for("react.forward_ref"),sN=Symbol.for("react.suspense"),iN=Symbol.for("react.memo"),rN=Symbol.for("react.lazy"),q0=Symbol.iterator;function oN(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var t_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n_=Object.assign,s_={};function Eo(t,e,n){this.props=t,this.context=e,this.refs=s_,this.updater=n||t_}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i_(){}i_.prototype=Eo.prototype;function ep(t,e,n){this.props=t,this.context=e,this.refs=s_,this.updater=n||t_}var tp=ep.prototype=new i_;tp.constructor=ep;n_(tp,Eo.prototype);tp.isPureReactComponent=!0;var $0=Array.isArray,r_=Object.prototype.hasOwnProperty,np={current:null},o_={key:!0,ref:!0,__self:!0,__source:!0};function a_(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)r_.call(e,s)&&!o_.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:jl,type:t,key:r,ref:o,props:i,_owner:np.current}}function aN(t,e){return{$$typeof:jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sp(t){return typeof t=="object"&&t!==null&&t.$$typeof===jl}function lN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H0=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lN(""+t.key):e.toString(36)}function eu(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jl:case YS:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Ih(o,0):s,$0(i)?(n="",t!=null&&(n=t.replace(H0,"$&/")+"/"),eu(i,e,n,"",function(u){return u})):i!=null&&(sp(i)&&(i=aN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(H0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",$0(t))for(var a=0;a<t.length;a++){r=t[a];var c=s+Ih(r,a);o+=eu(r,e,n,c,i)}else if(c=oN(t),typeof c=="function")for(t=c.call(t),a=0;!(r=t.next()).done;)r=r.value,c=s+Ih(r,a++),o+=eu(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mc(t,e,n){if(t==null)return t;var s=[],i=0;return eu(t,s,"","",function(r){return e.call(n,r,i++)}),s}function cN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},tu={transition:null},uN={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:tu,ReactCurrentOwner:np};function l_(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:mc,forEach:function(t,e,n){mc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mc(t,function(){e++}),e},toArray:function(t){return mc(t,function(e){return e})||[]},only:function(t){if(!sp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Eo;de.Fragment=XS;de.Profiler=ZS;de.PureComponent=ep;de.StrictMode=JS;de.Suspense=sN;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;de.act=l_;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=n_({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=np.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)r_.call(e,c)&&!o_.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:jl,type:t.type,key:i,ref:r,props:s,_owner:o}};de.createContext=function(t){return t={$$typeof:tN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eN,_context:t},t.Consumer=t};de.createElement=a_;de.createFactory=function(t){var e=a_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:nN,render:t}};de.isValidElement=sp;de.lazy=function(t){return{$$typeof:rN,_payload:{_status:-1,_result:t},_init:cN}};de.memo=function(t,e){return{$$typeof:iN,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=tu.transition;tu.transition={};try{t()}finally{tu.transition=e}};de.unstable_act=l_;de.useCallback=function(t,e){return Pt.current.useCallback(t,e)};de.useContext=function(t){return Pt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Pt.current.useEffect(t,e)};de.useId=function(){return Pt.current.useId()};de.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Pt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};de.useRef=function(t){return Pt.current.useRef(t)};de.useState=function(t){return Pt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Pt.current.useTransition()};de.version="18.3.1";e_.exports=de;var F=e_.exports;const ip=QS(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN=F,hN=Symbol.for("react.element"),fN=Symbol.for("react.fragment"),mN=Object.prototype.hasOwnProperty,pN=dN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gN={key:!0,ref:!0,__self:!0,__source:!0};function c_(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)mN.call(e,s)&&!gN.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:hN,type:t,key:r,ref:o,props:i,_owner:pN.current}}Id.Fragment=fN;Id.jsx=c_;Id.jsxs=c_;Zb.exports=Id;var l=Zb.exports,Tf={},u_={exports:{}},en={},d_={exports:{}},h_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var X=U.length;U.push(H);e:for(;0<X;){var ue=X-1>>>1,ae=U[ue];if(0<i(ae,H))U[ue]=H,U[X]=ae,X=ue;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var H=U[0],X=U.pop();if(X!==H){U[0]=X;e:for(var ue=0,ae=U.length,Ue=ae>>>1;ue<Ue;){var ye=2*(ue+1)-1,vt=U[ye],He=ye+1,Ht=U[He];if(0>i(vt,X))He<ae&&0>i(Ht,vt)?(U[ue]=Ht,U[He]=X,ue=He):(U[ue]=vt,U[ye]=X,ue=ye);else if(He<ae&&0>i(Ht,X))U[ue]=Ht,U[He]=X,ue=He;else break e}}return H}function i(U,H){var X=U.sortIndex-H.sortIndex;return X!==0?X:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,m=3,x=!1,v=!1,b=!1,I=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var H=n(u);H!==null;){if(H.callback===null)s(u);else if(H.startTime<=U)s(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function A(U){if(b=!1,E(U),!v)if(n(c)!==null)v=!0,ne(R);else{var H=n(u);H!==null&&oe(A,H.startTime-U)}}function R(U,H){v=!1,b&&(b=!1,y(w),w=-1),x=!0;var X=m;try{for(E(H),f=n(c);f!==null&&(!(f.expirationTime>H)||U&&!T());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,m=f.priorityLevel;var ae=ue(f.expirationTime<=H);H=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(c)&&s(c),E(H)}else s(c);f=n(c)}if(f!==null)var Ue=!0;else{var ye=n(u);ye!==null&&oe(A,ye.startTime-H),Ue=!1}return Ue}finally{f=null,m=X,x=!1}}var M=!1,S=null,w=-1,k=5,C=-1;function T(){return!(t.unstable_now()-C<k)}function P(){if(S!==null){var U=t.unstable_now();C=U;var H=!0;try{H=S(!0,U)}finally{H?j():(M=!1,S=null)}}else M=!1}var j;if(typeof _=="function")j=function(){_(P)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=P,j=function(){Y.postMessage(null)}}else j=function(){I(P,0)};function ne(U){S=U,M||(M=!0,j())}function oe(U,H){w=I(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,ne(R))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var X=m;m=H;try{return U()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=m;m=U;try{return H()}finally{m=X}},t.unstable_scheduleCallback=function(U,H,X){var ue=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,U){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=X+ae,U={id:h++,callback:H,priorityLevel:U,startTime:X,expirationTime:ae,sortIndex:-1},X>ue?(U.sortIndex=X,e(u,U),n(c)===null&&U===n(u)&&(b?(y(w),w=-1):b=!0,oe(A,X-ue))):(U.sortIndex=ae,e(c,U),v||x||(v=!0,ne(R))),U},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(U){var H=m;return function(){var X=m;m=H;try{return U.apply(this,arguments)}finally{m=X}}}})(h_);d_.exports=h_;var xN=d_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN=F,Jt=xN;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f_=new Set,Ga={};function hr(t,e){oo(t,e),oo(t+"Capture",e)}function oo(t,e){for(Ga[t]=e,t=0;t<e.length;t++)f_.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=Object.prototype.hasOwnProperty,vN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},G0={};function bN(t){return If.call(G0,t)?!0:If.call(W0,t)?!1:vN.test(t)?G0[t]=!0:(W0[t]=!0,!1)}function _N(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wN(t,e,n,s){if(e===null||typeof e>"u"||_N(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rp=/[\-:]([a-z])/g;function op(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rp,op);xt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rp,op);xt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rp,op);xt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ap(t,e,n,s){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wN(e,n,i,s)&&(n=null),s||i===null?bN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var _s=yN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),Cf=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),g_=Symbol.for("react.offscreen"),K0=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=K0&&t[K0]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,kh;function da(t){if(kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kh=e&&e[1]||""}return`
`+kh+t}var Ch=!1;function jh(t,e){if(!t||Ch)return"";Ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ch=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?da(t):""}function EN(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Af(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Rr:return"Portal";case kf:return"Profiler";case lp:return"StrictMode";case Cf:return"Suspense";case jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p_:return(t.displayName||"Context")+".Consumer";case m_:return(t._context.displayName||"Context")+".Provider";case cp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case up:return e=t.displayName||null,e!==null?e:Af(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return Af(t(e))}catch{}}return null}function SN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Af(e);case 8:return e===lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NN(t){var e=x_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gc(t){t._valueTracker||(t._valueTracker=NN(t))}function y_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=x_(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q0(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v_(t,e){e=e.checked,e!=null&&ap(t,"checked",e,!1)}function Rf(t,e){v_(t,e);var n=di(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mf(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mf(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function Gr(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Df(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ha(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function b_(t,e){var n=di(e.value),s=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function J0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function __(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?__(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xc,w_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xc=xc||document.createElement("div"),xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TN=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(t){TN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ta[e]=Ta[t]})});function E_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ta.hasOwnProperty(t)&&Ta[t]?(""+e).trim():e+"px"}function S_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=E_(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var IN=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lf(t,e){if(e){if(IN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Vf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=null;function dp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,Kr=null,Qr=null;function Z0(t){if(t=Rl(t)){if(typeof zf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Pd(e),zf(t.stateNode,t.type,e))}}function N_(t){Kr?Qr?Qr.push(t):Qr=[t]:Kr=t}function T_(){if(Kr){var t=Kr,e=Qr;if(Qr=Kr=null,Z0(t),e)for(t=0;t<e.length;t++)Z0(e[t])}}function I_(t,e){return t(e)}function k_(){}var Ah=!1;function C_(t,e,n){if(Ah)return t(e,n);Ah=!0;try{return I_(t,e,n)}finally{Ah=!1,(Kr!==null||Qr!==null)&&(k_(),T_())}}function Qa(t,e){var n=t.stateNode;if(n===null)return null;var s=Pd(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Uf=!1;if(fs)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Uf=!1}function kN(t,e,n,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ia=!1,Iu=null,ku=!1,Bf=null,CN={onError:function(t){Ia=!0,Iu=t}};function jN(t,e,n,s,i,r,o,a,c){Ia=!1,Iu=null,kN.apply(CN,arguments)}function AN(t,e,n,s,i,r,o,a,c){if(jN.apply(this,arguments),Ia){if(Ia){var u=Iu;Ia=!1,Iu=null}else throw Error(B(198));ku||(ku=!0,Bf=u)}}function fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ex(t){if(fr(t)!==t)throw Error(B(188))}function PN(t){var e=t.alternate;if(!e){if(e=fr(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return ex(i),t;if(r===s)return ex(i),e;r=r.sibling}throw Error(B(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==s)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function A_(t){return t=PN(t),t!==null?P_(t):null}function P_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P_(t);if(e!==null)return e;t=t.sibling}return null}var R_=Jt.unstable_scheduleCallback,tx=Jt.unstable_cancelCallback,RN=Jt.unstable_shouldYield,MN=Jt.unstable_requestPaint,Ge=Jt.unstable_now,DN=Jt.unstable_getCurrentPriorityLevel,hp=Jt.unstable_ImmediatePriority,M_=Jt.unstable_UserBlockingPriority,Cu=Jt.unstable_NormalPriority,ON=Jt.unstable_LowPriority,D_=Jt.unstable_IdlePriority,kd=null,Fn=null;function LN(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(kd,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:zN,VN=Math.log,FN=Math.LN2;function zN(t){return t>>>=0,t===0?32:31-(VN(t)/FN|0)|0}var yc=64,vc=4194304;function fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=fa(a):(r&=o,r!==0&&(s=fa(r)))}else o=n&~i,o!==0?s=fa(o):r!==0&&(s=fa(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-En(e),i=1<<n,s|=t[n],e&=~i;return s}function UN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BN(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-En(r),a=1<<o,c=i[o];c===-1?(!(a&n)||a&s)&&(i[o]=UN(a,e)):c<=e&&(t.expiredLanes|=a),r&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O_(){var t=yc;return yc<<=1,!(yc&4194240)&&(yc=64),t}function Ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function qN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-En(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function fp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-En(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var Ne=0;function L_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V_,mp,F_,z_,U_,$f=!1,bc=[],Xs=null,Js=null,Zs=null,Ya=new Map,Xa=new Map,Vs=[],$N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nx(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(e.pointerId)}}function Jo(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Rl(e),e!==null&&mp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HN(t,e,n,s,i){switch(e){case"focusin":return Xs=Jo(Xs,t,e,n,s,i),!0;case"dragenter":return Js=Jo(Js,t,e,n,s,i),!0;case"mouseover":return Zs=Jo(Zs,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Ya.set(r,Jo(Ya.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Xa.set(r,Jo(Xa.get(r)||null,t,e,n,s,i)),!0}return!1}function B_(t){var e=qi(t.target);if(e!==null){var n=fr(e);if(n!==null){if(e=n.tag,e===13){if(e=j_(n),e!==null){t.blockedOn=e,U_(t.priority,function(){F_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Ff=s,n.target.dispatchEvent(s),Ff=null}else return e=Rl(n),e!==null&&mp(e),t.blockedOn=n,!1;e.shift()}return!0}function sx(t,e,n){nu(t)&&n.delete(e)}function WN(){$f=!1,Xs!==null&&nu(Xs)&&(Xs=null),Js!==null&&nu(Js)&&(Js=null),Zs!==null&&nu(Zs)&&(Zs=null),Ya.forEach(sx),Xa.forEach(sx)}function Zo(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,WN)))}function Ja(t){function e(i){return Zo(i,t)}if(0<bc.length){Zo(bc[0],t);for(var n=1;n<bc.length;n++){var s=bc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Xs!==null&&Zo(Xs,t),Js!==null&&Zo(Js,t),Zs!==null&&Zo(Zs,t),Ya.forEach(e),Xa.forEach(e),n=0;n<Vs.length;n++)s=Vs[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)B_(n),n.blockedOn===null&&Vs.shift()}var Yr=_s.ReactCurrentBatchConfig,Au=!0;function GN(t,e,n,s){var i=Ne,r=Yr.transition;Yr.transition=null;try{Ne=1,pp(t,e,n,s)}finally{Ne=i,Yr.transition=r}}function KN(t,e,n,s){var i=Ne,r=Yr.transition;Yr.transition=null;try{Ne=4,pp(t,e,n,s)}finally{Ne=i,Yr.transition=r}}function pp(t,e,n,s){if(Au){var i=Hf(t,e,n,s);if(i===null)Bh(t,e,s,Pu,n),nx(t,s);else if(HN(i,t,e,n,s))s.stopPropagation();else if(nx(t,s),e&4&&-1<$N.indexOf(t)){for(;i!==null;){var r=Rl(i);if(r!==null&&V_(r),r=Hf(t,e,n,s),r===null&&Bh(t,e,s,Pu,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Bh(t,e,s,null,n)}}var Pu=null;function Hf(t,e,n,s){if(Pu=null,t=dp(s),t=qi(t),t!==null)if(e=fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pu=t,null}function q_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DN()){case hp:return 1;case M_:return 4;case Cu:case ON:return 16;case D_:return 536870912;default:return 16}default:return 16}}var $s=null,gp=null,su=null;function $_(){if(su)return su;var t,e=gp,n=e.length,s,i="value"in $s?$s.value:$s.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return su=i.slice(t,1<s?1-s:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _c(){return!0}function ix(){return!1}function tn(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?_c:ix,this.isPropagationStopped=ix,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),e}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=tn(So),Pl=Fe({},So,{view:0,detail:0}),QN=tn(Pl),Rh,Mh,ea,Cd=Fe({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(Rh=t.screenX-ea.screenX,Mh=t.screenY-ea.screenY):Mh=Rh=0,ea=t),Rh)},movementY:function(t){return"movementY"in t?t.movementY:Mh}}),rx=tn(Cd),YN=Fe({},Cd,{dataTransfer:0}),XN=tn(YN),JN=Fe({},Pl,{relatedTarget:0}),Dh=tn(JN),ZN=Fe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),eT=tn(ZN),tT=Fe({},So,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nT=tn(tT),sT=Fe({},So,{data:0}),ox=tn(sT),iT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oT[t])?!!e[t]:!1}function yp(){return aT}var lT=Fe({},Pl,{key:function(t){if(t.key){var e=iT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cT=tn(lT),uT=Fe({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=tn(uT),dT=Fe({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),hT=tn(dT),fT=Fe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),mT=tn(fT),pT=Fe({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gT=tn(pT),xT=[9,13,27,32],vp=fs&&"CompositionEvent"in window,ka=null;fs&&"documentMode"in document&&(ka=document.documentMode);var yT=fs&&"TextEvent"in window&&!ka,H_=fs&&(!vp||ka&&8<ka&&11>=ka),lx=String.fromCharCode(32),cx=!1;function W_(t,e){switch(t){case"keyup":return xT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function vT(t,e){switch(t){case"compositionend":return G_(e);case"keypress":return e.which!==32?null:(cx=!0,lx);case"textInput":return t=e.data,t===lx&&cx?null:t;default:return null}}function bT(t,e){if(Dr)return t==="compositionend"||!vp&&W_(t,e)?(t=$_(),su=gp=$s=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H_&&e.locale!=="ko"?null:e.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_T[t.type]:e==="textarea"}function K_(t,e,n,s){N_(s),e=Ru(e,"onChange"),0<e.length&&(n=new xp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ca=null,Za=null;function wT(t){rw(t,0)}function jd(t){var e=Vr(t);if(y_(e))return t}function ET(t,e){if(t==="change")return e}var Q_=!1;if(fs){var Oh;if(fs){var Lh="oninput"in document;if(!Lh){var dx=document.createElement("div");dx.setAttribute("oninput","return;"),Lh=typeof dx.oninput=="function"}Oh=Lh}else Oh=!1;Q_=Oh&&(!document.documentMode||9<document.documentMode)}function hx(){Ca&&(Ca.detachEvent("onpropertychange",Y_),Za=Ca=null)}function Y_(t){if(t.propertyName==="value"&&jd(Za)){var e=[];K_(e,Za,t,dp(t)),C_(wT,e)}}function ST(t,e,n){t==="focusin"?(hx(),Ca=e,Za=n,Ca.attachEvent("onpropertychange",Y_)):t==="focusout"&&hx()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jd(Za)}function TT(t,e){if(t==="click")return jd(e)}function IT(t,e){if(t==="input"||t==="change")return jd(e)}function kT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:kT;function el(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!If.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function fx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mx(t,e){var n=fx(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fx(n)}}function X_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J_(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CT(t){var e=J_(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X_(n.ownerDocument.documentElement,n)){if(s!==null&&bp(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=mx(n,r);var o=mx(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jT=fs&&"documentMode"in document&&11>=document.documentMode,Or=null,Wf=null,ja=null,Gf=!1;function px(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gf||Or==null||Or!==Tu(s)||(s=Or,"selectionStart"in s&&bp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ja&&el(ja,s)||(ja=s,s=Ru(Wf,"onSelect"),0<s.length&&(e=new xp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Or)))}function wc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lr={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},Vh={},Z_={};fs&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ad(t){if(Vh[t])return Vh[t];if(!Lr[t])return t;var e=Lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z_)return Vh[t]=e[n];return t}var ew=Ad("animationend"),tw=Ad("animationiteration"),nw=Ad("animationstart"),sw=Ad("transitionend"),iw=new Map,gx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){iw.set(t,e),hr(e,[t])}for(var Fh=0;Fh<gx.length;Fh++){var zh=gx[Fh],AT=zh.toLowerCase(),PT=zh[0].toUpperCase()+zh.slice(1);bi(AT,"on"+PT)}bi(ew,"onAnimationEnd");bi(tw,"onAnimationIteration");bi(nw,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(sw,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function xx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,AN(s,e,void 0,t),t.currentTarget=null}function rw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;xx(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;xx(i,a,u),r=c}}}if(ku)throw t=Bf,ku=!1,Bf=null,t}function je(t,e){var n=e[Jf];n===void 0&&(n=e[Jf]=new Set);var s=t+"__bubble";n.has(s)||(ow(e,t,2,!1),n.add(s))}function Uh(t,e,n){var s=0;e&&(s|=4),ow(n,t,s,e)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[Ec]){t[Ec]=!0,f_.forEach(function(n){n!=="selectionchange"&&(RT.has(n)||Uh(n,!1,t),Uh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ec]||(e[Ec]=!0,Uh("selectionchange",!1,e))}}function ow(t,e,n,s){switch(q_(e)){case 1:var i=GN;break;case 4:i=KN;break;default:i=pp}n=i.bind(null,e,n,t),i=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bh(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}C_(function(){var u=r,h=dp(n),f=[];e:{var m=iw.get(t);if(m!==void 0){var x=xp,v=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":x=cT;break;case"focusin":v="focus",x=Dh;break;case"focusout":v="blur",x=Dh;break;case"beforeblur":case"afterblur":x=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=XN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=hT;break;case ew:case tw:case nw:x=eT;break;case sw:x=mT;break;case"scroll":x=QN;break;case"wheel":x=gT;break;case"copy":case"cut":case"paste":x=nT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ax}var b=(e&4)!==0,I=!b&&t==="scroll",y=b?m!==null?m+"Capture":null:m;b=[];for(var _=u,E;_!==null;){E=_;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,y!==null&&(A=Qa(_,y),A!=null&&b.push(nl(_,A,E)))),I)break;_=_.return}0<b.length&&(m=new x(m,v,null,n,h),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==Ff&&(v=n.relatedTarget||n.fromElement)&&(qi(v)||v[ms]))break e;if((x||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?qi(v):null,v!==null&&(I=fr(v),v!==I||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(b=rx,A="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=ax,A="onPointerLeave",y="onPointerEnter",_="pointer"),I=x==null?m:Vr(x),E=v==null?m:Vr(v),m=new b(A,_+"leave",x,n,h),m.target=I,m.relatedTarget=E,A=null,qi(h)===u&&(b=new b(y,_+"enter",v,n,h),b.target=E,b.relatedTarget=I,A=b),I=A,x&&v)t:{for(b=x,y=v,_=0,E=b;E;E=Tr(E))_++;for(E=0,A=y;A;A=Tr(A))E++;for(;0<_-E;)b=Tr(b),_--;for(;0<E-_;)y=Tr(y),E--;for(;_--;){if(b===y||y!==null&&b===y.alternate)break t;b=Tr(b),y=Tr(y)}b=null}else b=null;x!==null&&yx(f,m,x,b,!1),v!==null&&I!==null&&yx(f,I,v,b,!0)}}e:{if(m=u?Vr(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var R=ET;else if(ux(m))if(Q_)R=IT;else{R=NT;var M=ST}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=TT);if(R&&(R=R(t,u))){K_(f,R,n,h);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Mf(m,"number",m.value)}switch(M=u?Vr(u):window,t){case"focusin":(ux(M)||M.contentEditable==="true")&&(Or=M,Wf=u,ja=null);break;case"focusout":ja=Wf=Or=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,px(f,n,h);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":px(f,n,h)}var S;if(vp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Dr?W_(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(H_&&n.locale!=="ko"&&(Dr||w!=="onCompositionStart"?w==="onCompositionEnd"&&Dr&&(S=$_()):($s=h,gp="value"in $s?$s.value:$s.textContent,Dr=!0)),M=Ru(u,w),0<M.length&&(w=new ox(w,t,null,n,h),f.push({event:w,listeners:M}),S?w.data=S:(S=G_(n),S!==null&&(w.data=S)))),(S=yT?vT(t,n):bT(t,n))&&(u=Ru(u,"onBeforeInput"),0<u.length&&(h=new ox("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}rw(f,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Qa(t,n),r!=null&&s.unshift(nl(t,r,i)),r=Qa(t,e),r!=null&&s.push(nl(t,r,i))),t=t.return}return s}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yx(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=Qa(n,r),c!=null&&o.unshift(nl(n,c,a))):i||(c=Qa(n,r),c!=null&&o.push(nl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function vx(t){return(typeof t=="string"?t:""+t).replace(MT,`
`).replace(DT,"")}function Sc(t,e,n){if(e=vx(e),vx(t)!==e&&n)throw Error(B(425))}function Mu(){}var Kf=null,Qf=null;function Yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xf=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(t){return bx.resolve(null).then(t).catch(VT)}:Xf;function VT(t){setTimeout(function(){throw t})}function qh(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Ja(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Ja(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _x(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),Ln="__reactFiber$"+No,sl="__reactProps$"+No,ms="__reactContainer$"+No,Jf="__reactEvents$"+No,FT="__reactListeners$"+No,zT="__reactHandles$"+No;function qi(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ms]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_x(t);t!==null;){if(n=t[Ln])return n;t=_x(t)}return e}t=n,n=t.parentNode}return null}function Rl(t){return t=t[Ln]||t[ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Pd(t){return t[sl]||null}var Zf=[],Fr=-1;function _i(t){return{current:t}}function Pe(t){0>Fr||(t.current=Zf[Fr],Zf[Fr]=null,Fr--)}function ke(t,e){Fr++,Zf[Fr]=t.current,t.current=e}var hi={},It=_i(hi),Bt=_i(!1),Ji=hi;function ao(t,e){var n=t.type.contextTypes;if(!n)return hi;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function Du(){Pe(Bt),Pe(It)}function wx(t,e,n){if(It.current!==hi)throw Error(B(168));ke(It,e),ke(Bt,n)}function aw(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(B(108,SN(t)||"Unknown",i));return Fe({},n,s)}function Ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Ji=It.current,ke(It,t),ke(Bt,Bt.current),!0}function Ex(t,e,n){var s=t.stateNode;if(!s)throw Error(B(169));n?(t=aw(t,e,Ji),s.__reactInternalMemoizedMergedChildContext=t,Pe(Bt),Pe(It),ke(It,t)):Pe(Bt),ke(Bt,n)}var ss=null,Rd=!1,$h=!1;function lw(t){ss===null?ss=[t]:ss.push(t)}function UT(t){Rd=!0,lw(t)}function wi(){if(!$h&&ss!==null){$h=!0;var t=0,e=Ne;try{var n=ss;for(Ne=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}ss=null,Rd=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),R_(hp,wi),i}finally{Ne=e,$h=!1}}return null}var zr=[],Ur=0,Lu=null,Vu=0,rn=[],on=0,Zi=null,rs=1,os="";function Vi(t,e){zr[Ur++]=Vu,zr[Ur++]=Lu,Lu=t,Vu=e}function cw(t,e,n){rn[on++]=rs,rn[on++]=os,rn[on++]=Zi,Zi=t;var s=rs;t=os;var i=32-En(s)-1;s&=~(1<<i),n+=1;var r=32-En(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,rs=1<<32-En(e)+i|n<<i|s,os=r+t}else rs=1<<r|n<<i|s,os=t}function _p(t){t.return!==null&&(Vi(t,1),cw(t,1,0))}function wp(t){for(;t===Lu;)Lu=zr[--Ur],zr[Ur]=null,Vu=zr[--Ur],zr[Ur]=null;for(;t===Zi;)Zi=rn[--on],rn[on]=null,os=rn[--on],rn[on]=null,rs=rn[--on],rn[on]=null}var Xt=null,Yt=null,Re=!1,bn=null;function uw(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zi!==null?{id:rs,overflow:os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tm(t){if(Re){var e=Yt;if(e){var n=e;if(!Sx(t,e)){if(em(t))throw Error(B(418));e=ei(n.nextSibling);var s=Xt;e&&Sx(t,e)?uw(s,n):(t.flags=t.flags&-4097|2,Re=!1,Xt=t)}}else{if(em(t))throw Error(B(418));t.flags=t.flags&-4097|2,Re=!1,Xt=t}}}function Nx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Nc(t){if(t!==Xt)return!1;if(!Re)return Nx(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yf(t.type,t.memoizedProps)),e&&(e=Yt)){if(em(t))throw dw(),Error(B(418));for(;e;)uw(t,e),e=ei(e.nextSibling)}if(Nx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?ei(t.stateNode.nextSibling):null;return!0}function dw(){for(var t=Yt;t;)t=ei(t.nextSibling)}function lo(){Yt=Xt=null,Re=!1}function Ep(t){bn===null?bn=[t]:bn.push(t)}var BT=_s.ReactCurrentBatchConfig;function ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var s=n.stateNode}if(!s)throw Error(B(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Tc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tx(t){var e=t._init;return e(t._payload)}function hw(t){function e(y,_){if(t){var E=y.deletions;E===null?(y.deletions=[_],y.flags|=16):E.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function s(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=ii(y,_),y.index=0,y.sibling=null,y}function r(y,_,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<_?(y.flags|=2,_):E):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,E,A){return _===null||_.tag!==6?(_=Xh(E,y.mode,A),_.return=y,_):(_=i(_,E),_.return=y,_)}function c(y,_,E,A){var R=E.type;return R===Mr?h(y,_,E.props.children,A,E.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Os&&Tx(R)===_.type)?(A=i(_,E.props),A.ref=ta(y,_,E),A.return=y,A):(A=du(E.type,E.key,E.props,null,y.mode,A),A.ref=ta(y,_,E),A.return=y,A)}function u(y,_,E,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Jh(E,y.mode,A),_.return=y,_):(_=i(_,E.children||[]),_.return=y,_)}function h(y,_,E,A,R){return _===null||_.tag!==7?(_=Ki(E,y.mode,A,R),_.return=y,_):(_=i(_,E),_.return=y,_)}function f(y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Xh(""+_,y.mode,E),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pc:return E=du(_.type,_.key,_.props,null,y.mode,E),E.ref=ta(y,null,_),E.return=y,E;case Rr:return _=Jh(_,y.mode,E),_.return=y,_;case Os:var A=_._init;return f(y,A(_._payload),E)}if(ha(_)||Yo(_))return _=Ki(_,y.mode,E,null),_.return=y,_;Tc(y,_)}return null}function m(y,_,E,A){var R=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(y,_,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pc:return E.key===R?c(y,_,E,A):null;case Rr:return E.key===R?u(y,_,E,A):null;case Os:return R=E._init,m(y,_,R(E._payload),A)}if(ha(E)||Yo(E))return R!==null?null:h(y,_,E,A,null);Tc(y,E)}return null}function x(y,_,E,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return y=y.get(E)||null,a(_,y,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case pc:return y=y.get(A.key===null?E:A.key)||null,c(_,y,A,R);case Rr:return y=y.get(A.key===null?E:A.key)||null,u(_,y,A,R);case Os:var M=A._init;return x(y,_,E,M(A._payload),R)}if(ha(A)||Yo(A))return y=y.get(E)||null,h(_,y,A,R,null);Tc(_,A)}return null}function v(y,_,E,A){for(var R=null,M=null,S=_,w=_=0,k=null;S!==null&&w<E.length;w++){S.index>w?(k=S,S=null):k=S.sibling;var C=m(y,S,E[w],A);if(C===null){S===null&&(S=k);break}t&&S&&C.alternate===null&&e(y,S),_=r(C,_,w),M===null?R=C:M.sibling=C,M=C,S=k}if(w===E.length)return n(y,S),Re&&Vi(y,w),R;if(S===null){for(;w<E.length;w++)S=f(y,E[w],A),S!==null&&(_=r(S,_,w),M===null?R=S:M.sibling=S,M=S);return Re&&Vi(y,w),R}for(S=s(y,S);w<E.length;w++)k=x(S,y,w,E[w],A),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?w:k.key),_=r(k,_,w),M===null?R=k:M.sibling=k,M=k);return t&&S.forEach(function(T){return e(y,T)}),Re&&Vi(y,w),R}function b(y,_,E,A){var R=Yo(E);if(typeof R!="function")throw Error(B(150));if(E=R.call(E),E==null)throw Error(B(151));for(var M=R=null,S=_,w=_=0,k=null,C=E.next();S!==null&&!C.done;w++,C=E.next()){S.index>w?(k=S,S=null):k=S.sibling;var T=m(y,S,C.value,A);if(T===null){S===null&&(S=k);break}t&&S&&T.alternate===null&&e(y,S),_=r(T,_,w),M===null?R=T:M.sibling=T,M=T,S=k}if(C.done)return n(y,S),Re&&Vi(y,w),R;if(S===null){for(;!C.done;w++,C=E.next())C=f(y,C.value,A),C!==null&&(_=r(C,_,w),M===null?R=C:M.sibling=C,M=C);return Re&&Vi(y,w),R}for(S=s(y,S);!C.done;w++,C=E.next())C=x(S,y,w,C.value,A),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?w:C.key),_=r(C,_,w),M===null?R=C:M.sibling=C,M=C);return t&&S.forEach(function(P){return e(y,P)}),Re&&Vi(y,w),R}function I(y,_,E,A){if(typeof E=="object"&&E!==null&&E.type===Mr&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case pc:e:{for(var R=E.key,M=_;M!==null;){if(M.key===R){if(R=E.type,R===Mr){if(M.tag===7){n(y,M.sibling),_=i(M,E.props.children),_.return=y,y=_;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Os&&Tx(R)===M.type){n(y,M.sibling),_=i(M,E.props),_.ref=ta(y,M,E),_.return=y,y=_;break e}n(y,M);break}else e(y,M);M=M.sibling}E.type===Mr?(_=Ki(E.props.children,y.mode,A,E.key),_.return=y,y=_):(A=du(E.type,E.key,E.props,null,y.mode,A),A.ref=ta(y,_,E),A.return=y,y=A)}return o(y);case Rr:e:{for(M=E.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(y,_.sibling),_=i(_,E.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=Jh(E,y.mode,A),_.return=y,y=_}return o(y);case Os:return M=E._init,I(y,_,M(E._payload),A)}if(ha(E))return v(y,_,E,A);if(Yo(E))return b(y,_,E,A);Tc(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,E),_.return=y,y=_):(n(y,_),_=Xh(E,y.mode,A),_.return=y,y=_),o(y)):n(y,_)}return I}var co=hw(!0),fw=hw(!1),Fu=_i(null),zu=null,Br=null,Sp=null;function Np(){Sp=Br=zu=null}function Tp(t){var e=Fu.current;Pe(Fu),t._currentValue=e}function nm(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Xr(t,e){zu=t,Sp=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Sp!==t)if(t={context:t,memoizedValue:e,next:null},Br===null){if(zu===null)throw Error(B(308));Br=t,zu.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return e}var $i=null;function Ip(t){$i===null?$i=[t]:$i.push(t)}function mw(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Ip(e)):(n.next=i.next,i.next=n),e.interleaved=n,ps(t,s)}function ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ge&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,ps(t,n)}return i=s.interleaved,i===null?(e.next=e,Ip(s)):(e.next=i.next,i.next=e),s.interleaved=e,ps(t,n)}function ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,fp(t,n)}}function Ix(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uu(t,e,n,s){var i=t.updateQueue;Ls=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(r!==null){var f=i.baseState;o=0,h=u=c=null,a=r;do{var m=a.lane,x=a.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(m=e,x=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(x,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(x,f,m):v,m==null)break e;f=Fe({},f,m);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else x={eventTime:x,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=f):h=h.next=x,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);tr|=o,t.lanes=o,t.memoizedState=f}}function kx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(B(191,i));i.call(s)}}}var Ml={},zn=_i(Ml),il=_i(Ml),rl=_i(Ml);function Hi(t){if(t===Ml)throw Error(B(174));return t}function Cp(t,e){switch(ke(rl,e),ke(il,t),ke(zn,Ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Of(e,t)}Pe(zn),ke(zn,e)}function uo(){Pe(zn),Pe(il),Pe(rl)}function gw(t){Hi(rl.current);var e=Hi(zn.current),n=Of(e,t.type);e!==n&&(ke(il,t),ke(zn,n))}function jp(t){il.current===t&&(Pe(zn),Pe(il))}var Oe=_i(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hh=[];function Ap(){for(var t=0;t<Hh.length;t++)Hh[t]._workInProgressVersionPrimary=null;Hh.length=0}var ou=_s.ReactCurrentDispatcher,Wh=_s.ReactCurrentBatchConfig,er=0,Ve=null,nt=null,ct=null,qu=!1,Aa=!1,ol=0,qT=0;function bt(){throw Error(B(321))}function Pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Rp(t,e,n,s,i,r){if(er=r,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?GT:KT,t=n(s,i),Aa){r=0;do{if(Aa=!1,ol=0,25<=r)throw Error(B(301));r+=1,ct=nt=null,e.updateQueue=null,ou.current=QT,t=n(s,i)}while(Aa)}if(ou.current=$u,e=nt!==null&&nt.next!==null,er=0,ct=nt=Ve=null,qu=!1,e)throw Error(B(300));return t}function Mp(){var t=ol!==0;return ol=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ve.memoizedState=ct=t:ct=ct.next=t,ct}function mn(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ct===null?Ve.memoizedState:ct.next;if(e!==null)ct=e,nt=t;else{if(t===null)throw Error(B(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Ve.memoizedState=ct=t:ct=ct.next=t}return ct}function al(t,e){return typeof e=="function"?e(t):e}function Gh(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var s=nt,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var h=u.lane;if((er&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=s):c=c.next=f,Ve.lanes|=h,tr|=h}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,Nn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,Ve.lanes|=r,tr|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kh(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);Nn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function xw(){}function yw(t,e){var n=Ve,s=mn(),i=e(),r=!Nn(s.memoizedState,i);if(r&&(s.memoizedState=i,zt=!0),s=s.queue,Dp(_w.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,ll(9,bw.bind(null,n,s,i,e),void 0,null),ht===null)throw Error(B(349));er&30||vw(n,e,i)}return i}function vw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bw(t,e,n,s){e.value=n,e.getSnapshot=s,ww(e)&&Ew(t)}function _w(t,e,n){return n(function(){ww(e)&&Ew(t)})}function ww(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function Ew(t){var e=ps(t,1);e!==null&&Sn(e,t,1,-1)}function Cx(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=WT.bind(null,Ve,t),[e.memoizedState,t]}function ll(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Sw(){return mn().memoizedState}function au(t,e,n,s){var i=Mn();Ve.flags|=t,i.memoizedState=ll(1|e,n,void 0,s===void 0?null:s)}function Md(t,e,n,s){var i=mn();s=s===void 0?null:s;var r=void 0;if(nt!==null){var o=nt.memoizedState;if(r=o.destroy,s!==null&&Pp(s,o.deps)){i.memoizedState=ll(e,n,r,s);return}}Ve.flags|=t,i.memoizedState=ll(1|e,n,r,s)}function jx(t,e){return au(8390656,8,t,e)}function Dp(t,e){return Md(2048,8,t,e)}function Nw(t,e){return Md(4,2,t,e)}function Tw(t,e){return Md(4,4,t,e)}function Iw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kw(t,e,n){return n=n!=null?n.concat([t]):null,Md(4,4,Iw.bind(null,e,t),n)}function Op(){}function Cw(t,e){var n=mn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Pp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function jw(t,e){var n=mn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Pp(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Aw(t,e,n){return er&21?(Nn(n,e)||(n=O_(),Ve.lanes|=n,tr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function $T(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var s=Wh.transition;Wh.transition={};try{t(!1),e()}finally{Ne=n,Wh.transition=s}}function Pw(){return mn().memoizedState}function HT(t,e,n){var s=si(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Rw(t))Mw(e,n);else if(n=mw(t,e,n,s),n!==null){var i=At();Sn(n,t,s,i),Dw(n,e,s)}}function WT(t,e,n){var s=si(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rw(t))Mw(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o)){var c=e.interleaved;c===null?(i.next=i,Ip(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=mw(t,e,i,s),n!==null&&(i=At(),Sn(n,t,s,i),Dw(n,e,s))}}function Rw(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function Mw(t,e){Aa=qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dw(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,fp(t,n)}}var $u={readContext:fn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},GT={readContext:fn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:jx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,au(4194308,4,Iw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return au(4194308,4,t,e)},useInsertionEffect:function(t,e){return au(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Mn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=HT.bind(null,Ve,t),[s.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:Cx,useDebugValue:Op,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=Cx(!1),e=t[0];return t=$T.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Ve,i=Mn();if(Re){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ht===null)throw Error(B(349));er&30||vw(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,jx(_w.bind(null,s,r,t),[t]),s.flags|=2048,ll(9,bw.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Mn(),e=ht.identifierPrefix;if(Re){var n=os,s=rs;n=(s&~(1<<32-En(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KT={readContext:fn,useCallback:Cw,useContext:fn,useEffect:Dp,useImperativeHandle:kw,useInsertionEffect:Nw,useLayoutEffect:Tw,useMemo:jw,useReducer:Gh,useRef:Sw,useState:function(){return Gh(al)},useDebugValue:Op,useDeferredValue:function(t){var e=mn();return Aw(e,nt.memoizedState,t)},useTransition:function(){var t=Gh(al)[0],e=mn().memoizedState;return[t,e]},useMutableSource:xw,useSyncExternalStore:yw,useId:Pw,unstable_isNewReconciler:!1},QT={readContext:fn,useCallback:Cw,useContext:fn,useEffect:Dp,useImperativeHandle:kw,useInsertionEffect:Nw,useLayoutEffect:Tw,useMemo:jw,useReducer:Kh,useRef:Sw,useState:function(){return Kh(al)},useDebugValue:Op,useDeferredValue:function(t){var e=mn();return nt===null?e.memoizedState=t:Aw(e,nt.memoizedState,t)},useTransition:function(){var t=Kh(al)[0],e=mn().memoizedState;return[t,e]},useMutableSource:xw,useSyncExternalStore:yw,useId:Pw,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sm(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dd={isMounted:function(t){return(t=t._reactInternals)?fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=At(),i=si(t),r=us(s,i);r.payload=e,n!=null&&(r.callback=n),e=ti(t,r,i),e!==null&&(Sn(e,t,i,s),ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=At(),i=si(t),r=us(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=ti(t,r,i),e!==null&&(Sn(e,t,i,s),ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),s=si(t),i=us(n,s);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,s),e!==null&&(Sn(e,t,s,n),ru(e,t,s))}};function Ax(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!el(n,s)||!el(i,r):!0}function Ow(t,e,n){var s=!1,i=hi,r=e.contextType;return typeof r=="object"&&r!==null?r=fn(r):(i=qt(e)?Ji:It.current,s=e.contextTypes,r=(s=s!=null)?ao(t,i):hi),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dd,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Px(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Dd.enqueueReplaceState(e,e.state,null)}function im(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kp(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=fn(r):(r=qt(e)?Ji:It.current,i.context=ao(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(sm(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dd.enqueueReplaceState(i,i.state,null),Uu(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ho(t,e){try{var n="",s=e;do n+=EN(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YT=typeof WeakMap=="function"?WeakMap:Map;function Lw(t,e,n){n=us(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Wu||(Wu=!0,pm=s),rm(t,e)},n}function Vw(t,e,n){n=us(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){rm(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){rm(t,e),typeof s!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new YT;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=uI.bind(null,t,e,n),e.then(t,t))}function Mx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dx(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=us(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var XT=_s.ReactCurrentOwner,zt=!1;function jt(t,e,n,s){e.child=t===null?fw(e,null,n,s):co(e,t.child,n,s)}function Ox(t,e,n,s,i){n=n.render;var r=e.ref;return Xr(e,i),s=Rp(t,e,n,s,r,i),n=Mp(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gs(t,e,i)):(Re&&n&&_p(e),e.flags|=1,jt(t,e,s,i),e.child)}function Lx(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!$p(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Fw(t,e,r,s,i)):(t=du(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(o,s)&&t.ref===e.ref)return gs(t,e,i)}return e.flags|=1,t=ii(r,s),t.ref=e.ref,t.return=e,e.child=t}function Fw(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(el(r,s)&&t.ref===e.ref)if(zt=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,gs(t,e,i)}return om(t,e,n,s,i)}function zw(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke($r,Qt),Qt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke($r,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ke($r,Qt),Qt|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ke($r,Qt),Qt|=s;return jt(t,e,i,n),e.child}function Uw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function om(t,e,n,s,i){var r=qt(n)?Ji:It.current;return r=ao(e,r),Xr(e,i),n=Rp(t,e,n,s,r,i),s=Mp(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gs(t,e,i)):(Re&&s&&_p(e),e.flags|=1,jt(t,e,n,i),e.child)}function Vx(t,e,n,s,i){if(qt(n)){var r=!0;Ou(e)}else r=!1;if(Xr(e,i),e.stateNode===null)lu(t,e),Ow(e,n,s),im(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=qt(n)?Ji:It.current,u=ao(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Px(e,o,s,u),Ls=!1;var m=e.memoizedState;o.state=m,Uu(e,s,o,i),c=e.memoizedState,a!==s||m!==c||Bt.current||Ls?(typeof h=="function"&&(sm(e,n,h,s),c=e.memoizedState),(a=Ls||Ax(e,n,a,s,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,pw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=qt(n)?Ji:It.current,c=ao(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&Px(e,o,s,c),Ls=!1,m=e.memoizedState,o.state=m,Uu(e,s,o,i);var v=e.memoizedState;a!==f||m!==v||Bt.current||Ls?(typeof x=="function"&&(sm(e,n,x,s),v=e.memoizedState),(u=Ls||Ax(e,n,u,s,m,v,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return am(t,e,n,s,r,i)}function am(t,e,n,s,i,r){Uw(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Ex(e,n,!1),gs(t,e,r);s=e.stateNode,XT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=co(e,t.child,null,r),e.child=co(e,null,a,r)):jt(t,e,a,r),e.memoizedState=s.state,i&&Ex(e,n,!0),e.child}function Bw(t){var e=t.stateNode;e.pendingContext?wx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wx(t,e.context,!1),Cp(t,e.containerInfo)}function Fx(t,e,n,s,i){return lo(),Ep(i),e.flags|=256,jt(t,e,n,s),e.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function cm(t){return{baseLanes:t,cachePool:null,transitions:null}}function qw(t,e,n){var s=e.pendingProps,i=Oe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Oe,i&1),t===null)return tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Vd(o,s,0,null),t=Ki(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=cm(n),e.memoizedState=lm,t):Lp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JT(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=ii(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=ii(a,r):(r=Ki(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?cm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=lm,s}return r=t.child,t=r.sibling,s=ii(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Lp(t,e){return e=Vd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ic(t,e,n,s){return s!==null&&Ep(s),co(e,t.child,null,n),t=Lp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JT(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=Qh(Error(B(422))),Ic(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Vd({mode:"visible",children:s.children},i,0,null),r=Ki(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&co(e,t.child,null,o),e.child.memoizedState=cm(o),e.memoizedState=lm,r);if(!(e.mode&1))return Ic(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(B(419)),s=Qh(r,s,void 0),Ic(t,e,o,s)}if(a=(o&t.childLanes)!==0,zt||a){if(s=ht,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,ps(t,i),Sn(s,t,i,-1))}return qp(),s=Qh(Error(B(421))),Ic(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dI.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,Yt=ei(i.nextSibling),Xt=e,Re=!0,bn=null,t!==null&&(rn[on++]=rs,rn[on++]=os,rn[on++]=Zi,rs=t.id,os=t.overflow,Zi=e),e=Lp(e,s.children),e.flags|=4096,e)}function zx(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),nm(t.return,e,n)}function Yh(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function $w(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(jt(t,e,s.children,n),s=Oe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zx(t,n,e);else if(t.tag===19)zx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ke(Oe,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yh(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yh(e,!0,n,null,r);break;case"together":Yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZT(t,e,n){switch(e.tag){case 3:Bw(e),lo();break;case 5:gw(e);break;case 1:qt(e.type)&&Ou(e);break;case 4:Cp(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ke(Fu,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?qw(t,e,n):(ke(Oe,Oe.current&1),t=gs(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return $w(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Oe,Oe.current),s)break;return null;case 22:case 23:return e.lanes=0,zw(t,e,n)}return gs(t,e,n)}var Hw,um,Ww,Gw;Hw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};um=function(){};Ww=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Hi(zn.current);var r=null;switch(n){case"input":i=Pf(t,i),s=Pf(t,s),r=[];break;case"select":i=Fe({},i,{value:void 0}),s=Fe({},s,{value:void 0}),r=[];break;case"textarea":i=Df(t,i),s=Df(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Mu)}Lf(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ga.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",t),r||a===c||(r=[])):(r=r||[]).push(u,c))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};Gw=function(t,e,n,s){n!==s&&(e.flags|=4)};function na(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function eI(t,e,n){var s=e.pendingProps;switch(wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return qt(e.type)&&Du(),_t(e),null;case 3:return s=e.stateNode,uo(),Pe(Bt),Pe(It),Ap(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(ym(bn),bn=null))),um(t,e),_t(e),null;case 5:jp(e);var i=Hi(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)Ww(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=Hi(zn.current),Nc(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[Ln]=e,s[sl]=r,t=(e.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(i=0;i<ma.length;i++)je(ma[i],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":Q0(s,r),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},je("invalid",s);break;case"textarea":X0(s,r),je("invalid",s)}Lf(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Sc(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Sc(s.textContent,a,t),i=["children",""+a]):Ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",s)}switch(n){case"input":gc(s),Y0(s,r,!0);break;case"textarea":gc(s),J0(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Mu)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=__(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Ln]=e,t[sl]=s,Hw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vf(n,s),n){case"dialog":je("cancel",t),je("close",t),i=s;break;case"iframe":case"object":case"embed":je("load",t),i=s;break;case"video":case"audio":for(i=0;i<ma.length;i++)je(ma[i],t);i=s;break;case"source":je("error",t),i=s;break;case"img":case"image":case"link":je("error",t),je("load",t),i=s;break;case"details":je("toggle",t),i=s;break;case"input":Q0(t,s),i=Pf(t,s),je("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=Fe({},s,{value:void 0}),je("invalid",t);break;case"textarea":X0(t,s),i=Df(t,s),je("invalid",t);break;default:i=s}Lf(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?S_(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&w_(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ka(t,c):typeof c=="number"&&Ka(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ga.hasOwnProperty(r)?c!=null&&r==="onScroll"&&je("scroll",t):c!=null&&ap(t,r,c,o))}switch(n){case"input":gc(t),Y0(t,s,!1);break;case"textarea":gc(t),J0(t);break;case"option":s.value!=null&&t.setAttribute("value",""+di(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Gr(t,!!s.multiple,r,!1):s.defaultValue!=null&&Gr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)Gw(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(B(166));if(n=Hi(rl.current),Hi(zn.current),Nc(e)){if(s=e.stateNode,n=e.memoizedProps,s[Ln]=e,(r=s.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Sc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sc(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ln]=e,e.stateNode=s}return _t(e),null;case 13:if(Pe(Oe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Yt!==null&&e.mode&1&&!(e.flags&128))dw(),lo(),e.flags|=98560,r=!1;else if(r=Nc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(B(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(B(317));r[Ln]=e}else lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),r=!1}else bn!==null&&(ym(bn),bn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?it===0&&(it=3):qp())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return uo(),um(t,e),t===null&&tl(e.stateNode.containerInfo),_t(e),null;case 10:return Tp(e.type._context),_t(e),null;case 17:return qt(e.type)&&Du(),_t(e),null;case 19:if(Pe(Oe),r=e.memoizedState,r===null)return _t(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)na(r,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bu(t),o!==null){for(e.flags|=128,na(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ge()>fo&&(e.flags|=128,s=!0,na(r,!1),e.lanes=4194304)}else{if(!s)if(t=Bu(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),na(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Re)return _t(e),null}else 2*Ge()-r.renderingStartTime>fo&&n!==1073741824&&(e.flags|=128,s=!0,na(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ge(),e.sibling=null,n=Oe.current,ke(Oe,s?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Bp(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Qt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function tI(t,e){switch(wp(e),e.tag){case 1:return qt(e.type)&&Du(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uo(),Pe(Bt),Pe(It),Ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jp(e),null;case 13:if(Pe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Oe),null;case 4:return uo(),null;case 10:return Tp(e.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var kc=!1,Nt=!1,nI=typeof WeakSet=="function"?WeakSet:Set,K=null;function qr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){qe(t,e,s)}else n.current=null}function dm(t,e,n){try{n()}catch(s){qe(t,e,s)}}var Ux=!1;function sI(t,e){if(Kf=Au,t=J_(),bp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var x;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==r||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===t)break t;if(m===n&&++u===i&&(a=o),m===r&&++h===s&&(c=o),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:t,selectionRange:n},Au=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,I=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:yn(e.type,b),I);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(A){qe(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return v=Ux,Ux=!1,v}function Pa(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&dm(e,n,r)}i=i.next}while(i!==s)}}function Od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function hm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kw(t){var e=t.alternate;e!==null&&(t.alternate=null,Kw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[sl],delete e[Jf],delete e[FT],delete e[zT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qw(t){return t.tag===5||t.tag===3||t.tag===4}function Bx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mu));else if(s!==4&&(t=t.child,t!==null))for(fm(t,e,n),t=t.sibling;t!==null;)fm(t,e,n),t=t.sibling}function mm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(mm(t,e,n),t=t.sibling;t!==null;)mm(t,e,n),t=t.sibling}var ft=null,vn=!1;function Ps(t,e,n){for(n=n.child;n!==null;)Yw(t,e,n),n=n.sibling}function Yw(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:Nt||qr(n,e);case 6:var s=ft,i=vn;ft=null,Ps(t,e,n),ft=s,vn=i,ft!==null&&(vn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(vn?(t=ft,n=n.stateNode,t.nodeType===8?qh(t.parentNode,n):t.nodeType===1&&qh(t,n),Ja(t)):qh(ft,n.stateNode));break;case 4:s=ft,i=vn,ft=n.stateNode.containerInfo,vn=!0,Ps(t,e,n),ft=s,vn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&dm(n,e,o),i=i.next}while(i!==s)}Ps(t,e,n);break;case 1:if(!Nt&&(qr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){qe(n,e,a)}Ps(t,e,n);break;case 21:Ps(t,e,n);break;case 22:n.mode&1?(Nt=(s=Nt)||n.memoizedState!==null,Ps(t,e,n),Nt=s):Ps(t,e,n);break;default:Ps(t,e,n)}}function qx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nI),e.forEach(function(s){var i=hI.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,vn=!1;break e;case 3:ft=a.stateNode.containerInfo,vn=!0;break e;case 4:ft=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(ft===null)throw Error(B(160));Yw(r,o,i),ft=null,vn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xw(e,t),e=e.sibling}function Xw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Pn(t),s&4){try{Pa(3,t,t.return),Od(3,t)}catch(b){qe(t,t.return,b)}try{Pa(5,t,t.return)}catch(b){qe(t,t.return,b)}}break;case 1:xn(e,t),Pn(t),s&512&&n!==null&&qr(n,n.return);break;case 5:if(xn(e,t),Pn(t),s&512&&n!==null&&qr(n,n.return),t.flags&32){var i=t.stateNode;try{Ka(i,"")}catch(b){qe(t,t.return,b)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&v_(i,r),Vf(a,o);var u=Vf(a,r);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?S_(i,f):h==="dangerouslySetInnerHTML"?w_(i,f):h==="children"?Ka(i,f):ap(i,h,f,u)}switch(a){case"input":Rf(i,r);break;case"textarea":b_(i,r);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var x=r.value;x!=null?Gr(i,!!r.multiple,x,!1):m!==!!r.multiple&&(r.defaultValue!=null?Gr(i,!!r.multiple,r.defaultValue,!0):Gr(i,!!r.multiple,r.multiple?[]:"",!1))}i[sl]=r}catch(b){qe(t,t.return,b)}}break;case 6:if(xn(e,t),Pn(t),s&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(b){qe(t,t.return,b)}}break;case 3:if(xn(e,t),Pn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ja(e.containerInfo)}catch(b){qe(t,t.return,b)}break;case 4:xn(e,t),Pn(t);break;case 13:xn(e,t),Pn(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(zp=Ge())),s&4&&qx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||h,xn(e,t),Nt=u):xn(e,t),Pn(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(m=K,x=m.child,m.tag){case 0:case 11:case 14:case 15:Pa(4,m,m.return);break;case 1:qr(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){s=m,n=m.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){qe(s,n,b)}}break;case 5:qr(m,m.return);break;case 22:if(m.memoizedState!==null){Hx(f);continue}}x!==null?(x.return=m,K=x):Hx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=E_("display",o))}catch(b){qe(t,t.return,b)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){qe(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(e,t),Pn(t),s&4&&qx(t);break;case 21:break;default:xn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qw(n)){var s=n;break e}n=n.return}throw Error(B(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ka(i,""),s.flags&=-33);var r=Bx(t);mm(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Bx(t);fm(t,a,o);break;default:throw Error(B(161))}}catch(c){qe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iI(t,e,n){K=t,Jw(t)}function Jw(t,e,n){for(var s=(t.mode&1)!==0;K!==null;){var i=K,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||kc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Nt;a=kc;var u=Nt;if(kc=o,(Nt=c)&&!u)for(K=i;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?Wx(i):c!==null?(c.return=o,K=c):Wx(i);for(;r!==null;)K=r,Jw(r),r=r.sibling;K=i,kc=a,Nt=u}$x(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,K=r):$x(t)}}function $x(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||Od(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Nt)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&kx(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ja(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Nt||e.flags&512&&hm(e)}catch(m){qe(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Hx(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Wx(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Od(4,e)}catch(c){qe(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){qe(e,i,c)}}var r=e.return;try{hm(e)}catch(c){qe(e,r,c)}break;case 5:var o=e.return;try{hm(e)}catch(c){qe(e,o,c)}}}catch(c){qe(e,e.return,c)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var rI=Math.ceil,Hu=_s.ReactCurrentDispatcher,Vp=_s.ReactCurrentOwner,hn=_s.ReactCurrentBatchConfig,ge=0,ht=null,Xe=null,gt=0,Qt=0,$r=_i(0),it=0,cl=null,tr=0,Ld=0,Fp=0,Ra=null,Vt=null,zp=0,fo=1/0,ns=null,Wu=!1,pm=null,ni=null,Cc=!1,Hs=null,Gu=0,Ma=0,gm=null,cu=-1,uu=0;function At(){return ge&6?Ge():cu!==-1?cu:cu=Ge()}function si(t){return t.mode&1?ge&2&&gt!==0?gt&-gt:BT.transition!==null?(uu===0&&(uu=O_()),uu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:q_(t.type)),t):1}function Sn(t,e,n,s){if(50<Ma)throw Ma=0,gm=null,Error(B(185));Al(t,n,s),(!(ge&2)||t!==ht)&&(t===ht&&(!(ge&2)&&(Ld|=n),it===4&&Fs(t,gt)),$t(t,s),n===1&&ge===0&&!(e.mode&1)&&(fo=Ge()+500,Rd&&wi()))}function $t(t,e){var n=t.callbackNode;BN(t,e);var s=ju(t,t===ht?gt:0);if(s===0)n!==null&&tx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&tx(n),e===1)t.tag===0?UT(Gx.bind(null,t)):lw(Gx.bind(null,t)),LT(function(){!(ge&6)&&wi()}),n=null;else{switch(L_(s)){case 1:n=hp;break;case 4:n=M_;break;case 16:n=Cu;break;case 536870912:n=D_;break;default:n=Cu}n=o1(n,Zw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zw(t,e){if(cu=-1,uu=0,ge&6)throw Error(B(327));var n=t.callbackNode;if(Jr()&&t.callbackNode!==n)return null;var s=ju(t,t===ht?gt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Ku(t,s);else{e=s;var i=ge;ge|=2;var r=t1();(ht!==t||gt!==e)&&(ns=null,fo=Ge()+500,Gi(t,e));do try{lI();break}catch(a){e1(t,a)}while(1);Np(),Hu.current=r,ge=i,Xe!==null?e=0:(ht=null,gt=0,e=it)}if(e!==0){if(e===2&&(i=qf(t),i!==0&&(s=i,e=xm(t,i))),e===1)throw n=cl,Gi(t,0),Fs(t,s),$t(t,Ge()),n;if(e===6)Fs(t,s);else{if(i=t.current.alternate,!(s&30)&&!oI(i)&&(e=Ku(t,s),e===2&&(r=qf(t),r!==0&&(s=r,e=xm(t,r))),e===1))throw n=cl,Gi(t,0),Fs(t,s),$t(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(B(345));case 2:Fi(t,Vt,ns);break;case 3:if(Fs(t,s),(s&130023424)===s&&(e=zp+500-Ge(),10<e)){if(ju(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){At(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xf(Fi.bind(null,t,Vt,ns),e);break}Fi(t,Vt,ns);break;case 4:if(Fs(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-En(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=Ge()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*rI(s/1960))-s,10<s){t.timeoutHandle=Xf(Fi.bind(null,t,Vt,ns),s);break}Fi(t,Vt,ns);break;case 5:Fi(t,Vt,ns);break;default:throw Error(B(329))}}}return $t(t,Ge()),t.callbackNode===n?Zw.bind(null,t):null}function xm(t,e){var n=Ra;return t.current.memoizedState.isDehydrated&&(Gi(t,e).flags|=256),t=Ku(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&ym(e)),t}function ym(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function oI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Nn(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~Fp,e&=~Ld,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),s=1<<n;t[n]=-1,e&=~s}}function Gx(t){if(ge&6)throw Error(B(327));Jr();var e=ju(t,0);if(!(e&1))return $t(t,Ge()),null;var n=Ku(t,e);if(t.tag!==0&&n===2){var s=qf(t);s!==0&&(e=s,n=xm(t,s))}if(n===1)throw n=cl,Gi(t,0),Fs(t,e),$t(t,Ge()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,Vt,ns),$t(t,Ge()),null}function Up(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(fo=Ge()+500,Rd&&wi())}}function nr(t){Hs!==null&&Hs.tag===0&&!(ge&6)&&Jr();var e=ge;ge|=1;var n=hn.transition,s=Ne;try{if(hn.transition=null,Ne=1,t)return t()}finally{Ne=s,hn.transition=n,ge=e,!(ge&6)&&wi()}}function Bp(){Qt=$r.current,Pe($r)}function Gi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OT(n)),Xe!==null)for(n=Xe.return;n!==null;){var s=n;switch(wp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Du();break;case 3:uo(),Pe(Bt),Pe(It),Ap();break;case 5:jp(s);break;case 4:uo();break;case 13:Pe(Oe);break;case 19:Pe(Oe);break;case 10:Tp(s.type._context);break;case 22:case 23:Bp()}n=n.return}if(ht=t,Xe=t=ii(t.current,null),gt=Qt=e,it=0,cl=null,Fp=Ld=tr=0,Vt=Ra=null,$i!==null){for(e=0;e<$i.length;e++)if(n=$i[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}$i=null}return t}function e1(t,e){do{var n=Xe;try{if(Np(),ou.current=$u,qu){for(var s=Ve.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}qu=!1}if(er=0,ct=nt=Ve=null,Aa=!1,ol=0,Vp.current=null,n===null||n.return===null){it=1,cl=e,Xe=null;break}e:{var r=t,o=n.return,a=n,c=e;if(e=gt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Mx(o);if(x!==null){x.flags&=-257,Dx(x,o,a,r,e),x.mode&1&&Rx(r,u,e),e=x,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){Rx(r,u,e),qp();break e}c=Error(B(426))}}else if(Re&&a.mode&1){var I=Mx(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Dx(I,o,a,r,e),Ep(ho(c,a));break e}}r=c=ho(c,a),it!==4&&(it=2),Ra===null?Ra=[r]:Ra.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=Lw(r,c,e);Ix(r,y);break e;case 1:a=c;var _=r.type,E=r.stateNode;if(!(r.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ni===null||!ni.has(E)))){r.flags|=65536,e&=-e,r.lanes|=e;var A=Vw(r,a,e);Ix(r,A);break e}}r=r.return}while(r!==null)}s1(n)}catch(R){e=R,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(1)}function t1(){var t=Hu.current;return Hu.current=$u,t===null?$u:t}function qp(){(it===0||it===3||it===2)&&(it=4),ht===null||!(tr&268435455)&&!(Ld&268435455)||Fs(ht,gt)}function Ku(t,e){var n=ge;ge|=2;var s=t1();(ht!==t||gt!==e)&&(ns=null,Gi(t,e));do try{aI();break}catch(i){e1(t,i)}while(1);if(Np(),ge=n,Hu.current=s,Xe!==null)throw Error(B(261));return ht=null,gt=0,it}function aI(){for(;Xe!==null;)n1(Xe)}function lI(){for(;Xe!==null&&!RN();)n1(Xe)}function n1(t){var e=r1(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?s1(t):Xe=e,Vp.current=null}function s1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tI(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Xe=null;return}}else if(n=eI(n,e,Qt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);it===0&&(it=5)}function Fi(t,e,n){var s=Ne,i=hn.transition;try{hn.transition=null,Ne=1,cI(t,e,n,s)}finally{hn.transition=i,Ne=s}return null}function cI(t,e,n,s){do Jr();while(Hs!==null);if(ge&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(qN(t,r),t===ht&&(Xe=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cc||(Cc=!0,o1(Cu,function(){return Jr(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=hn.transition,hn.transition=null;var o=Ne;Ne=1;var a=ge;ge|=4,Vp.current=null,sI(t,n),Xw(n,t),CT(Qf),Au=!!Kf,Qf=Kf=null,t.current=n,iI(n),MN(),ge=a,Ne=o,hn.transition=r}else t.current=n;if(Cc&&(Cc=!1,Hs=t,Gu=i),r=t.pendingLanes,r===0&&(ni=null),LN(n.stateNode),$t(t,Ge()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,t=pm,pm=null,t;return Gu&1&&t.tag!==0&&Jr(),r=t.pendingLanes,r&1?t===gm?Ma++:(Ma=0,gm=t):Ma=0,wi(),null}function Jr(){if(Hs!==null){var t=L_(Gu),e=hn.transition,n=Ne;try{if(hn.transition=null,Ne=16>t?16:t,Hs===null)var s=!1;else{if(t=Hs,Hs=null,Gu=0,ge&6)throw Error(B(331));var i=ge;for(ge|=4,K=t.current;K!==null;){var r=K,o=r.child;if(K.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Pa(8,h,r)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var m=h.sibling,x=h.return;if(Kw(h),h===u){K=null;break}if(m!==null){m.return=x,K=m;break}K=x}}}var v=r.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var I=b.sibling;b.sibling=null,b=I}while(b!==null)}}K=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,K=o;else e:for(;K!==null;){if(r=K,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Pa(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,K=y;break e}K=r.return}}var _=t.current;for(K=_;K!==null;){o=K;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,K=E;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Od(9,a)}}catch(R){qe(a,a.return,R)}if(a===o){K=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,K=A;break e}K=a.return}}if(ge=i,wi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(kd,t)}catch{}s=!0}return s}finally{Ne=n,hn.transition=e}}return!1}function Kx(t,e,n){e=ho(n,e),e=Lw(t,e,1),t=ti(t,e,1),e=At(),t!==null&&(Al(t,1,e),$t(t,e))}function qe(t,e,n){if(t.tag===3)Kx(t,t,n);else for(;e!==null;){if(e.tag===3){Kx(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))){t=ho(n,t),t=Vw(e,t,1),e=ti(e,t,1),t=At(),e!==null&&(Al(e,1,t),$t(e,t));break}}e=e.return}}function uI(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(gt&n)===n&&(it===4||it===3&&(gt&130023424)===gt&&500>Ge()-zp?Gi(t,0):Fp|=n),$t(t,e)}function i1(t,e){e===0&&(t.mode&1?(e=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):e=1);var n=At();t=ps(t,e),t!==null&&(Al(t,e,n),$t(t,n))}function dI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i1(t,n)}function hI(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(B(314))}s!==null&&s.delete(e),i1(t,n)}var r1;r1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,ZT(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Re&&e.flags&1048576&&cw(e,Vu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;lu(t,e),t=e.pendingProps;var i=ao(e,It.current);Xr(e,n),i=Rp(null,e,s,t,i,n);var r=Mp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(s)?(r=!0,Ou(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kp(e),i.updater=Dd,e.stateNode=i,i._reactInternals=e,im(e,s,t,n),e=am(null,e,s,!0,r,n)):(e.tag=0,Re&&r&&_p(e),jt(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(lu(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=mI(s),t=yn(s,t),i){case 0:e=om(null,e,s,t,n);break e;case 1:e=Vx(null,e,s,t,n);break e;case 11:e=Ox(null,e,s,t,n);break e;case 14:e=Lx(null,e,s,yn(s.type,t),n);break e}throw Error(B(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),om(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),Vx(t,e,s,i,n);case 3:e:{if(Bw(e),t===null)throw Error(B(387));s=e.pendingProps,r=e.memoizedState,i=r.element,pw(t,e),Uu(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=ho(Error(B(423)),e),e=Fx(t,e,s,n,i);break e}else if(s!==i){i=ho(Error(B(424)),e),e=Fx(t,e,s,n,i);break e}else for(Yt=ei(e.stateNode.containerInfo.firstChild),Xt=e,Re=!0,bn=null,n=fw(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),s===i){e=gs(t,e,n);break e}jt(t,e,s,n)}e=e.child}return e;case 5:return gw(e),t===null&&tm(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,Yf(s,i)?o=null:r!==null&&Yf(s,r)&&(e.flags|=32),Uw(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&tm(e),null;case 13:return qw(t,e,n);case 4:return Cp(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=co(e,null,s,n):jt(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),Ox(t,e,s,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ke(Fu,s._currentValue),s._currentValue=o,r!==null)if(Nn(r.value,o)){if(r.children===i.children&&!Bt.current){e=gs(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=us(-1,n&-n),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),nm(r.return,n,e),a.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nm(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Xr(e,n),i=fn(i),s=s(i),e.flags|=1,jt(t,e,s,n),e.child;case 14:return s=e.type,i=yn(s,e.pendingProps),i=yn(s.type,i),Lx(t,e,s,i,n);case 15:return Fw(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yn(s,i),lu(t,e),e.tag=1,qt(s)?(t=!0,Ou(e)):t=!1,Xr(e,n),Ow(e,s,i),im(e,s,i,n),am(null,e,s,!0,t,n);case 19:return $w(t,e,n);case 22:return zw(t,e,n)}throw Error(B(156,e.tag))};function o1(t,e){return R_(t,e)}function fI(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,s){return new fI(t,e,n,s)}function $p(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mI(t){if(typeof t=="function")return $p(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cp)return 11;if(t===up)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function du(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")$p(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mr:return Ki(n.children,i,r,e);case lp:o=8,i|=8;break;case kf:return t=un(12,n,e,i|2),t.elementType=kf,t.lanes=r,t;case Cf:return t=un(13,n,e,i),t.elementType=Cf,t.lanes=r,t;case jf:return t=un(19,n,e,i),t.elementType=jf,t.lanes=r,t;case g_:return Vd(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m_:o=10;break e;case p_:o=9;break e;case cp:o=11;break e;case up:o=14;break e;case Os:o=16,s=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=un(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Ki(t,e,n,s){return t=un(7,t,s,e),t.lanes=n,t}function Vd(t,e,n,s){return t=un(22,t,s,e),t.elementType=g_,t.lanes=n,t.stateNode={isHidden:!1},t}function Xh(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function Jh(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pI(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ph(0),this.expirationTimes=Ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hp(t,e,n,s,i,r,o,a,c){return t=new pI(t,e,n,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=un(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(r),t}function gI(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function a1(t){if(!t)return hi;t=t._reactInternals;e:{if(fr(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(qt(n))return aw(t,n,e)}return e}function l1(t,e,n,s,i,r,o,a,c){return t=Hp(n,s,!0,t,i,r,o,a,c),t.context=a1(null),n=t.current,s=At(),i=si(n),r=us(s,i),r.callback=e??null,ti(n,r,i),t.current.lanes=i,Al(t,i,s),$t(t,s),t}function Fd(t,e,n,s){var i=e.current,r=At(),o=si(i);return n=a1(n),e.context===null?e.context=n:e.pendingContext=n,e=us(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=ti(i,e,o),t!==null&&(Sn(t,i,o,r),ru(t,i,o)),o}function Qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wp(t,e){Qx(t,e),(t=t.alternate)&&Qx(t,e)}function xI(){return null}var c1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gp(t){this._internalRoot=t}zd.prototype.render=Gp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Fd(t,e,null,null)};zd.prototype.unmount=Gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nr(function(){Fd(null,t,null,null)}),e[ms]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=z_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vs.length&&e!==0&&e<Vs[n].priority;n++);Vs.splice(n,0,t),n===0&&B_(t)}};function Kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yx(){}function yI(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=Qu(o);r.call(u)}}var o=l1(e,s,t,0,null,!1,!1,"",Yx);return t._reactRootContainer=o,t[ms]=o.current,tl(t.nodeType===8?t.parentNode:t),nr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=Qu(c);a.call(u)}}var c=Hp(t,0,!1,null,null,!1,!1,"",Yx);return t._reactRootContainer=c,t[ms]=c.current,tl(t.nodeType===8?t.parentNode:t),nr(function(){Fd(e,c,n,s)}),c}function Bd(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=Qu(o);a.call(c)}}Fd(e,o,t,i)}else o=yI(n,e,t,i,s);return Qu(o)}V_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fa(e.pendingLanes);n!==0&&(fp(e,n|1),$t(e,Ge()),!(ge&6)&&(fo=Ge()+500,wi()))}break;case 13:nr(function(){var s=ps(t,1);if(s!==null){var i=At();Sn(s,t,1,i)}}),Wp(t,1)}};mp=function(t){if(t.tag===13){var e=ps(t,134217728);if(e!==null){var n=At();Sn(e,t,134217728,n)}Wp(t,134217728)}};F_=function(t){if(t.tag===13){var e=si(t),n=ps(t,e);if(n!==null){var s=At();Sn(n,t,e,s)}Wp(t,e)}};z_=function(){return Ne};U_=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};zf=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Pd(s);if(!i)throw Error(B(90));y_(s),Rf(s,i)}}}break;case"textarea":b_(t,n);break;case"select":e=n.value,e!=null&&Gr(t,!!n.multiple,e,!1)}};I_=Up;k_=nr;var vI={usingClientEntryPoint:!1,Events:[Rl,Vr,Pd,N_,T_,Up]},sa={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bI={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A_(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||xI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{kd=jc.inject(bI),Fn=jc}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kp(e))throw Error(B(200));return gI(t,e,null,n)};en.createRoot=function(t,e){if(!Kp(t))throw Error(B(299));var n=!1,s="",i=c1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hp(t,1,!1,null,null,n,!1,s,i),t[ms]=e.current,tl(t.nodeType===8?t.parentNode:t),new Gp(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=A_(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return nr(t)};en.hydrate=function(t,e,n){if(!Ud(e))throw Error(B(200));return Bd(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Kp(t))throw Error(B(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=c1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=l1(e,null,t,1,n??null,i,!1,r,o),t[ms]=e.current,tl(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zd(e)};en.render=function(t,e,n){if(!Ud(e))throw Error(B(200));return Bd(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(B(40));return t._reactRootContainer?(nr(function(){Bd(null,null,t,!1,function(){t._reactRootContainer=null,t[ms]=null})}),!0):!1};en.unstable_batchedUpdates=Up;en.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Ud(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Bd(t,e,n,!1,s)};en.version="18.3.1-next-f1338f8080-20240426";function u1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u1)}catch(t){console.error(t)}}u1(),u_.exports=en;var _I=u_.exports,Xx=_I;Tf.createRoot=Xx.createRoot,Tf.hydrateRoot=Xx.hydrateRoot;var wI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SI=(t,e)=>{const n=F.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,children:a,...c},u)=>F.createElement("svg",{ref:u,...wI,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:`lucide lucide-${EI(t)}`,...c},[...e.map(([h,f])=>F.createElement(h,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var Ze=SI;const d1=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jx=Ze("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),NI=Ze("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),TI=Ze("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),II=Ze("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),ia=Ze("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),kI=Ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),CI=Ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zx=Ze("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),jI=Ze("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),ey=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),AI=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),PI=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ty=Ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ac=Ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),RI=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),MI=Ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),ny=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),DI=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),OI=Ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),LI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},f1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=r>>2,f=(r&3)<<4|a>>4;let m=(a&15)<<2|u>>6,x=u&63;c||(x=64,o||(m=64)),s.push(n[h],n[f],n[m],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||u==null||f==null)throw new FI;const m=r<<2|a>>4;if(s.push(m),u!==64){const x=a<<4&240|u>>2;if(s.push(x),f!==64){const v=u<<6&192|f;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zI=function(t){const e=h1(t);return f1.encodeByteArray(e,!0)},Yu=function(t){return zI(t).replace(/\./g,"")},m1=function(t){try{return f1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=()=>UI().__FIREBASE_DEFAULTS__,qI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&m1(t[1]);return e&&JSON.parse(e)},qd=()=>{try{return LI()||BI()||qI()||$I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p1=t=>{var e,n;return(n=(e=qd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},HI=t=>{const e=p1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},g1=()=>{var t;return(t=qd())==null?void 0:t.config},x1=t=>{var e;return(e=qd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Yu(JSON.stringify(n)),Yu(JSON.stringify(o)),a].join(".")}const Da={};function KI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Da))Da[e]?t.emulator.push(e):t.prod.push(e);return t}function QI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sy=!1;function v1(t,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Da[t]===e||Da[t]||sy)return;Da[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",r=KI().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,x){m.setAttribute("width","24"),m.setAttribute("id",x),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{sy=!0,o()},m}function h(m,x){m.setAttribute("id",x),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=QI(s),x=n("text"),v=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),I=document.getElementById(b)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),h(I,b);const A=u();c(_,y),E.append(_,v,I,A),document.body.appendChild(E)}r?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function XI(){var e;const t=(e=qd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ek(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tk(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nk(){return!XI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sk(){try{return typeof indexedDB=="object"}catch{return!1}}function ik(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="FirebaseError";class ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rk,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?ok(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ws(i,a,s)}}function ok(t,e){return t.replace(ak,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const ak=/\{\$([^}]+)}/g;function lk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(iy(r)&&iy(o)){if(!sr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function iy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function ga(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ck(t,e){const n=new uk(t,e);return n.subscribe.bind(n)}class uk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Zh),i.error===void 0&&(i.error=Zh),i.complete===void 0&&(i.complete=Zh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class ir{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new WI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mk(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fk(t){return t===zi?void 0:t}function mk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const gk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},xk=he.INFO,yk={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},vk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=yk[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=xk,this._logHandler=vk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const bk=(t,e)=>e.some(n=>t instanceof n);let ry,oy;function _k(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wk(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,vm=new WeakMap,_1=new WeakMap,ef=new WeakMap,Yp=new WeakMap;function Ek(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(ri(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b1.set(n,t)}).catch(()=>{}),Yp.set(e,t),e}function Sk(t){if(vm.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});vm.set(t,e)}let bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nk(t){bm=t(bm)}function Tk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(tf(this),e,...n);return _1.set(s,e.sort?e.sort():[e]),ri(s)}:wk().includes(t)?function(...e){return t.apply(tf(this),e),ri(b1.get(this))}:function(...e){return ri(t.apply(tf(this),e))}}function Ik(t){return typeof t=="function"?Tk(t):(t instanceof IDBTransaction&&Sk(t),bk(t,_k())?new Proxy(t,bm):t)}function ri(t){if(t instanceof IDBRequest)return Ek(t);if(ef.has(t))return ef.get(t);const e=Ik(t);return e!==t&&(ef.set(t,e),Yp.set(e,t)),e}const tf=t=>Yp.get(t);function kk(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=ri(o);return s&&o.addEventListener("upgradeneeded",c=>{s(ri(o.result),c.oldVersion,c.newVersion,ri(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Ck=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],nf=new Map;function ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nf.get(e))return nf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=jk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Ck.includes(n)))return;const r=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return nf.set(e,r),r}Nk(t=>({...t,get:(e,n,s)=>ay(e,n)||t.get(e,n,s),has:(e,n)=>!!ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Pk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",ly="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Qp("@firebase/app"),Rk="@firebase/app-compat",Mk="@firebase/analytics-compat",Dk="@firebase/analytics",Ok="@firebase/app-check-compat",Lk="@firebase/app-check",Vk="@firebase/auth",Fk="@firebase/auth-compat",zk="@firebase/database",Uk="@firebase/data-connect",Bk="@firebase/database-compat",qk="@firebase/functions",$k="@firebase/functions-compat",Hk="@firebase/installations",Wk="@firebase/installations-compat",Gk="@firebase/messaging",Kk="@firebase/messaging-compat",Qk="@firebase/performance",Yk="@firebase/performance-compat",Xk="@firebase/remote-config",Jk="@firebase/remote-config-compat",Zk="@firebase/storage",eC="@firebase/storage-compat",tC="@firebase/firestore",nC="@firebase/ai",sC="@firebase/firestore-compat",iC="firebase",rC="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",oC={[_m]:"fire-core",[Rk]:"fire-core-compat",[Dk]:"fire-analytics",[Mk]:"fire-analytics-compat",[Lk]:"fire-app-check",[Ok]:"fire-app-check-compat",[Vk]:"fire-auth",[Fk]:"fire-auth-compat",[zk]:"fire-rtdb",[Uk]:"fire-data-connect",[Bk]:"fire-rtdb-compat",[qk]:"fire-fn",[$k]:"fire-fn-compat",[Hk]:"fire-iid",[Wk]:"fire-iid-compat",[Gk]:"fire-fcm",[Kk]:"fire-fcm-compat",[Qk]:"fire-perf",[Yk]:"fire-perf-compat",[Xk]:"fire-rc",[Jk]:"fire-rc-compat",[Zk]:"fire-gcs",[eC]:"fire-gcs-compat",[tC]:"fire-fst",[sC]:"fire-fst-compat",[nC]:"fire-vertex","fire-js":"fire-js",[iC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,aC=new Map,Em=new Map;function cy(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(Em.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of Xu.values())cy(n,t);for(const n of aC.values())cy(n,t);return!0}function Xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Dl("app","Firebase",lC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=rC;function w1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:wm,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw oi.create("bad-app-name",{appName:String(i)});if(n||(n=g1()),!n)throw oi.create("no-options");const r=Xu.get(i);if(r){if(sr(n,r.options)&&sr(s,r.config))return r;throw oi.create("duplicate-app",{appName:i})}const o=new pk(i);for(const c of Em.values())o.addComponent(c);const a=new cC(n,s,o);return Xu.set(i,a),a}function E1(t=wm){const e=Xu.get(t);if(!e&&t===wm&&g1())return w1();if(!e)throw oi.create("no-app",{appName:t});return e}function ai(t,e,n){let s=oC[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(o.join(" "));return}mo(new ir(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",dC=1,ul="firebase-heartbeat-store";let sf=null;function S1(){return sf||(sf=kk(uC,dC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),sf}async function hC(t){try{const n=(await S1()).transaction(ul),s=await n.objectStore(ul).get(N1(t));return await n.done,s}catch(e){if(e instanceof ws)xs.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xs.warn(n.message)}}}async function uy(t,e){try{const s=(await S1()).transaction(ul,"readwrite");await s.objectStore(ul).put(e,N1(t)),await s.done}catch(n){if(n instanceof ws)xs.warn(n.message);else{const s=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(s.message)}}}function N1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1024,mC=30;class pC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>mC){const o=yC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dy(),{heartbeatsToSend:s,unsentEntries:i}=gC(this._heartbeatsCache.heartbeats),r=Yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return xs.warn(n),""}}}function dy(){return new Date().toISOString().substring(0,10)}function gC(t,e=fC){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),hy(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sk()?ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hy(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}function yC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){mo(new ir("platform-logger",e=>new Ak(e),"PRIVATE")),mo(new ir("heartbeat",e=>new pC(e),"PRIVATE")),ai(_m,ly,t),ai(_m,ly,"esm2020"),ai("fire-js","")}vC("");function T1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bC=T1,I1=new Dl("auth","Firebase",T1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Qp("@firebase/auth");function _C(t,...e){Ju.logLevel<=he.WARN&&Ju.warn(`Auth (${Io}): ${t}`,...e)}function hu(t,...e){Ju.logLevel<=he.ERROR&&Ju.error(`Auth (${Io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw Jp(t,...e)}function Un(t,...e){return Jp(t,...e)}function k1(t,e,n){const s={...bC(),[e]:n};return new Dl("auth","Firebase",s).create(e,{appName:t.name})}function ds(t){return k1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return I1.create(t,...e)}function ee(t,e,...n){if(!t)throw Jp(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hu(e),new Error(e)}function ys(t,e){t||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function wC(){return fy()==="http:"||fy()==="https:"}function fy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wC()||ZI()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=YI()||ek()}get(){return EC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IC=new Ll(3e4,6e4);function Es(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ss(t,e,n,s,i={}){return j1(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const a=Ol({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...r};return JI()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&To(t.emulatorConfig.host)&&(u.credentials="include"),C1.fetch()(await A1(t,t.config.apiHost,n,a),u)})}async function j1(t,e,n){t._canInitEmulator=!1;const s={...NC,...e};try{const i=new CC(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Pc(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Pc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Pc(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw k1(t,h,u);Tn(t,h)}}catch(i){if(i instanceof ws)throw i;Tn(t,"network-request-failed",{message:String(i)})}}async function Vl(t,e,n,s,i={}){const r=await Ss(t,e,n,s,i);return"mfaPendingCredential"in r&&Tn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function A1(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?Zp(t.config,i):`${t.config.apiScheme}://${i}`;return TC.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function kC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Un(this.auth,"network-request-failed")),IC.get())})}}function Pc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Un(t,e,s);return i.customData._tokenResponse=n,i}function my(t){return t!==void 0&&t.enterprise!==void 0}class jC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AC(t,e){return Ss(t,"GET","/v2/recaptchaConfig",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,e){return Ss(t,"POST","/v1/accounts:delete",e)}async function Zu(t,e){return Ss(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RC(t,e=!1){const n=Zt(t),s=await n.getIdToken(e),i=eg(s);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Oa(rf(i.auth_time)),issuedAtTime:Oa(rf(i.iat)),expirationTime:Oa(rf(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function rf(t){return Number(t)*1e3}function eg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{const i=m1(n);return i?JSON.parse(i):(hu("Failed to decode base64 JWT payload"),null)}catch(i){return hu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function py(t){const e=eg(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ws&&MC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function MC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){var f;const e=t.auth,n=await t.getIdToken(),s=await dl(t,Zu(e,{idToken:n}));ee(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=(f=i.providerUserInfo)!=null&&f.length?P1(i.providerUserInfo):[],o=LC(t.providerData,r),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nm(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function OC(t){const e=Zt(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LC(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function P1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t,e){const n=await j1(t,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await A1(t,i,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:s};return t.emulatorConfig&&To(t.emulatorConfig.host)&&(c.credentials="include"),C1.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FC(t,e){return Ss(t,"POST","/v2/accounts:revokeToken",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):py(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=py(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await VC(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new Zr;return s&&(ee(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ee(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await dl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RC(this,e)}reload(){return OC(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await dl(this,PC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:x,providerData:v,stsTokenManager:b}=n;ee(f&&b,e,"internal-error");const I=Zr.fromJSON(this.name,b);ee(typeof f=="string",e,"internal-error"),Rs(s,e.name),Rs(i,e.name),ee(typeof m=="boolean",e,"internal-error"),ee(typeof x=="boolean",e,"internal-error"),Rs(r,e.name),Rs(o,e.name),Rs(a,e.name),Rs(c,e.name),Rs(u,e.name),Rs(h,e.name);const y=new _n({uid:f,auth:e,email:i,emailVerified:m,displayName:s,isAnonymous:x,photoURL:o,phoneNumber:r,tenantId:a,stsTokenManager:I,createdAt:u,lastLoginAt:h});return v&&Array.isArray(v)&&(y.providerData=v.map(_=>({..._}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,n,s=!1){const i=new Zr;i.updateFromServerResponse(n);const r=new _n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await ed(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?P1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),a=new Zr;a.updateFromIdToken(s);const c=new _n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;function ls(t){ys(t instanceof Function,"Expected a class definition");let e=gy.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}R1.type="NONE";const xy=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e,n){return`firebase:${t}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=fu(this.userKey,i.apiKey,r),this.fullPersistenceKey=fu("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zu(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(ls(xy),e,s);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=i[0]||ls(xy);const o=fu(s,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Zu(e,{idToken:h}).catch(()=>{});if(!m)break;f=await _n._fromGetAccountInfoResponse(e,m,h)}else f=_n._fromJSON(e,h);u!==r&&(a=f),r=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new eo(r,e,s):(r=c[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(o)}catch{}})),new eo(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F1(e))return"Blackberry";if(z1(e))return"Webos";if(D1(e))return"Safari";if((e.includes("chrome/")||O1(e))&&!e.includes("edge/"))return"Chrome";if(V1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function M1(t=kt()){return/firefox\//i.test(t)}function D1(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O1(t=kt()){return/crios\//i.test(t)}function L1(t=kt()){return/iemobile/i.test(t)}function V1(t=kt()){return/android/i.test(t)}function F1(t=kt()){return/blackberry/i.test(t)}function z1(t=kt()){return/webos/i.test(t)}function tg(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zC(t=kt()){var e;return tg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function UC(){return tk()&&document.documentMode===10}function U1(t=kt()){return tg(t)||V1(t)||z1(t)||F1(t)||/windows phone/i.test(t)||L1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e=[]){let n;switch(t){case"Browser":n=yy(kt());break;case"Worker":n=`${yy(kt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,a)=>{try{const c=e(r);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(t,e={}){return Ss(t,"GET","/v2/passwordPolicy",Es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=6;class HC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$C,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vy(this),this.idTokenSubscription=new vy(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zu(this,{idToken:e}),s=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)==null?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(ds(this));const n=e?Zt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qC(this),n=new HC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_C(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ei(t){return Zt(t)}class vy{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(t){$d=t}function q1(t){return $d.loadJS(t)}function KC(){return $d.recaptchaEnterpriseScript}function QC(){return $d.gapiScript}function YC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XC{constructor(){this.enterprise=new JC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZC="recaptcha-enterprise",$1="NO_RECAPTCHA";class ej{constructor(e){this.type=ZC,this.auth=Ei(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{AC(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jC(c);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(r,o,a){const c=window.grecaptcha;my(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(u=>{o(u)}).catch(()=>{o($1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XC().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&my(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=KC();c.length!==0&&(c+=a),q1(c).then(()=>{i(a,r,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ra(t,e,n,s=!1,i=!1){const r=new ej(t);let o;if(i)o=$1;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function td(t,e,n,s,i){var r,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ra(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ra(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await ra(t,e,n);return s(t,a).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await ra(t,e,n,!1,!0);return s(t,h)}return Promise.reject(c)})}else{const a=await ra(t,e,n,!1,!0);return s(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const n=Xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(sr(r,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function nj(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sj(t,e,n){const s=Ei(t);ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=H1(e),{host:o,port:a}=ij(e),c=a===null?"":`:${a}`,u={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ee(sr(u,s.config.emulator)&&sr(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,To(o)?(y1(`${r}//${o}${c}`),v1("Auth",!0)):i||rj()}function H1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ij(t){const e=H1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:by(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:by(o)}}}function by(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function oj(t,e){return Ss(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Vl(t,"POST","/v1/accounts:signInWithPassword",Es(t,e))}async function lj(t,e){return Ss(t,"POST","/v1/accounts:sendOobCode",Es(t,e))}async function cj(t,e){return lj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}async function dj(t,e){return Vl(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends ng{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return td(e,n,"signInWithPassword",aj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uj(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return td(e,s,"signUpPassword",oj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dj(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t,e){return Vl(t,"POST","/v1/accounts:signInWithIdp",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="http://localhost";class rr extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new rr(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:hj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mj(t){const e=pa(ga(t)).link,n=e?pa(ga(e)).deep_link_id:null,s=pa(ga(t)).deep_link_id;return(s?pa(ga(s)).link:null)||s||n||e||t}class sg{constructor(e){const n=pa(ga(e)),s=n.apiKey??null,i=n.oobCode??null,r=fj(n.mode??null);ee(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mj(e);try{return new sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=sg.parseLink(n);return ee(s,"argument-error"),hl._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Fl{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Us.credential(n,s)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Fl{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Fl{constructor(){super("twitter.com")}static credential(e,n){return rr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qs.credential(n,s)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return Vl(t,"POST","/v1/accounts:signUp",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await _n._fromIdTokenResponse(e,s,i),o=_y(s);return new or({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=_y(s);return new or({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function _y(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends ws{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new nd(e,n,s,i)}}function G1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,r,e,s):r})}async function gj(t,e,n=!1){const s=await dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return or._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e,n=!1){const{auth:s}=t;if(an(s.app))return Promise.reject(ds(s));const i="reauthenticate";try{const r=await dl(t,G1(s,i,e,t),n);ee(r.idToken,s,"internal-error");const o=eg(r.idToken);ee(o,s,"internal-error");const{sub:a}=o;return ee(t.uid===a,s,"user-mismatch"),or._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Tn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(t,e,n=!1){if(an(t.app))return Promise.reject(ds(t));const s="signIn",i=await G1(t,s,e),r=await or._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function yj(t,e){return K1(Ei(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e,n){var s;ee(((s=n.url)==null?void 0:s.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ee(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t){const e=Ei(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bj(t,e,n){const s=Ei(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&vj(s,i,n),await td(s,i,"getOobCode",cj,"EMAIL_PASSWORD_PROVIDER")}async function _j(t,e,n){if(an(t.app))return Promise.reject(ds(t));const s=Ei(t),o=await td(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pj,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Q1(t),c}),a=await or._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function wj(t,e,n){return an(t.app)?Promise.reject(ds(t)):yj(Zt(t),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q1(t),s})}function Ej(t,e,n,s){return Zt(t).onIdTokenChanged(e,n,s)}function Sj(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function Nj(t,e,n,s){return Zt(t).onAuthStateChanged(e,n,s)}function Tj(t){return Zt(t).signOut()}const sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=1e3,kj=10;class X1 extends Y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);UC()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kj):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X1.type="LOCAL";const Cj=X1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J1.type="SESSION";const Z1=J1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Hd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,r)),c=await jj(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,c)=>{const u=ig("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(m.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function Pj(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function Rj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Dj(){return eE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebaseLocalStorageDb",Oj=1,id="firebaseLocalStorage",nE="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wd(t,e){return t.transaction([id],e?"readwrite":"readonly").objectStore(id)}function Lj(){const t=indexedDB.deleteDatabase(tE);return new zl(t).toPromise()}function Tm(){const t=indexedDB.open(tE,Oj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(id,{keyPath:nE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(id)?e(s):(s.close(),await Lj(),e(await Tm()))})})}async function wy(t,e,n){const s=Wd(t,!0).put({[nE]:e,value:n});return new zl(s).toPromise()}async function Vj(t,e){const n=Wd(t,!1).get(e),s=await new zl(n).toPromise();return s===void 0?null:s.value}function Ey(t,e){const n=Wd(t,!0).delete(e);return new zl(n).toPromise()}const Fj=800,zj=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zj)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(Dj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await Rj(),!this.activeServiceWorker)return;this.sender=new Aj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await wy(e,sd,"1"),await Ey(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wy(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Vj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ey(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Wd(i,!1).getAll();return new zl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const Uj=sE;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){return e?ls(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qj(t){return K1(t.auth,new rg(t),t.bypassAuthState)}function $j(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),xj(n,new rg(t),t.bypassAuthState)}async function Hj(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),gj(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qj;case"linkViaPopup":case"linkViaRedirect":return Hj;case"reauthViaPopup":case"reauthViaRedirect":return $j;default:Tn(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Ll(2e3,1e4);class Hr extends iE{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wj.get())};e()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="pendingRedirect",mu=new Map;class Kj extends iE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mu.get(this.auth._key());if(!e){try{const s=await Qj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mu.set(this.auth._key(),e)}return this.bypassAuthState||mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qj(t,e){const n=Jj(e),s=Xj(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function Yj(t,e){mu.set(t._key(),e)}function Xj(t){return ls(t._redirectPersistence)}function Jj(t){return fu(Gj,t.config.apiKey,t.name)}async function Zj(t,e,n=!1){if(an(t.app))return Promise.reject(ds(t));const s=Ei(t),i=Bj(s,e),o=await new Kj(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=10*60*1e3;class tA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rE(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(e))}saveEventToCache(e){this.cachedEventUids.add(Sy(e)),this.lastProcessedEventTime=Date.now()}}function Sy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e={}){return Ss(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rA=/^https?/;async function oA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sA(t);for(const n of e)try{if(aA(n))return}catch{}Tn(t,"unauthorized-domain")}function aA(t){const e=Sm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!rA.test(n))return!1;if(iA.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Ll(3e4,6e4);function Ny(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cA(t){return new Promise((e,n)=>{var i,r,o;function s(){Ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ny(),n(Un(t,"network-request-failed"))},timeout:lA.get()})}if((r=(i=Bn().gapi)==null?void 0:i.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((o=Bn().gapi)!=null&&o.load)s();else{const a=YC("iframefcb");return Bn()[a]=()=>{gapi.load?s():n(Un(t,"network-request-failed"))},q1(`${QC()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw pu=null,e})}let pu=null;function uA(t){return pu=pu||cA(t),pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Ll(5e3,15e3),hA="__/auth/iframe",fA="emulator/auth/iframe",mA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gA(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zp(e,fA):`https://${t.config.authDomain}/${hA}`,s={apiKey:e.apiKey,appName:t.name,v:Io},i=pA.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ol(s).slice(1)}`}async function xA(t){const e=await uA(t),n=Bn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:gA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mA,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Un(t,"network-request-failed"),a=Bn().setTimeout(()=>{r(o)},dA.get());function c(){Bn().clearTimeout(a),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vA=500,bA=600,_A="_blank",wA="http://localhost";class Ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EA(t,e,n,s=vA,i=bA){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c={...yA,width:s.toString(),height:i.toString(),top:r,left:o},u=kt().toLowerCase();n&&(a=O1(u)?_A:n),M1(u)&&(e=e||wA,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[x,v])=>`${m}${x}=${v},`,"");if(zC(u)&&a!=="_self")return SA(e||"",a),new Ty(null);const f=window.open(e||"",a,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new Ty(f)}function SA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="__/auth/handler",TA="emulator/auth/handler",IA=encodeURIComponent("fac");async function Iy(t,e,n,s,i,r){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Io,eventId:i};if(e instanceof W1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(r||{}))o[h]=f}if(e instanceof Fl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${IA}=${encodeURIComponent(c)}`:"";return`${kA(t)}?${Ol(a).slice(1)}${u}`}function kA({config:t}){return t.emulator?Zp(t,TA):`https://${t.authDomain}/${NA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class CA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=Zj,this._overrideRedirectResult=Yj}async _openPopup(e,n,s,i){var o;ys((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const r=await Iy(e,n,s,Sm(),i);return EA(e,r,ig())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Iy(e,n,s,Sm(),i);return Pj(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(ys(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xA(e),s=new tA(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},i=>{var o;const r=(o=i==null?void 0:i[0])==null?void 0:o[of];r!==void 0&&n(!!r),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U1()||D1()||tg()}}const jA=CA;var ky="@firebase/auth",Cy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RA(t){mo(new ir("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B1(t)},u=new WC(s,i,r,c);return nj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new ir("auth-internal",e=>{const n=Ei(e.getProvider("auth").getImmediate());return(s=>new AA(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(ky,Cy,PA(t)),ai(ky,Cy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=5*60,DA=x1("authIdTokenMaxAge")||MA;let jy=null;const OA=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DA)return;const i=n==null?void 0:n.token;jy!==i&&(jy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LA(t=E1()){const e=Xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tj(t,{popupRedirectResolver:jA,persistence:[Uj,Cj,Z1]}),s=x1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=OA(r.toString());Sj(n,o,()=>o(n.currentUser)),Ej(n,a=>o(a))}}const i=p1("auth");return i&&sj(n,`http://${i}`),n}function VA(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Un("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",VA().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RA("Browser");var FA="firebase",zA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(FA,zA,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,oE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function k(){}k.prototype=w.prototype,S.F=w.prototype,S.prototype=new k,S.prototype.constructor=S,S.D=function(C,T,P){for(var j=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)j[Z-2]=arguments[Z];return w.prototype[T].apply(C,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,k){k||(k=0);const C=Array(16);if(typeof w=="string")for(var T=0;T<16;++T)C[T]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for(T=0;T<16;++T)C[T]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=S.g[0],k=S.g[1],T=S.g[2];let P=S.g[3],j;j=w+(P^k&(T^P))+C[0]+3614090360&4294967295,w=k+(j<<7&4294967295|j>>>25),j=P+(T^w&(k^T))+C[1]+3905402710&4294967295,P=w+(j<<12&4294967295|j>>>20),j=T+(k^P&(w^k))+C[2]+606105819&4294967295,T=P+(j<<17&4294967295|j>>>15),j=k+(w^T&(P^w))+C[3]+3250441966&4294967295,k=T+(j<<22&4294967295|j>>>10),j=w+(P^k&(T^P))+C[4]+4118548399&4294967295,w=k+(j<<7&4294967295|j>>>25),j=P+(T^w&(k^T))+C[5]+1200080426&4294967295,P=w+(j<<12&4294967295|j>>>20),j=T+(k^P&(w^k))+C[6]+2821735955&4294967295,T=P+(j<<17&4294967295|j>>>15),j=k+(w^T&(P^w))+C[7]+4249261313&4294967295,k=T+(j<<22&4294967295|j>>>10),j=w+(P^k&(T^P))+C[8]+1770035416&4294967295,w=k+(j<<7&4294967295|j>>>25),j=P+(T^w&(k^T))+C[9]+2336552879&4294967295,P=w+(j<<12&4294967295|j>>>20),j=T+(k^P&(w^k))+C[10]+4294925233&4294967295,T=P+(j<<17&4294967295|j>>>15),j=k+(w^T&(P^w))+C[11]+2304563134&4294967295,k=T+(j<<22&4294967295|j>>>10),j=w+(P^k&(T^P))+C[12]+1804603682&4294967295,w=k+(j<<7&4294967295|j>>>25),j=P+(T^w&(k^T))+C[13]+4254626195&4294967295,P=w+(j<<12&4294967295|j>>>20),j=T+(k^P&(w^k))+C[14]+2792965006&4294967295,T=P+(j<<17&4294967295|j>>>15),j=k+(w^T&(P^w))+C[15]+1236535329&4294967295,k=T+(j<<22&4294967295|j>>>10),j=w+(T^P&(k^T))+C[1]+4129170786&4294967295,w=k+(j<<5&4294967295|j>>>27),j=P+(k^T&(w^k))+C[6]+3225465664&4294967295,P=w+(j<<9&4294967295|j>>>23),j=T+(w^k&(P^w))+C[11]+643717713&4294967295,T=P+(j<<14&4294967295|j>>>18),j=k+(P^w&(T^P))+C[0]+3921069994&4294967295,k=T+(j<<20&4294967295|j>>>12),j=w+(T^P&(k^T))+C[5]+3593408605&4294967295,w=k+(j<<5&4294967295|j>>>27),j=P+(k^T&(w^k))+C[10]+38016083&4294967295,P=w+(j<<9&4294967295|j>>>23),j=T+(w^k&(P^w))+C[15]+3634488961&4294967295,T=P+(j<<14&4294967295|j>>>18),j=k+(P^w&(T^P))+C[4]+3889429448&4294967295,k=T+(j<<20&4294967295|j>>>12),j=w+(T^P&(k^T))+C[9]+568446438&4294967295,w=k+(j<<5&4294967295|j>>>27),j=P+(k^T&(w^k))+C[14]+3275163606&4294967295,P=w+(j<<9&4294967295|j>>>23),j=T+(w^k&(P^w))+C[3]+4107603335&4294967295,T=P+(j<<14&4294967295|j>>>18),j=k+(P^w&(T^P))+C[8]+1163531501&4294967295,k=T+(j<<20&4294967295|j>>>12),j=w+(T^P&(k^T))+C[13]+2850285829&4294967295,w=k+(j<<5&4294967295|j>>>27),j=P+(k^T&(w^k))+C[2]+4243563512&4294967295,P=w+(j<<9&4294967295|j>>>23),j=T+(w^k&(P^w))+C[7]+1735328473&4294967295,T=P+(j<<14&4294967295|j>>>18),j=k+(P^w&(T^P))+C[12]+2368359562&4294967295,k=T+(j<<20&4294967295|j>>>12),j=w+(k^T^P)+C[5]+4294588738&4294967295,w=k+(j<<4&4294967295|j>>>28),j=P+(w^k^T)+C[8]+2272392833&4294967295,P=w+(j<<11&4294967295|j>>>21),j=T+(P^w^k)+C[11]+1839030562&4294967295,T=P+(j<<16&4294967295|j>>>16),j=k+(T^P^w)+C[14]+4259657740&4294967295,k=T+(j<<23&4294967295|j>>>9),j=w+(k^T^P)+C[1]+2763975236&4294967295,w=k+(j<<4&4294967295|j>>>28),j=P+(w^k^T)+C[4]+1272893353&4294967295,P=w+(j<<11&4294967295|j>>>21),j=T+(P^w^k)+C[7]+4139469664&4294967295,T=P+(j<<16&4294967295|j>>>16),j=k+(T^P^w)+C[10]+3200236656&4294967295,k=T+(j<<23&4294967295|j>>>9),j=w+(k^T^P)+C[13]+681279174&4294967295,w=k+(j<<4&4294967295|j>>>28),j=P+(w^k^T)+C[0]+3936430074&4294967295,P=w+(j<<11&4294967295|j>>>21),j=T+(P^w^k)+C[3]+3572445317&4294967295,T=P+(j<<16&4294967295|j>>>16),j=k+(T^P^w)+C[6]+76029189&4294967295,k=T+(j<<23&4294967295|j>>>9),j=w+(k^T^P)+C[9]+3654602809&4294967295,w=k+(j<<4&4294967295|j>>>28),j=P+(w^k^T)+C[12]+3873151461&4294967295,P=w+(j<<11&4294967295|j>>>21),j=T+(P^w^k)+C[15]+530742520&4294967295,T=P+(j<<16&4294967295|j>>>16),j=k+(T^P^w)+C[2]+3299628645&4294967295,k=T+(j<<23&4294967295|j>>>9),j=w+(T^(k|~P))+C[0]+4096336452&4294967295,w=k+(j<<6&4294967295|j>>>26),j=P+(k^(w|~T))+C[7]+1126891415&4294967295,P=w+(j<<10&4294967295|j>>>22),j=T+(w^(P|~k))+C[14]+2878612391&4294967295,T=P+(j<<15&4294967295|j>>>17),j=k+(P^(T|~w))+C[5]+4237533241&4294967295,k=T+(j<<21&4294967295|j>>>11),j=w+(T^(k|~P))+C[12]+1700485571&4294967295,w=k+(j<<6&4294967295|j>>>26),j=P+(k^(w|~T))+C[3]+2399980690&4294967295,P=w+(j<<10&4294967295|j>>>22),j=T+(w^(P|~k))+C[10]+4293915773&4294967295,T=P+(j<<15&4294967295|j>>>17),j=k+(P^(T|~w))+C[1]+2240044497&4294967295,k=T+(j<<21&4294967295|j>>>11),j=w+(T^(k|~P))+C[8]+1873313359&4294967295,w=k+(j<<6&4294967295|j>>>26),j=P+(k^(w|~T))+C[15]+4264355552&4294967295,P=w+(j<<10&4294967295|j>>>22),j=T+(w^(P|~k))+C[6]+2734768916&4294967295,T=P+(j<<15&4294967295|j>>>17),j=k+(P^(T|~w))+C[13]+1309151649&4294967295,k=T+(j<<21&4294967295|j>>>11),j=w+(T^(k|~P))+C[4]+4149444226&4294967295,w=k+(j<<6&4294967295|j>>>26),j=P+(k^(w|~T))+C[11]+3174756917&4294967295,P=w+(j<<10&4294967295|j>>>22),j=T+(w^(P|~k))+C[2]+718787259&4294967295,T=P+(j<<15&4294967295|j>>>17),j=k+(P^(T|~w))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,S.g[2]=S.g[2]+T&4294967295,S.g[3]=S.g[3]+P&4294967295}s.prototype.v=function(S,w){w===void 0&&(w=S.length);const k=w-this.blockSize,C=this.C;let T=this.h,P=0;for(;P<w;){if(T==0)for(;P<=k;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<w;)if(C[T++]=S.charCodeAt(P++),T==this.blockSize){i(this,C),T=0;break}}else for(;P<w;)if(C[T++]=S[P++],T==this.blockSize){i(this,C),T=0;break}}this.h=T,this.o+=w},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var k=S.length-8;k<S.length;++k)S[k]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,k=0;k<4;++k)for(let C=0;C<32;C+=8)S[w++]=this.g[k]>>>C&255;return S};function r(S,w){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=w(S)}function o(S,w){this.h=w;const k=[];let C=!0;for(let T=S.length-1;T>=0;T--){const P=S[T]|0;C&&P==w||(k[T]=P,C=!1)}this.g=k}var a={};function c(S){return-128<=S&&S<128?r(S,function(w){return new o([w|0],w<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return I(u(-S));const w=[];let k=1;for(let C=0;S>=k;C++)w[C]=S/k|0,k*=4294967296;return new o(w,0)}function h(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return I(h(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(w,8));let C=f;for(let P=0;P<S.length;P+=8){var T=Math.min(8,S.length-P);const j=parseInt(S.substring(P,P+T),w);T<8?(T=u(Math.pow(w,T)),C=C.j(T).add(u(j))):(C=C.j(k),C=C.add(u(j)))}return C}var f=c(0),m=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-I(this).m();let S=0,w=1;for(let k=0;k<this.g.length;k++){const C=this.i(k);S+=(C>=0?C:4294967296+C)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+I(this).toString(S);const w=u(Math.pow(S,6));var k=this;let C="";for(;;){const T=A(k,w).g;k=y(k,T.j(w));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(S);if(k=T,v(k))return P+C;for(;P.length<6;)P="0"+P;C=P+C}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=y(this,S),b(S)?-1:v(S)?0:1};function I(S){const w=S.g.length,k=[];for(let C=0;C<w;C++)k[C]=~S.g[C];return new o(k,~S.h).add(m)}t.abs=function(){return b(this)?I(this):this},t.add=function(S){const w=Math.max(this.g.length,S.g.length),k=[];let C=0;for(let T=0;T<=w;T++){let P=C+(this.i(T)&65535)+(S.i(T)&65535),j=(P>>>16)+(this.i(T)>>>16)+(S.i(T)>>>16);C=j>>>16,P&=65535,j&=65535,k[T]=j<<16|P}return new o(k,k[k.length-1]&-2147483648?-1:0)};function y(S,w){return S.add(I(w))}t.j=function(S){if(v(this)||v(S))return f;if(b(this))return b(S)?I(this).j(I(S)):I(I(this).j(S));if(b(S))return I(this.j(I(S)));if(this.l(x)<0&&S.l(x)<0)return u(this.m()*S.m());const w=this.g.length+S.g.length,k=[];for(var C=0;C<2*w;C++)k[C]=0;for(C=0;C<this.g.length;C++)for(let T=0;T<S.g.length;T++){const P=this.i(C)>>>16,j=this.i(C)&65535,Z=S.i(T)>>>16,Y=S.i(T)&65535;k[2*C+2*T]+=j*Y,_(k,2*C+2*T),k[2*C+2*T+1]+=P*Y,_(k,2*C+2*T+1),k[2*C+2*T+1]+=j*Z,_(k,2*C+2*T+1),k[2*C+2*T+2]+=P*Z,_(k,2*C+2*T+2)}for(S=0;S<w;S++)k[S]=k[2*S+1]<<16|k[2*S];for(S=w;S<2*w;S++)k[S]=0;return new o(k,0)};function _(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function E(S,w){this.g=S,this.h=w}function A(S,w){if(v(w))throw Error("division by zero");if(v(S))return new E(f,f);if(b(S))return w=A(I(S),w),new E(I(w.g),I(w.h));if(b(w))return w=A(S,I(w)),new E(I(w.g),w.h);if(S.g.length>30){if(b(S)||b(w))throw Error("slowDivide_ only works with positive integers.");for(var k=m,C=w;C.l(S)<=0;)k=R(k),C=R(C);var T=M(k,1),P=M(C,1);for(C=M(C,2),k=M(k,2);!v(C);){var j=P.add(C);j.l(S)<=0&&(T=T.add(k),P=j),C=M(C,1),k=M(k,1)}return w=y(S,T.j(w)),new E(T,w)}for(T=f;S.l(w)>=0;){for(k=Math.max(1,Math.floor(S.m()/w.m())),C=Math.ceil(Math.log(k)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),P=u(k),j=P.j(w);b(j)||j.l(S)>0;)k-=C,P=u(k),j=P.j(w);v(P)&&(P=m),T=T.add(P),S=y(S,j)}return new E(T,S)}t.B=function(S){return A(this,S).h},t.and=function(S){const w=Math.max(this.g.length,S.g.length),k=[];for(let C=0;C<w;C++)k[C]=this.i(C)&S.i(C);return new o(k,this.h&S.h)},t.or=function(S){const w=Math.max(this.g.length,S.g.length),k=[];for(let C=0;C<w;C++)k[C]=this.i(C)|S.i(C);return new o(k,this.h|S.h)},t.xor=function(S){const w=Math.max(this.g.length,S.g.length),k=[];for(let C=0;C<w;C++)k[C]=this.i(C)^S.i(C);return new o(k,this.h^S.h)};function R(S){const w=S.g.length+1,k=[];for(let C=0;C<w;C++)k[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(k,S.h)}function M(S,w){const k=w>>5;w%=32;const C=S.g.length-k,T=[];for(let P=0;P<C;P++)T[P]=w>0?S.i(P+k)>>>w|S.i(P+k+1)<<32-w:S.i(P+k);return new o(T,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,oE=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,li=o}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,xa,lE,gu,Im,cE,uE,dE;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var p=0;p<d.length;++p){var g=d[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function i(d,p){if(p)e:{var g=s;d=d.split(".");for(var N=0;N<d.length-1;N++){var D=d[N];if(!(D in g))break e;g=g[D]}d=d[d.length-1],N=g[d],p=p(N),p!=N&&p!=null&&e(g,d,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(p){var g=[],N;for(N in p)Object.prototype.hasOwnProperty.call(p,N)&&g.push([N,p[N]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},o=this||self;function a(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function c(d,p,g){return d.call.apply(d.bind,arguments)}function u(d,p,g){return u=c,u.apply(null,arguments)}function h(d,p){var g=Array.prototype.slice.call(arguments,1);return function(){var N=g.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function f(d,p){function g(){}g.prototype=p.prototype,d.Z=p.prototype,d.prototype=new g,d.prototype.constructor=d,d.Ob=function(N,D,L){for(var $=Array(arguments.length-2),le=2;le<arguments.length;le++)$[le-2]=arguments[le];return p.prototype[D].apply(N,$)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const p=d.length;if(p>0){const g=Array(p);for(let N=0;N<p;N++)g[N]=d[N];return g}return[]}function v(d,p){for(let N=1;N<arguments.length;N++){const D=arguments[N];var g=typeof D;if(g=g!="object"?g:D?Array.isArray(D)?"array":g:"null",g=="array"||g=="object"&&typeof D.length=="number"){g=d.length||0;const L=D.length||0;d.length=g+L;for(let $=0;$<L;$++)d[g+$]=D[$]}else d.push(D)}}class b{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(d){o.setTimeout(()=>{throw d},0)}function y(){var d=S;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class _{constructor(){this.h=this.g=null}add(p,g){const N=E.get();N.set(p,g),this.h?this.h.next=N:this.g=N,this.h=N}}var E=new b(()=>new A,d=>d.reset());class A{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let R,M=!1,S=new _,w=()=>{const d=Promise.resolve(void 0);R=()=>{d.then(k)}};function k(){for(var d;d=y();){try{d.h.call(d.g)}catch(g){I(g)}var p=E;p.j(d),p.h<100&&(p.h++,d.next=p.g,p.g=d)}M=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return d}();function j(d){return/^[\s\xa0]*$/.test(d)}function Z(d,p){T.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,p)}f(Z,T),Z.prototype.init=function(d,p){const g=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget,p||(g=="mouseover"?p=d.fromElement:g=="mouseout"&&(p=d.toElement)),this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),ne=0;function oe(d,p,g,N,D){this.listener=d,this.proxy=null,this.src=p,this.type=g,this.capture=!!N,this.ha=D,this.key=++ne,this.da=this.fa=!1}function U(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function H(d,p,g){for(const N in d)p.call(g,d[N],N,d)}function X(d,p){for(const g in d)p.call(void 0,d[g],g,d)}function ue(d){const p={};for(const g in d)p[g]=d[g];return p}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(d,p){let g,N;for(let D=1;D<arguments.length;D++){N=arguments[D];for(g in N)d[g]=N[g];for(let L=0;L<ae.length;L++)g=ae[L],Object.prototype.hasOwnProperty.call(N,g)&&(d[g]=N[g])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,p,g,N,D){const L=d.toString();d=this.g[L],d||(d=this.g[L]=[],this.h++);const $=He(d,p,N,D);return $>-1?(p=d[$],g||(p.fa=!1)):(p=new oe(p,this.src,L,!!N,D),p.fa=g,d.push(p)),p};function vt(d,p){const g=p.type;if(g in d.g){var N=d.g[g],D=Array.prototype.indexOf.call(N,p,void 0),L;(L=D>=0)&&Array.prototype.splice.call(N,D,1),L&&(U(p),d.g[g].length==0&&(delete d.g[g],d.h--))}}function He(d,p,g,N){for(let D=0;D<d.length;++D){const L=d[D];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==N)return D}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Mo={};function Ni(d,p,g,N,D){if(N&&N.once)return Ql(d,p,g,N,D);if(Array.isArray(p)){for(let L=0;L<p.length;L++)Ni(d,p[L],g,N,D);return null}return g=_r(g),d&&d[Y]?d.J(p,g,a(N)?!!N.capture:!!N,D):Kl(d,p,g,!1,N,D)}function Kl(d,p,g,N,D,L){if(!p)throw Error("Invalid event type");const $=a(D)?!!D.capture:!!D;let le=Ns(d);if(le||(d[Ht]=le=new ye(d)),g=le.add(p,g,N,$,L),g.proxy)return g;if(N=vr(),g.proxy=N,N.src=d,N.listener=g,d.addEventListener)P||(D=$),D===void 0&&(D=!1),d.addEventListener(p.toString(),N,D);else if(d.attachEvent)d.attachEvent(br(p.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return g}function vr(){function d(g){return p.call(d.src,d.listener,g)}const p=pn;return d}function Ql(d,p,g,N,D){if(Array.isArray(p)){for(let L=0;L<p.length;L++)Ql(d,p[L],g,N,D);return null}return g=_r(g),d&&d[Y]?d.K(p,g,a(N)?!!N.capture:!!N,D):Kl(d,p,g,!0,N,D)}function Ti(d,p,g,N,D){if(Array.isArray(p))for(var L=0;L<p.length;L++)Ti(d,p[L],g,N,D);else N=a(N)?!!N.capture:!!N,g=_r(g),d&&d[Y]?(d=d.i,L=String(p).toString(),L in d.g&&(p=d.g[L],g=He(p,g,N,D),g>-1&&(U(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete d.g[L],d.h--)))):d&&(d=Ns(d))&&(p=d.g[p.toString()],d=-1,p&&(d=He(p,g,N,D)),(g=d>-1?p[d]:null)&&kn(g))}function kn(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[Y])vt(p.i,d);else{var g=d.type,N=d.proxy;p.removeEventListener?p.removeEventListener(g,N,d.capture):p.detachEvent?p.detachEvent(br(g),N):p.addListener&&p.removeListener&&p.removeListener(N),(g=Ns(p))?(vt(g,d),g.h==0&&(g.src=null,p[Ht]=null)):U(d)}}}function br(d){return d in Mo?Mo[d]:Mo[d]="on"+d}function pn(d,p){if(d.da)d=!0;else{p=new Z(p,this);const g=d.listener,N=d.ha||d.src;d.fa&&kn(d),d=g.call(N,p)}return d}function Ns(d){return d=d[Ht],d instanceof ye?d:null}var Yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _r(d){return typeof d=="function"?d:(d[Yn]||(d[Yn]=function(p){return d.handleEvent(p)}),d[Yn])}function et(){C.call(this),this.i=new ye(this),this.M=this,this.G=null}f(et,C),et.prototype[Y]=!0,et.prototype.removeEventListener=function(d,p,g,N){Ti(this,d,p,g,N)};function Qe(d,p){var g,N=d.G;if(N)for(g=[];N;N=N.G)g.push(N);if(d=d.M,N=p.type||p,typeof p=="string")p=new T(p,d);else if(p instanceof T)p.target=p.target||d;else{var D=p;p=new T(N,d),Ue(p,D)}D=!0;let L,$;if(g)for($=g.length-1;$>=0;$--)L=p.g=g[$],D=Xn(L,N,!0,p)&&D;if(L=p.g=d,D=Xn(L,N,!0,p)&&D,D=Xn(L,N,!1,p)&&D,g)for($=0;$<g.length;$++)L=p.g=g[$],D=Xn(L,N,!1,p)&&D}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var d=this.i;for(const p in d.g){const g=d.g[p];for(let N=0;N<g.length;N++)U(g[N]);delete d.g[p],d.h--}}this.G=null},et.prototype.J=function(d,p,g,N){return this.i.add(String(d),p,!1,g,N)},et.prototype.K=function(d,p,g,N){return this.i.add(String(d),p,!0,g,N)};function Xn(d,p,g,N){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();let D=!0;for(let L=0;L<p.length;++L){const $=p[L];if($&&!$.da&&$.capture==g){const le=$.listener,tt=$.ha||$.src;$.fa&&vt(d.i,$),D=le.call(tt,N)!==!1&&D}}return D&&!N.defaultPrevented}function Yl(d,p){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(d,p||0)}function Xl(d){d.g=Yl(()=>{d.g=null,d.i&&(d.i=!1,Xl(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class Jl extends C{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(d){C.call(this),this.h=d,this.g={}}f(Ii,C);var Zl=[];function ec(d){H(d.g,function(p,g){this.g.hasOwnProperty(g)&&kn(p)},d),d.g={}}Ii.prototype.N=function(){Ii.Z.N.call(this),ec(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=o.JSON.stringify,ch=o.JSON.parse,uh=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function tc(){}function Do(){}var ki={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oo(){T.call(this,"d")}f(Oo,T);function Lo(){T.call(this,"c")}f(Lo,T);var gn={},nc=null;function Ci(){return nc=nc||new et}gn.Ia="serverreachability";function sc(d){T.call(this,gn.Ia,d)}f(sc,T);function Mt(d){const p=Ci();Qe(p,new sc(p))}gn.STAT_EVENT="statevent";function Vo(d,p){T.call(this,gn.STAT_EVENT,d),this.stat=p}f(Vo,T);function O(d){const p=Ci();Qe(p,new Vo(p,d))}gn.Ja="timingevent";function q(d,p){T.call(this,gn.Ja,d),this.size=p}f(q,T);function W(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},p)}function be(){this.g=!0}be.prototype.ua=function(){this.g=!1};function nn(d,p,g,N,D,L){d.info(function(){if(d.g)if(L){var $="",le=L.split("&");for(let Te=0;Te<le.length;Te++){var tt=le[Te].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const An=at.split("_");$=An.length>=2&&An[1]=="type"?$+(at+"="+tt+"&"):$+(at+"=redacted&")}}}else $=null;else $=L;return"XMLHTTP REQ ("+N+") [attempt "+D+"]: "+p+`
`+g+`
`+$})}function Er(d,p,g,N,D,L,$){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+D+"]: "+p+`
`+g+`
`+L+" "+$})}function Cn(d,p,g,N){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+hh(d,g)+(N?" "+N:"")})}function dh(d,p){d.info(function(){return"TIMEOUT: "+p})}be.prototype.info=function(){};function hh(d,p){if(!d.g)return p;if(!p)return null;try{const L=JSON.parse(p);if(L){for(d=0;d<L.length;d++)if(Array.isArray(L[d])){var g=L[d];if(!(g.length<2)){var N=g[1];if(Array.isArray(N)&&!(N.length<1)){var D=N[0];if(D!="noop"&&D!="stop"&&D!="close")for(let $=1;$<N.length;$++)N[$]=""}}}}return wr(L)}catch{return p}}var ic={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},i0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},r0;function fh(){}f(fh,tc),fh.prototype.g=function(){return new XMLHttpRequest},r0=new fh;function Fo(d){return encodeURIComponent(String(d))}function CS(d){var p=1;d=d.split(":");const g=[];for(;p>0&&d.length;)g.push(d.shift()),p--;return d.length&&g.push(d.join(":")),g}function Ts(d,p,g,N){this.j=d,this.i=p,this.l=g,this.S=N||1,this.V=new Ii(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}var a0={},mh={};function ph(d,p,g){d.M=1,d.A=oc(jn(p)),d.u=g,d.R=!0,l0(d,null)}function l0(d,p){d.F=Date.now(),rc(d),d.B=jn(d.A);var g=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),_0(g.i,"t",N),d.C=0,g=d.j.L,d.h=new o0,d.g=F0(d.j,g?p:null,!d.u),d.P>0&&(d.O=new Jl(u(d.Y,d,d.g),d.P)),p=d.V,g=d.g,N=d.ba;var D="readystatechange";Array.isArray(D)||(D&&(Zl[0]=D.toString()),D=Zl);for(let L=0;L<D.length;L++){const $=Ni(g,D[L],N||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=d.J?ue(d.J):{},d.u?(d.v||(d.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,p)):(d.v="GET",d.g.ea(d.B,d.v,null,p)),Mt(),nn(d.i,d.v,d.B,d.l,d.S,d.u)}Ts.prototype.ba=function(d){d=d.target;const p=this.O;p&&Cs(d)==3?p.j():this.Y(d)},Ts.prototype.Y=function(d){try{if(d==this.g)e:{const le=Cs(this.g),tt=this.g.ya(),Te=this.g.ca();if(!(le<3)&&(le!=3||this.g&&(this.h.h||this.g.la()||k0(this.g)))){this.K||le!=4||tt==7||(tt==8||Te<=0?Mt(3):Mt(2)),gh(this);var p=this.g.ca();this.X=p;var g=jS(this);if(this.o=p==200,Er(this.i,this.v,this.B,this.l,this.S,le,p),this.o){if(this.U&&!this.L){t:{if(this.g){var N,D=this.g;if((N=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(N)){var L=N;break t}}L=null}if(d=L)Cn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xh(this,d);else{this.o=!1,this.m=3,O(12),ji(this),zo(this);break e}}if(this.R){d=!0;let at;for(;!this.K&&this.C<g.length;)if(at=AS(this,g),at==mh){le==4&&(this.m=4,O(14),d=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(at==a0){this.m=4,O(15),Cn(this.i,this.l,g,"[Invalid Chunk]"),d=!1;break}else Cn(this.i,this.l,at,null),xh(this,at);if(c0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),le!=4||g.length!=0||this.h.h||(this.m=1,O(16),d=!1),this.o=this.o&&d,!d)Cn(this.i,this.l,g,"[Invalid Chunked Response]"),ji(this),zo(this);else if(g.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Nh($),$.P=!0,O(11))}}else Cn(this.i,this.l,g,null),xh(this,g);le==4&&ji(this),this.o&&!this.K&&(le==4?D0(this.j,this):(this.o=!1,rc(this)))}else HS(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,O(12)):(this.m=0,O(13)),ji(this),zo(this)}}}catch{}finally{}};function jS(d){if(!c0(d))return d.g.la();const p=k0(d.g);if(p==="")return"";let g="";const N=p.length,D=Cs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ji(d),zo(d),"";d.h.i=new o.TextDecoder}for(let L=0;L<N;L++)d.h.h=!0,g+=d.h.i.decode(p[L],{stream:!(D&&L==N-1)});return p.length=0,d.h.g+=g,d.C=0,d.h.g}function c0(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function AS(d,p){var g=d.C,N=p.indexOf(`
`,g);return N==-1?mh:(g=Number(p.substring(g,N)),isNaN(g)?a0:(N+=1,N+g>p.length?mh:(p=p.slice(N,N+g),d.C=N+g,p)))}Ts.prototype.cancel=function(){this.K=!0,ji(this)};function rc(d){d.T=Date.now()+d.H,u0(d,d.H)}function u0(d,p){if(d.D!=null)throw Error("WatchDog timer not null");d.D=W(u(d.aa,d),p)}function gh(d){d.D&&(o.clearTimeout(d.D),d.D=null)}Ts.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(dh(this.i,this.B),this.M!=2&&(Mt(),O(17)),ji(this),this.m=2,zo(this)):u0(this,this.T-d)};function zo(d){d.j.I==0||d.K||D0(d.j,d)}function ji(d){gh(d);var p=d.O;p&&typeof p.dispose=="function"&&p.dispose(),d.O=null,ec(d.V),d.g&&(p=d.g,d.g=null,p.abort(),p.dispose())}function xh(d,p){try{var g=d.j;if(g.I!=0&&(g.g==d||yh(g.h,d))){if(!d.L&&yh(g.h,d)&&g.I==3){try{var N=g.Ba.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var D=N;if(D[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<d.F)dc(g),cc(g);else break e;Sh(g),O(18)}}else g.xa=D[1],0<g.xa-g.K&&D[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=W(u(g.Va,g),6e3));f0(g.h)<=1&&g.ta&&(g.ta=void 0)}else Pi(g,11)}else if((d.L||g.g==d)&&dc(g),!j(p))for(D=g.Ba.g.parse(p),p=0;p<D.length;p++){let Te=D[p];const at=Te[0];if(!(at<=g.K))if(g.K=at,Te=Te[1],g.I==2)if(Te[0]=="c"){g.M=Te[1],g.ba=Te[2];const An=Te[3];An!=null&&(g.ka=An,g.j.info("VER="+g.ka));const Ri=Te[4];Ri!=null&&(g.za=Ri,g.j.info("SVER="+g.za));const js=Te[5];js!=null&&typeof js=="number"&&js>0&&(N=1.5*js,g.O=N,g.j.info("backChannelRequestTimeoutMs_="+N)),N=g;const As=d.g;if(As){const fc=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var L=N.h;L.g||fc.indexOf("spdy")==-1&&fc.indexOf("quic")==-1&&fc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(vh(L,L.h),L.h=null))}if(N.G){const Th=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(N.wa=Th,Ce(N.J,N.G,Th))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-d.F,g.j.info("Handshake RTT: "+g.T+"ms")),N=g;var $=d;if(N.na=V0(N,N.L?N.ba:null,N.W),$.L){m0(N.h,$);var le=$,tt=N.O;tt&&(le.H=tt),le.D&&(gh(le),rc(le)),N.g=$}else R0(N);g.i.length>0&&uc(g)}else Te[0]!="stop"&&Te[0]!="close"||Pi(g,7);else g.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Pi(g,7):Eh(g):Te[0]!="noop"&&g.l&&g.l.qa(Te),g.A=0)}}Mt(4)}catch{}}var PS=class{constructor(d,p){this.g=d,this.map=p}};function d0(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function h0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function f0(d){return d.h?1:d.g?d.g.size:0}function yh(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function vh(d,p){d.g?d.g.add(p):d.h=p}function m0(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}d0.prototype.cancel=function(){if(this.i=p0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function p0(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const g of d.g.values())p=p.concat(g.G);return p}return x(d.i)}var g0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RS(d,p){if(d){d=d.split("&");for(let g=0;g<d.length;g++){const N=d[g].indexOf("=");let D,L=null;N>=0?(D=d[g].substring(0,N),L=d[g].substring(N+1)):D=d[g],p(D,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Is(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;d instanceof Is?(this.l=d.l,Uo(this,d.j),this.o=d.o,this.g=d.g,Bo(this,d.u),this.h=d.h,bh(this,w0(d.i)),this.m=d.m):d&&(p=String(d).match(g0))?(this.l=!1,Uo(this,p[1]||"",!0),this.o=qo(p[2]||""),this.g=qo(p[3]||"",!0),Bo(this,p[4]),this.h=qo(p[5]||"",!0),bh(this,p[6]||"",!0),this.m=qo(p[7]||"")):(this.l=!1,this.i=new Ho(null,this.l))}Is.prototype.toString=function(){const d=[];var p=this.j;p&&d.push($o(p,x0,!0),":");var g=this.g;return(g||p=="file")&&(d.push("//"),(p=this.o)&&d.push($o(p,x0,!0),"@"),d.push(Fo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&d.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&d.push("/"),d.push($o(g,g.charAt(0)=="/"?OS:DS,!0))),(g=this.i.toString())&&d.push("?",g),(g=this.m)&&d.push("#",$o(g,VS)),d.join("")},Is.prototype.resolve=function(d){const p=jn(this);let g=!!d.j;g?Uo(p,d.j):g=!!d.o,g?p.o=d.o:g=!!d.g,g?p.g=d.g:g=d.u!=null;var N=d.h;if(g)Bo(p,d.u);else if(g=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var D=p.h.lastIndexOf("/");D!=-1&&(N=p.h.slice(0,D+1)+N)}if(D=N,D==".."||D==".")N="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){N=D.lastIndexOf("/",0)==0,D=D.split("/");const L=[];for(let $=0;$<D.length;){const le=D[$++];le=="."?N&&$==D.length&&L.push(""):le==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),N&&$==D.length&&L.push("")):(L.push(le),N=!0)}N=L.join("/")}else N=D}return g?p.h=N:g=d.i.toString()!=="",g?bh(p,w0(d.i)):g=!!d.m,g&&(p.m=d.m),p};function jn(d){return new Is(d)}function Uo(d,p,g){d.j=g?qo(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function Bo(d,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);d.u=p}else d.u=null}function bh(d,p,g){p instanceof Ho?(d.i=p,FS(d.i,d.l)):(g||(p=$o(p,LS)),d.i=new Ho(p,d.l))}function Ce(d,p,g){d.i.set(p,g)}function oc(d){return Ce(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function qo(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $o(d,p,g){return typeof d=="string"?(d=encodeURI(d).replace(p,MS),g&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function MS(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var x0=/[#\/\?@]/g,DS=/[#\?:]/g,OS=/[#\?]/g,LS=/[#\?@]/g,VS=/#/g;function Ho(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function Ai(d){d.g||(d.g=new Map,d.h=0,d.i&&RS(d.i,function(p,g){d.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Ho.prototype,t.add=function(d,p){Ai(this),this.i=null,d=Sr(this,d);let g=this.g.get(d);return g||this.g.set(d,g=[]),g.push(p),this.h+=1,this};function y0(d,p){Ai(d),p=Sr(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function v0(d,p){return Ai(d),p=Sr(d,p),d.g.has(p)}t.forEach=function(d,p){Ai(this),this.g.forEach(function(g,N){g.forEach(function(D){d.call(p,D,N,this)},this)},this)};function b0(d,p){Ai(d);let g=[];if(typeof p=="string")v0(d,p)&&(g=g.concat(d.g.get(Sr(d,p))));else for(d=Array.from(d.g.values()),p=0;p<d.length;p++)g=g.concat(d[p]);return g}t.set=function(d,p){return Ai(this),this.i=null,d=Sr(this,d),v0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=b0(this,d),d.length>0?String(d[0]):p):p};function _0(d,p,g){y0(d,p),g.length>0&&(d.i=null,d.g.set(Sr(d,p),x(g)),d.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(let N=0;N<p.length;N++){var g=p[N];const D=Fo(g);g=b0(this,g);for(let L=0;L<g.length;L++){let $=D;g[L]!==""&&($+="="+Fo(g[L])),d.push($)}}return this.i=d.join("&")};function w0(d){const p=new Ho;return p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),p}function Sr(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function FS(d,p){p&&!d.j&&(Ai(d),d.i=null,d.g.forEach(function(g,N){const D=N.toLowerCase();N!=D&&(y0(this,N),_0(this,D,g))},d)),d.j=p}function zS(d,p){const g=new be;if(o.Image){const N=new Image;N.onload=h(ks,g,"TestLoadImage: loaded",!0,p,N),N.onerror=h(ks,g,"TestLoadImage: error",!1,p,N),N.onabort=h(ks,g,"TestLoadImage: abort",!1,p,N),N.ontimeout=h(ks,g,"TestLoadImage: timeout",!1,p,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else p(!1)}function US(d,p){const g=new be,N=new AbortController,D=setTimeout(()=>{N.abort(),ks(g,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:N.signal}).then(L=>{clearTimeout(D),L.ok?ks(g,"TestPingServer: ok",!0,p):ks(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),ks(g,"TestPingServer: error",!1,p)})}function ks(d,p,g,N,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),N(g)}catch{}}function BS(){this.g=new uh}function _h(d){this.i=d.Sb||null,this.h=d.ab||!1}f(_h,tc),_h.prototype.g=function(){return new ac(this.i,this.h)};function ac(d,p){et.call(this),this.H=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ac,et),t=ac.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=p,this.readyState=1,Go(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(p.body=d),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;E0(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function E0(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Wo(this):Go(this),this.readyState==3&&E0(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Wo(this))},t.Na=function(d){this.g&&(this.response=d,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Go(d)}t.setRequestHeader=function(d,p){this.A.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,d.push(g[0]+": "+g[1]),g=p.next();return d.join(`\r
`)};function Go(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function S0(d){let p="";return H(d,function(g,N){p+=N,p+=":",p+=g,p+=`\r
`}),p}function wh(d,p,g){e:{for(N in g){var N=!1;break e}N=!0}N||(g=S0(g),typeof d=="string"?g!=null&&Fo(g):Ce(d,p,g))}function Be(d){et.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Be,et);var qS=/^https?$/i,$S=["POST","PUT"];t=Be.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,p,g,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():r0.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(L){N0(this,L);return}if(d=g||"",g=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var D in N)g.set(D,N[D]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const L of N.keys())g.set(L,N.get(L));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),D=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call($S,p,void 0)>=0)||N||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of g)this.g.setRequestHeader(L,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(L){N0(this,L)}};function N0(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.o=5,T0(d),lc(d)}function T0(d){d.A||(d.A=!0,Qe(d,"complete"),Qe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Qe(this,"complete"),Qe(this,"abort"),lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lc(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?I0(this):this.Xa())},t.Xa=function(){I0(this)};function I0(d){if(d.h&&typeof r<"u"){if(d.v&&Cs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Qe(d,"readystatechange"),Cs(d)==4){d.h=!1;try{const L=d.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var N;if(N=L===0){let $=String(d.D).match(g0)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),N=!qS.test($?$.toLowerCase():"")}g=N}if(g)Qe(d,"complete"),Qe(d,"success");else{d.o=6;try{var D=Cs(d)>2?d.g.statusText:""}catch{D=""}d.l=D+" ["+d.ca()+"]",T0(d)}}finally{lc(d)}}}}function lc(d,p){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const g=d.g;d.g=null,p||Qe(d,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cs(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),ch(p)}};function k0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function HS(d){const p={};d=(d.g&&Cs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(j(d[N]))continue;var g=CS(d[N]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[D]||[];p[D]=L,L.push(g)}X(p,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(d,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[d]||p}function C0(d){this.za=0,this.i=[],this.j=new be,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ko("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ko("baseRetryDelayMs",5e3,d),this.Za=Ko("retryDelaySeedMs",1e4,d),this.Ta=Ko("forwardChannelMaxRetries",2,d),this.va=Ko("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new d0(d&&d.concurrentRequestLimit),this.Ba=new BS,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=C0.prototype,t.ka=8,t.I=1,t.connect=function(d,p,g,N){O(0),this.W=d,this.H=p||{},g&&N!==void 0&&(this.H.OSID=g,this.H.OAID=N),this.F=this.X,this.J=V0(this,null,this.W),uc(this)};function Eh(d){if(j0(d),d.I==3){var p=d.V++,g=jn(d.J);if(Ce(g,"SID",d.M),Ce(g,"RID",p),Ce(g,"TYPE","terminate"),Qo(d,g),p=new Ts(d,d.j,p),p.M=2,p.A=oc(jn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=F0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),rc(p)}L0(d)}function cc(d){d.g&&(Nh(d),d.g.cancel(),d.g=null)}function j0(d){cc(d),d.v&&(o.clearTimeout(d.v),d.v=null),dc(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function uc(d){if(!h0(d.h)&&!d.m){d.m=!0;var p=d.Ea;R||w(),M||(R(),M=!0),S.add(p,d),d.D=0}}function WS(d,p){return f0(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=p.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=W(u(d.Ea,d,p),O0(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const D=new Ts(this,this.j,d);let L=this.o;if(this.U&&(L?(L=ue(L),Ue(L,this.U)):L=this.U),this.u!==null||this.R||(D.J=L,L=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var N=this.i[g];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=P0(this,D,p),g=jn(this.J),Ce(g,"RID",d),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),Qo(this,g),L&&(this.R?p="headers="+Fo(S0(L))+"&"+p:this.u&&wh(g,this.u,L)),vh(this.h,D),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",p),Ce(g,"SID","null"),D.U=!0,ph(D,g,null)):ph(D,g,p),this.I=2}}else this.I==3&&(d?A0(this,d):this.i.length==0||h0(this.h)||A0(this))};function A0(d,p){var g;p?g=p.l:g=d.V++;const N=jn(d.J);Ce(N,"SID",d.M),Ce(N,"RID",g),Ce(N,"AID",d.K),Qo(d,N),d.u&&d.o&&wh(N,d.u,d.o),g=new Ts(d,d.j,g,d.D+1),d.u===null&&(g.J=d.o),p&&(d.i=p.G.concat(d.i)),p=P0(d,g,1e3),g.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),vh(d.h,g),ph(g,N,p)}function Qo(d,p){d.H&&H(d.H,function(g,N){Ce(p,N,g)}),d.l&&H({},function(g,N){Ce(p,N,g)})}function P0(d,p,g){g=Math.min(d.i.length,g);const N=d.l?u(d.l.Ka,d.l,d):null;e:{var D=d.i;let le=-1;for(;;){const tt=["count="+g];le==-1?g>0?(le=D[0].g,tt.push("ofs="+le)):le=0:tt.push("ofs="+le);let Te=!0;for(let at=0;at<g;at++){var L=D[at].g;const An=D[at].map;if(L-=le,L<0)le=Math.max(0,D[at].g-100),Te=!1;else try{L="req"+L+"_"||"";try{var $=An instanceof Map?An:Object.entries(An);for(const[Ri,js]of $){let As=js;a(js)&&(As=wr(js)),tt.push(L+Ri+"="+encodeURIComponent(As))}}catch(Ri){throw tt.push(L+"type="+encodeURIComponent("_badmap")),Ri}}catch{N&&N(An)}}if(Te){$=tt.join("&");break e}}$=void 0}return d=d.i.splice(0,g),p.G=d,$}function R0(d){if(!d.g&&!d.v){d.Y=1;var p=d.Da;R||w(),M||(R(),M=!0),S.add(p,d),d.A=0}}function Sh(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=W(u(d.Da,d),O0(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,M0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=W(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,O(10),cc(this),M0(this))};function Nh(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function M0(d){d.g=new Ts(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var p=jn(d.na);Ce(p,"RID","rpc"),Ce(p,"SID",d.M),Ce(p,"AID",d.K),Ce(p,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ce(p,"TO",d.ia),Ce(p,"TYPE","xmlhttp"),Qo(d,p),d.u&&d.o&&wh(p,d.u,d.o),d.O&&(d.g.H=d.O);var g=d.g;d=d.ba,g.M=1,g.A=oc(jn(p)),g.u=null,g.R=!0,l0(g,d)}t.Va=function(){this.C!=null&&(this.C=null,cc(this),Sh(this),O(19))};function dc(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function D0(d,p){var g=null;if(d.g==p){dc(d),Nh(d),d.g=null;var N=2}else if(yh(d.h,p))g=p.G,m0(d.h,p),N=1;else return;if(d.I!=0){if(p.o)if(N==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var D=d.D;N=Ci(),Qe(N,new q(N,g)),uc(d)}else R0(d);else if(D=p.m,D==3||D==0&&p.X>0||!(N==1&&WS(d,p)||N==2&&Sh(d)))switch(g&&g.length>0&&(p=d.h,p.i=p.i.concat(g)),D){case 1:Pi(d,5);break;case 4:Pi(d,10);break;case 3:Pi(d,6);break;default:Pi(d,2)}}}function O0(d,p){let g=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(g*=2),g*p}function Pi(d,p){if(d.j.info("Error code "+p),p==2){var g=u(d.bb,d),N=d.Ua;const D=!N;N=new Is(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Uo(N,"https"),oc(N),D?zS(N.toString(),g):US(N.toString(),g)}else O(2);d.I=0,d.l&&d.l.pa(p),L0(d),j0(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),O(2)):(this.j.info("Failed to ping google.com"),O(1))};function L0(d){if(d.I=0,d.ja=[],d.l){const p=p0(d.h);(p.length!=0||d.i.length!=0)&&(v(d.ja,p),v(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function V0(d,p,g){var N=g instanceof Is?jn(g):new Is(g);if(N.g!="")p&&(N.g=p+"."+N.g),Bo(N,N.u);else{var D=o.location;N=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;const L=new Is(null);N&&Uo(L,N),p&&(L.g=p),D&&Bo(L,D),g&&(L.h=g),N=L}return g=d.G,p=d.wa,g&&p&&Ce(N,g,p),Ce(N,"VER",d.ka),Qo(d,N),N}function F0(d,p,g){if(p&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Aa&&!d.ma?new Be(new _h({ab:g})):new Be(d.ma),p.Fa(d.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function z0(){}t=z0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hc(){}hc.prototype.g=function(d,p){return new Wt(d,p)};function Wt(d,p){et.call(this),this.g=new C0(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(d?d["X-WebChannel-Client-Profile"]=p.sa:d={"X-WebChannel-Client-Profile":p.sa}),this.g.U=d,(d=p&&p.Qb)&&!j(d)&&(this.g.u=d),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!j(p)&&(this.g.G=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new Nr(this)}f(Wt,et),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Eh(this.g)},Wt.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var g={};g.__data__=d,d=g}else this.v&&(g={},g.__data__=wr(d),d=g);p.i.push(new PS(p.Ya++,d)),p.I==3&&uc(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Eh(this.g),delete this.g,Wt.Z.N.call(this)};function U0(d){Oo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const g in p){d=g;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}f(U0,Oo);function B0(){Lo.call(this),this.status=1}f(B0,Lo);function Nr(d){this.g=d}f(Nr,z0),Nr.prototype.ra=function(){Qe(this.g,"a")},Nr.prototype.qa=function(d){Qe(this.g,new U0(d))},Nr.prototype.pa=function(d){Qe(this.g,new B0)},Nr.prototype.oa=function(){Qe(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,dE=function(){return new hc},uE=function(){return Ci()},cE=gn,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,gu=ic,i0.COMPLETE="complete",lE=i0,Do.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",et.prototype.listen=et.prototype.J,xa=Do,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,aE=Be}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",Ry="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Qp("@firebase/firestore");function Cr(){return ar.logLevel}function G(t,...e){if(ar.logLevel<=he.DEBUG){const n=e.map(og);ar.debug(`Firestore (${Co}): ${t}`,...n)}}function vs(t,...e){if(ar.logLevel<=he.ERROR){const n=e.map(og);ar.error(`Firestore (${Co}): ${t}`,...n)}}function po(t,...e){if(ar.logLevel<=he.WARN){const n=e.map(og);ar.warn(`Firestore (${Co}): ${t}`,...n)}}function og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,hE(t,s,n)}function hE(t,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vs(s),new Error(s)}function Ee(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||hE(e,i,s)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class BA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qA{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ci,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ee(typeof s.accessToken=="string",31837,{l:s}),new fE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class $A{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HA{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $A(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class My{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const s=r=>{r.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new My(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=GA(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function fe(t,e){return t<e?-1:t>e?1:0}function km(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return af(i)===af(r)?fe(i,r):af(i)?1:-1}return fe(t.length,e.length)}const KA=55296,QA=57343;function af(t){const e=t.charCodeAt(0);return e>=KA&&e<=QA}function go(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class On{constructor(e,n,s){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return On.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof On?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=On.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return fe(e.length,n.length)}static compareSegments(e,n){const s=On.isNumericId(e),i=On.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?On.extractNumericId(e).compare(On.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Le extends On{construct(e,n,s){return new Le(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const YA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends On{construct(e,n,s){return new pt(e,n,s)}static isValidIdentifier(e){return YA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new pt([Dy])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Le.fromString(e))}static fromName(e){return new te(Le.fromString(e).popFirst(5))}static empty(){return new te(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t,e,n){if(!n)throw new J(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JA(t,e,n,s){if(e===!0&&s===!0)throw new J(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Oy(t){if(!te.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function fl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(t);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ul(t,e){if(!mE(t))throw new J(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new J(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-62135596800,Vy=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vy);return new Ae(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ly)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vy}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ul(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ly;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Je("string",Ae._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ae(0,0))}static max(){return new ie(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function ZA(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(s===1e9?new Ae(n+1,0):new Ae(n,s));return new fi(i,te.empty(),e)}function eP(t){return new fi(t.readTime,t.key,ml)}class fi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fi(ie.min(),te.empty(),ml)}static max(){return new fi(ie.max(),te.empty(),ml)}}function tP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==nP)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,s)=>{n(e)})}static reject(e){return new V((n,s)=>{s(e)})}static waitFor(e){return new V((n,s)=>{let i=0,r=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=V.resolve(!1);for(const s of e)n=n.next(i=>i?V.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new V((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let c=0;c<r;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===r&&s(o)},h=>i(h))}})}static doWhile(e,n){return new V((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function iP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function Kd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function rP(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="";function oP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fy(e)),e=aP(t.get(n),e);return Fy(e)}function aP(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case pE:n+="";break;default:n+=r}}return n}function Fy(t){return t+pE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??mt.RED,this.left=i??mt.EMPTY,this.right=r??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new mt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new ot(pt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new xE("Invalid base64 string: "+r):r}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const lP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=lP.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pi(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="server_timestamp",vE="__type__",bE="__previous_value__",_E="__local_write_time__";function ug(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vE])==null?void 0:s.stringValue)===yE}function Qd(t){const e=t.mapValue.fields[bE];return ug(e)?Qd(e):e}function pl(t){const e=mi(t.mapValue.fields[_E].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,s,i,r,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const od="(default)";class gl{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__type__",EE="__max__",Dc={mapValue:{fields:{__type__:{stringValue:EE}}}},SE="__vector__",ad="value";function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:dP(t)?9007199254740991:uP(t)?10:11:se(28295,{value:t})}function Kn(t,e){if(t===e)return!0;const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pl(t).isEqual(pl(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=mi(i.timestampValue),a=mi(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return pi(i.bytesValue).isEqual(pi(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return We(i.geoPointValue.latitude)===We(r.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return We(i.integerValue)===We(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=We(i.doubleValue),a=We(r.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return go(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(zy(o)!==zy(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Kn(o[c],a[c])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function xl(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=gi(t),s=gi(e);if(n!==s)return fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=We(r.integerValue||r.doubleValue),c=We(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return By(t.timestampValue,e.timestampValue);case 4:return By(pl(t),pl(e));case 5:return km(t.stringValue,e.stringValue);case 6:return function(r,o){const a=pi(r),c=pi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=fe(a[u],c[u]);if(h!==0)return h}return fe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=fe(We(r.latitude),We(o.latitude));return a!==0?a:fe(We(r.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qy(t.arrayValue,e.arrayValue);case 10:return function(r,o){var m,x,v,b;const a=r.fields||{},c=o.fields||{},u=(m=a[ad])==null?void 0:m.arrayValue,h=(x=c[ad])==null?void 0:x.arrayValue,f=fe(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((b=h==null?void 0:h.values)==null?void 0:b.length)||0);return f!==0?f:qy(u,h)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===Dc.mapValue&&o===Dc.mapValue)return 0;if(r===Dc.mapValue)return 1;if(o===Dc.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=km(c[f],h[f]);if(m!==0)return m;const x=xo(a[c[f]],u[h[f]]);if(x!==0)return x}return fe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function By(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=mi(t),s=mi(e),i=fe(n.seconds,s.seconds);return i!==0?i:fe(n.nanos,s.nanos)}function qy(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=xo(n[i],s[i]);if(r)return r}return fe(n.length,s.length)}function yo(t){return Cm(t)}function Cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=mi(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=Cm(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${Cm(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function xu(t){switch(gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(t);return e?16+xu(e):16;case 5:return 2*t.stringValue.length;case 6:return pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+xu(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return mr(s.fields,(r,o)=>{i+=r.length+xu(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function jm(t){return!!t&&"integerValue"in t}function dg(t){return!!t&&"arrayValue"in t}function $y(t){return!!t&&"nullValue"in t}function Hy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yu(t){return!!t&&"mapValue"in t}function uP(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wE])==null?void 0:s.stringValue)===SE}function La(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=La(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return{...t}}function dP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=pt.emptyPath(),s={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=La(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){mr(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new ln(La(this.value))}}function NE(t){const e=[];return mr(t.fields,(n,s)=>{const i=new pt([n]);if(yu(s)){const r=NE(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,ie.min(),ie.min(),ie.min(),ln.empty(),0)}static newFoundDocument(e,n,s,i){return new Tt(e,1,n,ie.min(),s,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,ie.min(),ie.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,ie.min(),ie.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.position=e,this.inclusive=n}}function Wy(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=te.comparator(te.fromName(o.referenceValue),n.key):s=xo(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function hP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{}class st extends TE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mP(e,n,s):n==="array-contains"?new xP(e,s):n==="in"?new yP(e,s):n==="not-in"?new vP(e,s):n==="array-contains-any"?new bP(e,s):new st(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pP(e,s):new gP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends TE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return IE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(t){return t.op==="and"}function kE(t){return fP(t)&&IE(t)}function fP(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Am(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+yo(t.value);if(kE(t))return t.filters.map(e=>Am(e)).join(",");{const e=t.filters.map(n=>Am(n)).join(",");return`${t.op}(${e})`}}function CE(t,e){return t instanceof st?function(s,i){return i instanceof st&&s.op===i.op&&s.field.isEqual(i.field)&&Kn(s.value,i.value)}(t,e):t instanceof Qn?function(s,i){return i instanceof Qn&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,a)=>r&&CE(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function jE(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(jE).join(" ,")+"}"}(t):"Filter"}class mP extends st{constructor(e,n,s){super(e,n,s),this.key=te.fromName(s.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class pP extends st{constructor(e,n){super(e,"in",n),this.keys=AE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gP extends st{constructor(e,n){super(e,"not-in",n),this.keys=AE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>te.fromName(s.referenceValue))}class xP extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dg(n)&&xl(n.arrayValue,this.value)}}class yP extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class vP extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class bP extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.Te=null}}function Ky(t,e=null,n=[],s=[],i=null,r=null,o=null){return new _P(t,e,n,s,i,r,o)}function hg(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Am(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>yo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>yo(s)).join(",")),e.Te=n}return e.Te}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gy(t.startAt,e.startAt)&&Gy(t.endAt,e.endAt)}function Pm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wP(t,e,n,s,i,r,o,a){return new Yd(t,e,n,s,i,r,o,a)}function mg(t){return new Yd(t)}function Qy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EP(t){return t.collectionGroup!==null}function Va(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new cd(r,s))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new cd(pt.keyField(),s))}return e.Ie}function qn(t){const e=re(t);return e.Ee||(e.Ee=SP(e,Va(t))),e.Ee}function SP(t,e){if(t.limitType==="F")return Ky(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new cd(i.field,r)});const n=t.endAt?new ld(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ld(t.startAt.position,t.startAt.inclusive):null;return Ky(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Rm(t,e,n){return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return fg(qn(t),qn(e))&&t.limitType===e.limitType}function PE(t){return`${hg(qn(t))}|lt:${t.limitType}`}function jr(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>jE(i)).join(", ")}]`),Kd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>yo(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>yo(i)).join(",")),`Target(${s})`}(qn(t))}; limitType=${t.limitType})`}function Jd(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):te.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of Va(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,a,c){const u=Wy(o,a,c);return o.inclusive?u<=0:u<0}(s.startAt,Va(s),i)||s.endAt&&!function(o,a,c){const u=Wy(o,a,c);return o.inclusive?u>=0:u>0}(s.endAt,Va(s),i))}(t,e)}function NP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RE(t){return(e,n)=>{let s=!1;for(const i of Va(t)){const r=TP(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function TP(t,e,n){const s=t.field.isKeyField()?te.comparator(e.key,n.key):function(r,o,a){const c=o.data.field(r),u=a.data.field(r);return c!==null&&u!==null?xo(c,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new ze(te.comparator);function bs(){return IP}const ME=new ze(te.comparator);function ya(...t){let e=ME;for(const n of t)e=e.insert(n.key,n);return e}function DE(t){let e=ME;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Wi(){return Fa()}function OE(){return Fa()}function Fa(){return new pr(t=>t.toString(),(t,e)=>t.isEqual(e))}const kP=new ze(te.comparator),CP=new ot(te.comparator);function me(...t){let e=CP;for(const n of t)e=e.add(n);return e}const jP=new ot(fe);function AP(){return jP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function LE(t){return{integerValue:""+t}}function PP(t,e){return rP(e)?LE(e):pg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}function RP(t,e,n){return t instanceof ud?function(i,r){const o={fields:{[vE]:{stringValue:yE},[_E]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ug(r)&&(r=Qd(r)),r&&(o.fields[bE]=r),{mapValue:o}}(n,e):t instanceof yl?FE(t,e):t instanceof vl?zE(t,e):function(i,r){const o=VE(i,r),a=Yy(o)+Yy(i.Ae);return jm(o)&&jm(i.Ae)?LE(a):pg(i.serializer,a)}(t,e)}function MP(t,e,n){return t instanceof yl?FE(t,e):t instanceof vl?zE(t,e):n}function VE(t,e){return t instanceof dd?function(s){return jm(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class ud extends Zd{}class yl extends Zd{constructor(e){super(),this.elements=e}}function FE(t,e){const n=UE(e);for(const s of t.elements)n.some(i=>Kn(i,s))||n.push(s);return{arrayValue:{values:n}}}class vl extends Zd{constructor(e){super(),this.elements=e}}function zE(t,e){let n=UE(e);for(const s of t.elements)n=n.filter(i=>!Kn(i,s));return{arrayValue:{values:n}}}class dd extends Zd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yy(t){return We(t.integerValue||t.doubleValue)}function UE(t){return dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DP(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof yl&&i instanceof yl||s instanceof vl&&i instanceof vl?go(s.elements,i.elements,Kn):s instanceof dd&&i instanceof dd?Kn(s.Ae,i.Ae):s instanceof ud&&i instanceof ud}(t.transform,e.transform)}class OP{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eh{}function BE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $E(t.key,hs.none()):new Bl(t.key,t.data,hs.none());{const n=t.data,s=ln.empty();let i=new ot(pt.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new gr(t.key,s,new wn(i.toArray()),hs.none())}}function LP(t,e,n){t instanceof Bl?function(i,r,o){const a=i.value.clone(),c=Jy(i.fieldTransforms,r,o.transformResults);a.setAll(c),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gr?function(i,r,o){if(!vu(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Jy(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(qE(i)),c.setAll(a),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function za(t,e,n,s){return t instanceof Bl?function(r,o,a,c){if(!vu(r.precondition,o))return a;const u=r.value.clone(),h=Zy(r.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof gr?function(r,o,a,c){if(!vu(r.precondition,o))return a;const u=Zy(r.fieldTransforms,c,o),h=o.data;return h.setAll(qE(r)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(r,o,a){return vu(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VP(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=VE(s.transform,i||null);r!=null&&(n===null&&(n=ln.empty()),n.set(s.field,r))}return n||null}function Xy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&go(s,i,(r,o)=>DP(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bl extends eh{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gr extends eh{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function qE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Jy(t,e,n){const s=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,MP(o,a,n[i]))}return s}function Zy(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,RP(r,o,e))}return s}class $E extends eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&LP(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=za(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=za(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=OE();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const c=BE(o,a);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>Xy(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>Xy(n,s))}}class gg{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Ee(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return kP}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new gg(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,pe;function qP(t){switch(t){case z.OK:return se(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function HE(t){if(t===void 0)return vs("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ye.OK:return z.OK;case Ye.CANCELLED:return z.CANCELLED;case Ye.UNKNOWN:return z.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return z.INTERNAL;case Ye.UNAVAILABLE:return z.UNAVAILABLE;case Ye.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ye.NOT_FOUND:return z.NOT_FOUND;case Ye.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ye.ABORTED:return z.ABORTED;case Ye.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ye.DATA_LOSS:return z.DATA_LOSS;default:return se(39323,{code:t})}}(pe=Ye||(Ye={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new li([4294967295,4294967295],0);function ev(t){const e=$P().encode(t),n=new oE;return n.update(e),new Uint8Array(n.digest())}function tv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new li([n,s],0),new li([i,r],0)]}class xg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new va(`Invalid padding: ${n}`);if(s<0)throw new va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new va(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(li.fromNumber(s)));return i.compare(HP)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ev(e),[s,i]=tv(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new xg(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=ev(e),[s,i]=tv(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new th(ie.min(),i,new ze(fe),bs(),me())}}class ql{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ql(s,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class WE{constructor(e,n){this.targetId=e,this.Ce=n}}class GE{constructor(e,n,s=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class nv{constructor(){this.ve=0,this.Fe=sv(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),s=me();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:se(38017,{changeType:r})}}),new ql(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=sv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WP{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Oc(),this.He=Oc(),this.Ye=new ze(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(Pm(r))if(s===0){const o=new te(r.path);this.et(n,o,Tt.newNoDocument(o,ie.min()))}else Ee(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=pi(s).toUint8Array()}catch(c){if(c instanceof xE)return po("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new xg(o,i,r)}catch(c){return po(c instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,o)=>{const a=this.ot(o);if(a){if(r.current&&Pm(a.target)){const c=new te(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Tt.newNoDocument(c,e))}r.Be&&(n.set(o,r.ke()),r.qe())}});let s=me();this.He.forEach((r,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.je.forEach((r,o)=>o.setReadTime(e));const i=new th(e,n,this.Ye,this.je,s);return this.je=bs(),this.Je=Oc(),this.He=Oc(),this.Ye=new ze(fe),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oc(){return new ze(te.comparator)}function sv(){return new ze(te.comparator)}const GP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QP=(()=>({and:"AND",or:"OR"}))();class YP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(t,e){return t.useProto3Json||Kd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XP(t,e){return hd(t,e.toTimestamp())}function $n(t){return Ee(!!t,49232),ie.fromTimestamp(function(n){const s=mi(n);return new Ae(s.seconds,s.nanos)}(t))}function yg(t,e){return Dm(t,e).canonicalString()}function Dm(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QE(t){const e=Le.fromString(t);return Ee(e2(e),10190,{key:e.toString()}),e}function Om(t,e){return yg(t.databaseId,e.path)}function lf(t,e){const n=QE(e);if(n.get(1)!==t.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(XE(n))}function YE(t,e){return yg(t.databaseId,e)}function JP(t){const e=QE(t);return e.length===4?Le.emptyPath():XE(e)}function Lm(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XE(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iv(t,e,n){return{name:Om(t,e),fields:n.value.mapValue.fields}}function ZP(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(u,h){return u.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:HE(u.code);return new J(h,u.message||"")}(o);n=new GE(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=lf(t,s.document.name),r=$n(s.document.updateTime),o=s.document.createTime?$n(s.document.createTime):ie.min(),a=new ln({mapValue:{fields:s.document.fields}}),c=Tt.newFoundDocument(i,r,o,a),u=s.targetIds||[],h=s.removedTargetIds||[];n=new bu(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=lf(t,s.document),r=s.readTime?$n(s.readTime):ie.min(),o=Tt.newNoDocument(i,r),a=s.removedTargetIds||[];n=new bu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=lf(t,s.document),r=s.removedTargetIds||[];n=new bu([],r,i,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new BP(i,r),a=s.targetId;n=new WE(a,o)}}return n}function eR(t,e){let n;if(e instanceof Bl)n={update:iv(t,e.key,e.value)};else if(e instanceof $E)n={delete:Om(t,e.key)};else if(e instanceof gr)n={update:iv(t,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof FP))return se(16599,{Vt:e.type});n={verify:Om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const a=o.transform;if(a instanceof ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:XP(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:se(27497)}(t,e.precondition)),n}function tR(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?$n(i.updateTime):$n(r);return o.isEqual(ie.min())&&(o=$n(r)),new OP(o,i.transformResults||[])}(n,e))):[]}function nR(t,e){return{documents:[YE(t,e.path)]}}function sR(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YE(t,i);const r=function(u){if(u.length!==0)return ZE(Qn.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Ar(m.field),direction:oR(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function iR(t){let e=JP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Ee(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(f){const m=JE(f);return m instanceof Qn&&kE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(v){return new cd(Pr(v.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Kd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,x=f.values||[];return new ld(x,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,x=f.values||[];return new ld(x,m)}(n.endAt)),wP(e,i,o,r,a,"F",c,u)}function rR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pr(n.unaryFilter.field);return st.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Pr(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pr(n.unaryFilter.field);return st.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pr(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return st.create(Pr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>JE(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function oR(t){return GP[t]}function aR(t){return KP[t]}function lR(t){return QP[t]}function Ar(t){return{fieldPath:t.canonicalString()}}function Pr(t){return pt.fromServerFormat(t.fieldPath)}function ZE(t){return t instanceof st?function(n){if(n.op==="=="){if(Hy(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NAN"}};if($y(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hy(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NOT_NAN"}};if($y(n.value))return{unaryFilter:{field:Ar(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(n.field),op:aR(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const s=n.getFilters().map(i=>ZE(i));return s.length===1?s[0]:{compositeFilter:{op:lR(n.op),filters:s}}}(t):se(54877,{filter:t})}function cR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,s,i,r=ie.min(),o=ie.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.yt=e}}function dR(t){const e=iR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.Cn=new fR}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(fi.min())}updateCollectionGroup(e,n,s){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class fR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new ot(Le.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new ot(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t2=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(t2,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LruGarbageCollector",mR=1048576;function av([t,e],[n,s]){const i=fe(t,n);return i===0?fe(e,s):i}class pR{constructor(e){this.Ir=e,this.buffer=new ot(av),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();av(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gR{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(ov,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?G(ov,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)})}}class xR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Gd.ce);const s=new pR(n);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(rv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,r,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(s=f,a=Date.now(),this.removeTargets(e,s,n))).next(f=>(r=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(u=Date.now(),Cr()<=he.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${r} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:f})))}}function yR(t,e){return new xR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.changes=new pr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?V.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&za(s.mutation,i,wn.empty(),Ae.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=me()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=ya();return r.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Wi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,me()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,i){let r=bs();const o=Fa(),a=function(){return Fa()}();return n.forEach((c,u)=>{const h=s.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof gr)?r=r.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),za(h.mutation,u,h.mutation.getFieldMask(),Ae.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new bR(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const s=Fa();let i=new ze((o,a)=>o-a),r=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=s.get(c)||wn.empty();h=a.applyToLocalView(u,h),s.set(c,h);const f=(i.get(a.batchId)||me()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=OE();h.forEach(m=>{if(!r.has(m)){const x=BE(n.get(m),s.get(m));x!==null&&f.set(m,x),r=r.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return V.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):V.resolve(Wi());let a=ml,c=r;return o.next(u=>V.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),r.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,c,u,me())).next(h=>({batchId:a,changes:DE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(s=>{let i=ya();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=ya();return this.indexManager.getCollectionParents(e,r).next(a=>V.forEach(a,c=>{const u=function(f,m){return new Yd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,s,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))});let a=ya();return o.forEach((c,u)=>{const h=r.get(c);h!==void 0&&za(h.mutation,u,wn.empty(),Ae.now()),Jd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return V.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:dR(i.bundledQuery),readTime:$n(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.overlays=new ze(te.comparator),this.qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Wi();return V.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),V.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(s)),V.resolve()}getOverlaysForCollection(e,n,s){const i=Wi(),r=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new ze((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let h=r.get(u.largestBatchId);h===null&&(h=Wi(),r=r.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Wi(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return V.resolve(a)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new UP(n,s));let r=this.qr.get(n);r===void 0&&(r=me(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Qr=new ot(lt.$r),this.Ur=new ot(lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new lt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new te(new Le([])),s=new lt(n,e),i=new lt(n,e+1),r=[];return this.Ur.forEachInRange([s,i],o=>{this.Gr(o),r.push(o.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Le([])),s=new lt(n,e),i=new lt(n,e+1);let r=me();return this.Ur.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(lt.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zP(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new lt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return V.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?cg:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],o=>{const a=this.Xr(o.Yr);r.push(a)}),V.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ot(fe);return n.forEach(i=>{const r=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,o],a=>{s=s.add(a.Yr)})}),V.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;te.isDocumentKey(r)||(r=r.child(""));const o=new lt(new te(r),0);let a=new ot(fe);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),V.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return V.forEach(n.mutations,i=>{const r=new lt(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new lt(n,0),i=this.Zr.firstAfterOrEqual(s);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.ri=e,this.docs=function(){return new ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return V.resolve(s?s.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let s=bs();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Tt.newInvalidDocument(i))}),V.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=bs();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||tP(eP(h),s)<=0||(i.has(h.key)||Jd(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return V.resolve(r)}getAllFromCollectionGroup(e,n,s,i){se(9500)}ii(e,n){return V.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new IR(this)}getSize(e){return V.resolve(this.size)}}class IR extends vR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),V.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.persistence=e,this.si=new pr(n=>hg(n),fg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach((s,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),V.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Pr(n),V.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.si.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(r).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return V.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),V.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return V.resolve(s)}containsKey(e,n){return V.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gd(0),this.li=!1,this.li=!0,this.hi=new SR,this.referenceDelegate=e(this),this.Pi=new kR(this),this.indexManager=new hR,this.remoteDocumentCache=function(i){return new TR(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new uR(n),this.Ii=new wR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ER,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new NR(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){G("MemoryPersistence","Starting transaction:",e);const i=new CR(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(r=>this.referenceDelegate.di(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ai(e,n){return V.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class CR extends sP{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new bg(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),V.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.fi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,s=>{const i=te.fromPath(s);return this.gi(e,i).next(r=>{r||n.removeEntry(i,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.pi=new pr(s=>oP(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=yR(this,n)}static mi(e,n){return new fd(e,n)}Ei(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return V.forEach(this.pi,(s,i)=>this.br(e,s,i).next(r=>r?V.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(s++,r.removeEntry(o,ie.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),V.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xu(e.data.value)),n}br(e,n,s){return V.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return V.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=me(),i=me();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new _g(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nk()?8:iP(kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ys(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ws(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new jR;return this.Ss(e,n,o).next(a=>{if(r.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>r.result)}bs(e,n,s,i){return s.documentReadCount<this.fs?(Cr()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(Cr()<=he.DEBUG&&G("QueryEngine","Query:",jr(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Cr()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):V.resolve())}ys(e,n){if(Qy(n))return V.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rm(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=me(...r);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,Rm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,i){return Qy(n)||i.isEqual(ie.min())?V.resolve(null):this.ps.getDocuments(e,s).next(r=>{const o=this.Ds(n,r);return this.Cs(n,o,s,i)?V.resolve(null):(Cr()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jr(n)),this.vs(e,o,n,ZA(i,ml)).next(a=>a))})}Ds(e,n){let s=new ot(RE(e));return n.forEach((i,r)=>{Jd(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return Cr()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",jr(n)),this.ps.getDocumentsMatchingQuery(e,n,fi.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",PR=3e8;class RR{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ze(fe),this.xs=new pr(r=>hg(r),fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _R(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function MR(t,e,n,s){return new RR(t,e,n,s)}async function s2(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let c=me();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of r){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function DR(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,m=f.keys();let x=V.resolve();return m.forEach(v=>{x=x.next(()=>h.getEntry(c,v)).next(b=>{const I=u.docVersions.get(v);Ee(I!==null,48541),b.version.compareTo(I)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),h.addEntry(b)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let c=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function i2(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function OR(t,e){const n=re(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(r,h.addedDocuments,f)));let x=m.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(yt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,s)),i=i.insert(f,x),function(b,I,y){return b.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=PR?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,x,h)&&a.push(n.Pi.updateTargetData(r,x))});let c=bs(),u=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),a.push(LR(r,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!s.isEqual(ie.min())){const h=n.Pi.getLastRemoteSnapshotVersion(r).next(f=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(h)}return V.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,u)).next(()=>c)}).then(r=>(n.Ms=i,r))}function LR(t,e,n){let s=me(),i=me();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=bs();return n.forEach((a,c)=>{const u=r.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G(wg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function VR(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function FR(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Pi.getTargetData(s,e).next(r=>r?(i=r,V.resolve(i)):n.Pi.allocateTargetId(s).next(o=>(i=new Ws(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Vm(t,e,n){const s=re(t),i=s.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ao(o))throw o;G(wg,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function lv(t,e,n){const s=re(t);let i=ie.min(),r=me();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=re(c),m=f.xs.get(h);return m!==void 0?V.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(s,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{r=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?r:me())).next(a=>(zR(s,NP(e),a),{documents:a,Qs:r})))}function zR(t,e,n){let s=t.Os.get(e)||ie.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Os.set(e,s)}class cv{constructor(){this.activeTargetIds=AP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.Mo=new cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(uv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(uv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Fm(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===od?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,r){const o=Fm(),a=this.zo(e,n.toUriEncodedString());G(cf,`Sending RPC '${e}' ${o}:`,a,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,r);const{host:u}=new URL(a),h=To(u);return this.Jo(e,a,c,s,h).then(f=>(G(cf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw po(cf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",s),f})}Ho(e,n,s,i,r,o){return this.Go(e,n,s,i,r)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}zo(e,n){const s=qR[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class WR extends $R{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const o=Fm();return new Promise((a,c)=>{const u=new aE;u.setWithCredentials(!0),u.listenOnce(lE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gu.NO_ERROR:const f=u.getResponseJson();G(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case gu.TIMEOUT:G(wt,`RPC '${e}' ${o} timed out`),c(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const m=u.getStatus();if(G(wt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const v=x==null?void 0:x.error;if(v&&v.status&&v.message){const b=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(v.status);c(new J(b,v.message))}else c(new J(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(z.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(wt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,s,15)})}T_(e,n,s){const i=Fm(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dE(),a=uE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");G(wt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,x=!1;const v=new HR({Yo:I=>{x?G(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(G(wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),G(wt,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},Zo:()=>f.close()}),b=(I,y,_)=>{I.listen(y,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return b(f,xa.EventType.OPEN,()=>{x||(G(wt,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),b(f,xa.EventType.CLOSE,()=>{x||(x=!0,G(wt,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),b(f,xa.EventType.ERROR,I=>{x||(x=!0,po(wt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),v.a_(new J(z.UNAVAILABLE,"The operation could not be completed")))}),b(f,xa.EventType.MESSAGE,I=>{var y;if(!x){const _=I.data[0];Ee(!!_,16349);const E=_,A=(E==null?void 0:E.error)||((y=E[0])==null?void 0:y.error);if(A){G(wt,`RPC '${e}' stream ${i} received error:`,A);const R=A.status;let M=function(k){const C=Ye[k];if(C!==void 0)return HE(C)}(R),S=A.message;M===void 0&&(M=z.INTERNAL,S="Unknown error status: "+R+" with message "+A.message),x=!0,v.a_(new J(M,S)),f.close()}else G(wt,`RPC '${e}' stream ${i} received:`,_),v.u_(_)}}),b(a,cE.STAT_EVENT,I=>{I.stat===Im.PROXY?G(wt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Im.NOPROXY&&G(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return new YP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="PersistentStream";class o2{constructor(e,n,s,i,r,o,a,c){this.Mi=e,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new J(z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GR extends o2{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZP(this.serializer,e),s=function(r){if(!("targetChange"in r))return ie.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?$n(o.readTime):ie.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Lm(this.serializer),n.addTarget=function(r,o){let a;const c=o.target;if(a=Pm(c)?{documents:nR(r,c)}:{query:sR(r,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KE(r,o.resumeToken);const u=Mm(r,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=hd(r,o.snapshotVersion.toTimestamp());const u=Mm(r,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const s=rR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.q_(n)}}class KR extends o2{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tR(e.writeResults,e.commitTime),s=$n(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Lm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>eR(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class YR extends QR{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Go(e,Dm(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(z.UNKNOWN,r.toString())})}Ho(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Dm(n,s),i,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="RemoteStore";class JR{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{xr(this)&&(G(lr,"Restarting streams for network reachability change."),await async function(c){const u=re(c);u.Ea.add(4),await $l(u),u.Ra.set("Unknown"),u.Ea.delete(4),await sh(u)}(this))})}),this.Ra=new XR(s,i)}}async function sh(t){if(xr(t))for(const e of t.da)await e(!0)}async function $l(t){for(const e of t.da)await e(!1)}function a2(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tg(n)?Ng(n):Po(n).O_()&&Sg(n,e))}function Eg(t,e){const n=re(t),s=Po(n);n.Ia.delete(e),s.O_()&&l2(n,e),n.Ia.size===0&&(s.O_()?s.L_():xr(n)&&n.Ra.set("Unknown"))}function Sg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(t).Y_(e)}function l2(t,e){t.Va.Ue(e),Po(t).Z_(e)}function Ng(t){t.Va=new WP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Po(t).start(),t.Ra.ua()}function Tg(t){return xr(t)&&!Po(t).x_()&&t.Ia.size>0}function xr(t){return re(t).Ea.size===0}function c2(t){t.Va=void 0}async function ZR(t){t.Ra.set("Online")}async function e4(t){t.Ia.forEach((e,n)=>{Sg(t,e)})}async function t4(t,e){c2(t),Tg(t)?(t.Ra.ha(e),Ng(t)):t.Ra.set("Unknown")}async function n4(t,e,n){if(t.Ra.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const a of r.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(s){G(lr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(t,s)}else if(e instanceof bu?t.Va.Ze(e):e instanceof WE?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const s=await i2(t.localStore);n.compareTo(s)>=0&&await function(r,o){const a=r.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ia.get(u);h&&r.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=r.Ia.get(c);if(!h)return;r.Ia.set(c,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),l2(r,c);const f=new Ws(h.target,c,u,h.sequenceNumber);Sg(r,f)}),r.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){G(lr,"Failed to raise snapshot:",s),await md(t,s)}}async function md(t,e,n){if(!Ao(e))throw e;t.Ea.add(1),await $l(t),t.Ra.set("Offline"),n||(n=()=>i2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(lr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sh(t)})}function u2(t,e){return e().catch(n=>md(t,n,e))}async function ih(t){const e=re(t),n=xi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;s4(e);)try{const i=await VR(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,i4(e,i)}catch(i){await md(e,i)}d2(e)&&h2(e)}function s4(t){return xr(t)&&t.Ta.length<10}function i4(t,e){t.Ta.push(e);const n=xi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function d2(t){return xr(t)&&!xi(t).x_()&&t.Ta.length>0}function h2(t){xi(t).start()}async function r4(t){xi(t).ra()}async function o4(t){const e=xi(t);for(const n of t.Ta)e.ea(n.mutations)}async function a4(t,e,n){const s=t.Ta.shift(),i=gg.from(s,e,n);await u2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ih(t)}async function l4(t,e){e&&xi(t).X_&&await async function(s,i){if(function(o){return qP(o)&&o!==z.ABORTED}(i.code)){const r=s.Ta.shift();xi(s).B_(),await u2(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await ih(s)}}(t,e),d2(t)&&h2(t)}async function fv(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G(lr,"RemoteStore received new credentials");const s=xr(n);n.Ea.add(3),await $l(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sh(n)}async function c4(t,e){const n=re(t);e?(n.Ea.delete(2),await sh(n)):e||(n.Ea.add(2),await $l(n),n.Ra.set("Unknown"))}function Po(t){return t.ma||(t.ma=function(n,s,i){const r=re(n);return r.sa(),new GR(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ZR.bind(null,t),t_:e4.bind(null,t),r_:t4.bind(null,t),H_:n4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Tg(t)?Ng(t):t.Ra.set("Unknown")):(await t.ma.stop(),c2(t))})),t.ma}function xi(t){return t.fa||(t.fa=function(n,s,i){const r=re(n);return r.sa(),new KR(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:r4.bind(null,t),r_:l4.bind(null,t),ta:o4.bind(null,t),na:a4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ih(t)):(await t.fa.stop(),t.Ta.length>0&&(G(lr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new Ig(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(t,e){if(vs("AsyncQueue",`${e}: ${t}`),Ao(t))return new J(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||te.comparator(n.key,s.key):(n,s)=>te.comparator(n.key,s.key),this.keyedMap=ya(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.ga=new ze(te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class bo{constructor(e,n,s,i,r,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bo(e,n,no.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class d4{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=re(n),r=i.queries;i.queries=pv(),r.forEach((o,a)=>{for(const c of a.Sa)c.onError(s)})})(this,new J(z.ABORTED,"Firestore shutting down"))}}function pv(){return new pr(t=>PE(t),Xd)}async function h4(t,e){const n=re(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.ba()&&e.Da()&&(s=2):(r=new u4,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=kg(o,`Initialization of query '${jr(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,r),r.Sa.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&Cg(n)}async function f4(t,e){const n=re(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(e);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=e.Da()?0:1:!r.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function m4(t,e){const n=re(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.Sa)a.Fa(i)&&(s=!0);o.wa=i}}s&&Cg(n)}function p4(t,e,n){const s=re(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function Cg(t){t.Ca.forEach(e=>{e.next()})}var zm,gv;(gv=zm||(zm={})).Ma="default",gv.Cache="cache";class g4{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.key=e}}class m2{constructor(e){this.key=e}}class x4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=RE(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new mv,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),x=Jd(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;m&&x?m.data.isEqual(x.data)?v!==b&&(s.track({type:3,doc:x}),I=!0):this.su(m,x)||(s.track({type:2,doc:x}),I=!0,(c&&this.eu(x,c)>0||u&&this.eu(x,u)<0)&&(a=!0)):!m&&x?(s.track({type:0,doc:x}),I=!0):m&&!x&&(s.track({type:1,doc:m}),I=!0,(c||u)&&(a=!0)),I&&(x?(o=o.add(x),r=b?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:a,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(x,v){const b=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:I})}};return b(x)-b(v)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(s),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new bo(this.query,e.tu,r,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new m2(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new f2(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jg="SyncEngine";class y4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class v4{constructor(e){this.key=e,this.hu=!1}}class b4{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new pr(a=>PE(a),Xd),this.Iu=new Map,this.Eu=new Set,this.du=new ze(te.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _4(t,e,n=!0){const s=b2(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await p2(s,e,n,!0),i}async function w4(t,e){const n=b2(t);await p2(n,e,!0,!1)}async function p2(t,e,n,s){const i=await FR(t.localStore,qn(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let a;return s&&(a=await E4(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&a2(t.remoteStore,i),a}async function E4(t,e,n,s,i){t.pu=(f,m,x)=>async function(b,I,y,_){let E=I.view.ru(y);E.Cs&&(E=await lv(b.localStore,I.query,!1).then(({documents:S})=>I.view.ru(S,E)));const A=_&&_.targetChanges.get(I.targetId),R=_&&_.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(E,b.isPrimaryClient,A,R);return yv(b,I.targetId,M.au),M.snapshot}(t,f,m,x);const r=await lv(t.localStore,e,!0),o=new x4(e,r.Qs),a=o.ru(r.documents),c=ql.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);yv(t,n,u.au);const h=new y4(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function S4(t,e,n){const s=re(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(o=>!Xd(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Vm(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&Eg(s.remoteStore,i.targetId),Um(s,i.targetId)}).catch(jo)):(Um(s,i.targetId),await Vm(s.localStore,i.targetId,!0))}async function N4(t,e){const n=re(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Eg(n.remoteStore,s.targetId))}async function T4(t,e,n){const s=R4(t);try{const i=await function(o,a){const c=re(o),u=Ae.now(),h=a.reduce((x,v)=>x.add(v.key),me());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let v=bs(),b=me();return c.Ns.getEntries(x,h).next(I=>{v=I,v.forEach((y,_)=>{_.isValidDocument()||(b=b.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,v)).next(I=>{f=I;const y=[];for(const _ of a){const E=VP(_,f.get(_.key).overlayedDocument);E!=null&&y.push(new gr(_.key,E,NE(E.value.mapValue),hs.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,y,a)}).next(I=>{m=I;const y=I.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(x,I.batchId,y)})}).then(()=>({batchId:m.batchId,changes:DE(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new ze(fe)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(s,i.batchId,n),await Hl(s,i.changes),await ih(s.remoteStore)}catch(i){const r=kg(i,"Failed to persist write");n.reject(r)}}async function g2(t,e){const n=re(t);try{const s=await OR(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Au.get(r);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ee(o.hu,14607):i.removedDocuments.size>0&&(Ee(o.hu,42227),o.hu=!1))}),await Hl(n,s,e)}catch(s){await jo(s)}}function xv(t,e,n){const s=re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=re(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&Cg(c)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function I4(t,e,n){const s=re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let o=new ze(te.comparator);o=o.insert(r,Tt.newNoDocument(r,ie.min()));const a=me().add(r),c=new th(ie.min(),new Map,new ze(fe),o,a);await g2(s,c),s.du=s.du.remove(r),s.Au.delete(e),Ag(s)}else await Vm(s.localStore,e,!1).then(()=>Um(s,e,n)).catch(jo)}async function k4(t,e){const n=re(t),s=e.batch.batchId;try{const i=await DR(n.localStore,e);y2(n,s,null),x2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hl(n,i)}catch(i){await jo(i)}}async function C4(t,e,n){const s=re(t);try{const i=await function(o,a){const c=re(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ee(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(s.localStore,e);y2(s,e,n),x2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Hl(s,i)}catch(i){await jo(i)}}function x2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function y2(t,e,n){const s=re(t);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function Um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||v2(t,s)})}function v2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Eg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ag(t))}function yv(t,e,n){for(const s of n)s instanceof f2?(t.Ru.addReference(s.key,e),j4(t,s)):s instanceof m2?(G(jg,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||v2(t,s.key)):se(19791,{wu:s})}function j4(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(G(jg,"New document in limbo: "+n),t.Eu.add(s),Ag(t))}function Ag(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Le.fromString(e)),s=t.fu.next();t.Au.set(s,new v4(n)),t.du=t.du.insert(n,s),a2(t.remoteStore,new Ws(qn(mg(n.path)),s,"TargetPurposeLimboResolution",Gd.ce))}}async function Hl(t,e,n){const s=re(t),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((a,c)=>{o.push(s.pu(c,e,n).then(u=>{var h;if((u||n)&&s.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=_g.As(c.targetId,u);r.push(f)}}))}),await Promise.all(o),s.Pu.H_(i),await async function(c,u){const h=re(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(u,m=>V.forEach(m.Es,x=>h.persistence.referenceDelegate.addReference(f,m.targetId,x)).next(()=>V.forEach(m.ds,x=>h.persistence.referenceDelegate.removeReference(f,m.targetId,x)))))}catch(f){if(!Ao(f))throw f;G(wg,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const x=h.Ms.get(m),v=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(m,b)}}}(s.localStore,r))}async function A4(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G(jg,"User change. New user:",e.toKey());const s=await s2(n.localStore,e);n.currentUser=e,function(r,o){r.mu.forEach(a=>{a.forEach(c=>{c.reject(new J(z.CANCELLED,o))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hl(n,s.Ls)}}function P4(t,e){const n=re(t),s=n.Au.get(e);if(s&&s.hu)return me().add(s.key);{let i=me();const r=n.Iu.get(e);if(!r)return i;for(const o of r){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function b2(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I4.bind(null,e),e.Pu.H_=m4.bind(null,e.eventManager),e.Pu.yu=p4.bind(null,e.eventManager),e}function R4(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C4.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MR(this.persistence,new AR,e.initialUser,this.serializer)}Cu(e){return new n2(bg.mi,this.serializer)}Du(e){return new UR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class M4 extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof fd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gR(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new n2(s=>fd.mi(s,n),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d4}()}createDatastore(e){const n=nh(e.databaseInfo.databaseId),s=function(r){return new WR(r)}(e.databaseInfo);return function(r,o,a,c){return new YR(r,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,a){return new JR(s,i,r,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xv(this.syncEngine,n,0),function(){return dv.v()?new dv:new BR}())}createSyncEngine(e,n){return function(i,r,o,a,c,u,h){const f=new b4(i,r,o,a,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=re(i);G(lr,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="FirestoreClient";class O4{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{G(yi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(G(yi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function df(t,e){t.asyncQueue.verifyOperationInProgress(),G(yi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await s2(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L4(t);G(yi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>fv(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>fv(e.remoteStore,i)),t._onlineComponents=e}async function L4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(yi,"Using user provided OfflineComponentProvider");try{await df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await df(t,new pd)}}else G(yi,"Using default OfflineComponentProvider"),await df(t,new M4(void 0));return t._offlineComponents}async function _2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(yi,"Using user provided OnlineComponentProvider"),await vv(t,t._uninitializedComponentsProvider._online)):(G(yi,"Using default OnlineComponentProvider"),await vv(t,new Bm))),t._onlineComponents}function V4(t){return _2(t).then(e=>e.syncEngine)}async function F4(t){const e=await _2(t),n=e.eventManager;return n.onListen=_4.bind(null,e.syncEngine),n.onUnlisten=S4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N4.bind(null,e.syncEngine),n}function z4(t,e,n={}){const s=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,c,u){const h=new D4({next:m=>{h.Nu(),o.enqueueAndForget(()=>f4(r,f));const x=m.docs.has(a);!x&&m.fromCache?u.reject(new J(z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&m.fromCache&&c&&c.source==="server"?u.reject(new J(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new g4(mg(a.path),h,{includeMetadataChanges:!0,qa:!0});return h4(r,f)}(await F4(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firestore.googleapis.com",_v=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E2,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mR)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w2(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pg{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UA;switch(s.type){case"firstParty":return new HA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=bv.get(n);s&&(G("ComponentProvider","Removing Datastore"),bv.delete(n),s.terminate())}(this),Promise.resolve()}}function U4(t,e,n,s={}){var u;t=fl(t,Pg);const i=To(e),r=t._getSettings(),o={...r,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(y1(`https://${a}`),v1("Firestore",!0)),r.host!==E2&&r.host!==a&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...r,host:a,ssl:i,emulatorOptions:s};if(!sr(c,o)&&(t._setSettings(c),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=St.MOCK_USER;else{h=GI(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new St(m)}t._authCredentials=new BA(new fE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rg(this.firestore,e,this._query)}}class ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ul(n,ut._jsonSchema))return new ut(e,s||null,new te(Le.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:Je("string",ut._jsonSchemaVersion),referencePath:Je("string")};class bl extends Rg{constructor(e,n,s){super(e,n,mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new te(e))}withConverter(e){return new bl(this.firestore,e,this._path)}}function Ev(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=ag.newId()),XA("doc","path",e),t instanceof Pg){const s=Le.fromString(e,...n);return Oy(s),new ut(t,null,new te(s))}{if(!(t instanceof ut||t instanceof bl))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Le.fromString(e,...n));return Oy(s),new ut(t.firestore,t instanceof bl?t.converter:null,new te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r2(this,"async_queue_retry"),this._c=()=>{const s=uf();s&&G(Sv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ci;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;G(Sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",Tv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ig.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Tv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mg extends Pg{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new Nv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function B4(t,e){const n=typeof t=="object"?t:E1(),s=typeof t=="string"?t:e||od,i=Xp(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=HI("firestore");r&&U4(i,...r)}return i}function S2(t){if(t._terminated)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q4(t),t._firestoreClient}function q4(t){var s,i,r;const e=t._freezeSettings(),n=function(a,c,u,h){return new cP(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,w2(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((r=e.localCache)!=null&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new O4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cn(yt.fromBase64String(e))}catch(n){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cn(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ul(e,cn._jsonSchema))return cn.fromBase64String(e.bytes)}}cn._jsonSchemaVersion="firestore/bytes/1.0",cn._jsonSchema={type:Je("string",cn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hn._jsonSchemaVersion}}static fromJSON(e){if(Ul(e,Hn._jsonSchema))return new Hn(e.latitude,e.longitude)}}Hn._jsonSchemaVersion="firestore/geoPoint/1.0",Hn._jsonSchema={type:Je("string",Hn._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ul(e,Wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Wn(e.vectorValues);throw new J(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Je("string",Wn._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^__.*__$/;class H4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bl(e,this.data,n,this.fieldTransforms)}}function T2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Og{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T2(this.Ac)&&$4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nh(e)}Cc(e,n,s,i=!1){return new Og({Ac:e,methodName:n,Dc:s,path:pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G4(t){const e=t._freezeSettings(),n=nh(t._databaseId);return new W4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K4(t,e,n,s,i,r={}){const o=t.Cc(r.merge||r.mergeFields?2:0,e,n,i);j2("Data must be an object, but it was:",o,s);const a=k2(s,o);let c,u;if(r.merge)c=new wn(o.fieldMask),u=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const m=Q4(e,f,n);if(!o.contains(m))throw new J(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);X4(h,m)||h.push(m)}c=new wn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new H4(new ln(a),c,u)}function I2(t,e){if(C2(t=Zt(t)))return j2("Unsupported field value:",e,t),k2(t,e);if(t instanceof N2)return function(s,i){if(!T2(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const a of s){let c=I2(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PP(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Ae.fromDate(s);return{timestampValue:hd(i.serializer,r)}}if(s instanceof Ae){const r=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hd(i.serializer,r)}}if(s instanceof Hn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof cn)return{bytesValue:KE(i.serializer,s._byteString)};if(s instanceof ut){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:yg(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Wn)return function(o,a){return{mapValue:{fields:{[wE]:{stringValue:SE},[ad]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return pg(a.serializer,u)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${lg(s)}`)}(t,e)}function k2(t,e){const n={};return gE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(t,(s,i)=>{const r=I2(i,e.mc(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function C2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof Hn||t instanceof cn||t instanceof ut||t instanceof N2||t instanceof Wn)}function j2(t,e,n){if(!C2(n)||!mE(n)){const s=lg(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Q4(t,e,n){if((e=Zt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return A2(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y4=new RegExp("[~\\*/\\[\\]]");function A2(t,e,n){if(e.search(Y4)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dg(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new J(z.INVALID_ARGUMENT,a+t+c)}function X4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J4 extends P2{data(){return super.data()}}function R2(t,e){return typeof e=="string"?A2(t,e):e instanceof Dg?e._internalPath:e._delegate._internalPath}class Z4{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return mr(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var s,i,r;const n=(r=(i=(s=e.fields)==null?void 0:s[ad].arrayValue)==null?void 0:i.values)==null?void 0:r.map(o=>We(o.doubleValue));return new Wn(n)}convertGeoPoint(e){return new Hn(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const n=mi(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Le.fromString(e);Ee(e2(s),9688,{name:e});const i=new gl(s.get(1),s.get(3)),r=new te(s.popFirst(5));return i.isEqual(n)||vs(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qi extends P2{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(R2("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qi._jsonSchema={type:Je("string",Qi._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class _u extends Qi{data(e={}){return super.data(e)}}class Ua{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ba(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new _u(this._firestore,this._userDataWriter,s.key,s,new ba(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const c=new _u(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:tM(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){t=fl(t,ut);const e=fl(t.firestore,Mg);return z4(S2(e),t._key).then(n=>oM(e,t,n))}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:Je("string",Ua._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class sM extends Z4{constructor(e){super(),this.firestore=e}convertBytes(e){return new cn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function iM(t,e,n){t=fl(t,ut);const s=fl(t.firestore,Mg),i=eM(t.converter,e,n);return rM(s,[K4(G4(s),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hs.none())])}function rM(t,e){return function(s,i){const r=new ci;return s.asyncQueue.enqueueAndForget(async()=>T4(await V4(s),i,r)),r.promise}(S2(t),e)}function oM(t,e,n){const s=n.docs.get(e._key),i=new sM(t);return new Qi(t,i,e._key,s,new ba(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Co=i})(Io),mo(new ir("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new Mg(new qA(s.getProvider("auth-internal")),new WA(o,s.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(u.options.projectId,h)}(o,i),o);return r={useFetchStreams:n,...r},a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ai(Py,Ry,e),ai(Py,Ry,"esm2020")})();const aM={apiKey:"AIzaSyCN_29bjsvBkPJmXy8Y5lGc16MK9cd6-SE",authDomain:"finanzas-facil-fe8eb.firebaseapp.com",projectId:"finanzas-facil-fe8eb",storageBucket:"finanzas-facil-fe8eb.firebasestorage.app",messagingSenderId:"840948445547",appId:"1:840948445547:web:4aada8452bd06509479c2e",measurementId:"G-QT23TVY0GJ"},M2=w1(aM),Ba=LA(M2),Iv=B4(M2),lM=({isOpen:t,onClose:e,onAuthSuccess:n,canClose:s=!0})=>{const[i,r]=F.useState(!0),[o,a]=F.useState(""),[c,u]=F.useState(""),[h,f]=F.useState(""),[m,x]=F.useState(!1),[v,b]=F.useState(!1),[I,y]=F.useState(""),[_,E]=F.useState(!1),A=async M=>{M.preventDefault(),b(!0),y("");try{if(i){const S=await wj(Ba,o,c);n(S.user),e()}else{if(c!==h){y("Las contraseas no coinciden"),b(!1);return}if(c.length<6){y("La contrasea debe tener al menos 6 caracteres"),b(!1);return}const S=await _j(Ba,o,c);n(S.user),e()}}catch(S){y(S.message)}b(!1)},R=async()=>{if(!o){y("Por favor, introduce tu email");return}b(!0),y("");try{await bj(Ba,o),E(!0)}catch(M){y(M.message)}finally{b(!1)}};return t?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20 max-w-md w-full",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-3xl font-black text-white",children:i?"Iniciar Sesin":"Crear Cuenta"}),s&&l.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:l.jsx(DI,{className:"w-6 h-6 text-white"})})]}),l.jsxs("form",{onSubmit:A,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:" Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(PI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),l.jsx("input",{type:"email",value:o,onChange:M=>a(M.target.value),className:"w-full bg-white/20 border border-white/30 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"tu@email.com",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:" Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx(ey,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),l.jsx("input",{type:m?"text":"password",value:c,onChange:M=>u(M.target.value),className:"w-full bg-white/20 border border-white/30 rounded-2xl pl-12 pr-12 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"",required:!0}),l.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white",children:m?l.jsx(kI,{className:"w-5 h-5"}):l.jsx(CI,{className:"w-5 h-5"})})]})]}),!i&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:" Confirmar Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx(ey,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),l.jsx("input",{type:m?"text":"password",value:h,onChange:M=>f(M.target.value),className:"w-full bg-white/20 border border-white/30 rounded-2xl pl-12 pr-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent",placeholder:"",required:!0})]})]}),I&&l.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-2xl p-4 text-red-200 text-sm",children:I}),l.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-black py-4 rounded-2xl hover:scale-105 transform transition-all duration-300 shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed",children:v?" Procesando...":i?" Iniciar Sesin":" Crear Cuenta"})]}),_&&l.jsx("div",{className:"mt-4 p-4 bg-green-500/20 border border-green-500/30 rounded-xl",children:l.jsx("p",{className:"text-green-200 text-sm text-center",children:" Email enviado! Revisa tu bandeja de entrada para restablecer tu contrasea."})}),l.jsxs("div",{className:"mt-6 space-y-3",children:[i&&!_&&l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:R,disabled:v||!o,className:"text-white/70 hover:text-white text-sm underline disabled:opacity-50",children:"Olvidaste tu contrasea?"})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>r(!i),className:"text-white/80 hover:text-white text-sm underline",children:i?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]}),l.jsx("div",{className:"mt-6 text-center text-white/60 text-xs",children:" Tus datos estn protegidos con Firebase"})]})}):null},cM=()=>{const[t,e]=F.useState(null),[n,s]=F.useState(!0);return F.useEffect(()=>{const r=Nj(Ba,o=>{e(o),s(!1)});return()=>r()},[]),{user:t,loading:n,logout:async()=>{try{await Tj(Ba)}catch(r){console.error("Error al cerrar sesin:",r)}}}},uM=t=>{const[e,n]=F.useState(null),[s,i]=F.useState(!1),r=async a=>{if(t){i(!0);try{await iM(Ev(Iv,"users",t.uid),{...a,lastUpdated:new Date().toISOString()}),n(a)}catch(c){console.error("Error al guardar datos:",c)}i(!1)}},o=async()=>{if(t){i(!0);try{const a=Ev(Iv,"users",t.uid),c=await nM(a);c.exists()?n(c.data()):n(null)}catch(a){console.error("Error al cargar datos:",a)}i(!1)}};return F.useEffect(()=>{t?o():n(null)},[t]),{userData:e,saveUserData:r,loadUserData:o,loading:s}},Lg=(t={})=>{const{threshold:e=50,velocity:n=.3,preventDefault:s=!0,enabled:i=!0,safeZone:r={top:100,bottom:50,left:20,right:20},...o}=t,[a,c]=F.useState({startX:0,startY:0,startTime:0,isSwipping:!1}),u=F.useRef(null);return F.useEffect(()=>{if(!i)return;const h=u.current||document.body,f=v=>{const b=v.touches[0],{clientX:I,clientY:y}=b,{innerWidth:_,innerHeight:E}=window;y<r.top||y>E-r.bottom||I<r.left||I>_-r.right||v.target.closest('button, input, select, textarea, a, [role="button"]')||c({startX:I,startY:y,startTime:Date.now(),isSwipping:!0})},m=v=>{if(!a.isSwipping)return;const b=v.touches[0],I=Math.abs(b.clientX-a.startX),y=Math.abs(b.clientY-a.startY);I>10&&I>y&&s&&v.preventDefault()},x=v=>{if(!a.isSwipping)return;const b=v.changedTouches[0],{clientX:I,clientY:y}=b,_=Date.now(),E=I-a.startX,A=y-a.startY,R=_-a.startTime,M=Math.sqrt(E*E+A*A),S=M/R;if(M>=e&&S>=t.velocity){const w=Math.abs(E),k=Math.abs(A);w>k?E>0&&o.onSwipeRight?o.onSwipeRight():E<0&&o.onSwipeLeft&&o.onSwipeLeft():A>0&&o.onSwipeDown?o.onSwipeDown():A<0&&o.onSwipeUp&&o.onSwipeUp()}c({startX:0,startY:0,startTime:0,isSwipping:!1})};return h.addEventListener("touchstart",f,{passive:!1}),h.addEventListener("touchmove",m,{passive:!1}),h.addEventListener("touchend",x,{passive:!1}),()=>{h.removeEventListener("touchstart",f),h.removeEventListener("touchmove",m),h.removeEventListener("touchend",x)}},[i,e,n,s,r,a.isSwipping,o]),u};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wl(t){return t+.5|0}const Gs=(t,e,n)=>Math.max(Math.min(t,n),e);function _a(t){return Gs(Wl(t*2.55),0,255)}function ui(t){return Gs(Wl(t*255),0,255)}function is(t){return Gs(Wl(t/2.55)/100,0,1)}function kv(t){return Gs(Wl(t*100),0,100)}const sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qm=[..."0123456789ABCDEF"],dM=t=>qm[t&15],hM=t=>qm[(t&240)>>4]+qm[t&15],Vc=t=>(t&240)>>4===(t&15),fM=t=>Vc(t.r)&&Vc(t.g)&&Vc(t.b)&&Vc(t.a);function mM(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&sn[t[1]]*17,g:255&sn[t[2]]*17,b:255&sn[t[3]]*17,a:e===5?sn[t[4]]*17:255}:(e===7||e===9)&&(n={r:sn[t[1]]<<4|sn[t[2]],g:sn[t[3]]<<4|sn[t[4]],b:sn[t[5]]<<4|sn[t[6]],a:e===9?sn[t[7]]<<4|sn[t[8]]:255})),n}const pM=(t,e)=>t<255?e(t):"";function gM(t){var e=fM(t)?dM:hM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+pM(t.a,e):void 0}const xM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function D2(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function yM(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function vM(t,e,n){const s=D2(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function bM(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function Vg(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,h;return r!==o&&(h=r-o,u=a>.5?h/(2-r-o):h/(r+o),c=bM(n,s,i,h,r),c=c*60+.5),[c|0,u||0,a]}function Fg(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(ui)}function zg(t,e,n){return Fg(D2,t,e,n)}function _M(t,e,n){return Fg(vM,t,e,n)}function wM(t,e,n){return Fg(yM,t,e,n)}function O2(t){return(t%360+360)%360}function EM(t){const e=xM.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?_a(+e[5]):ui(+e[5]));const i=O2(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=_M(i,r,o):e[1]==="hsv"?s=wM(i,r,o):s=zg(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function SM(t,e){var n=Vg(t);n[0]=O2(n[0]+e),n=zg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function NM(t){if(!t)return;const e=Vg(t),n=e[0],s=kv(e[1]),i=kv(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${is(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Cv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TM(){const t={},e=Object.keys(jv),n=Object.keys(Cv);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Cv[r]);r=parseInt(jv[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Fc;function IM(t){Fc||(Fc=TM(),Fc.transparent=[0,0,0,0]);const e=Fc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const kM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CM(t){const e=kM.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?_a(o):Gs(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?_a(s):Gs(s,0,255)),i=255&(e[4]?_a(i):Gs(i,0,255)),r=255&(e[6]?_a(r):Gs(r,0,255)),{r:s,g:i,b:r,a:n}}}function jM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${is(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ir=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AM(t,e,n){const s=Ir(is(t.r)),i=Ir(is(t.g)),r=Ir(is(t.b));return{r:ui(hf(s+n*(Ir(is(e.r))-s))),g:ui(hf(i+n*(Ir(is(e.g))-i))),b:ui(hf(r+n*(Ir(is(e.b))-r))),a:t.a+n*(e.a-t.a)}}function zc(t,e,n){if(t){let s=Vg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=zg(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function L2(t,e){return t&&Object.assign(e||{},t)}function Av(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ui(t[3]))):(e=L2(t,{r:0,g:0,b:0,a:1}),e.a=ui(e.a)),e}function PM(t){return t.charAt(0)==="r"?CM(t):EM(t)}class _l{constructor(e){if(e instanceof _l)return e;const n=typeof e;let s;n==="object"?s=Av(e):n==="string"&&(s=mM(e)||IM(e)||PM(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=L2(this._rgb);return e&&(e.a=is(e.a)),e}set rgb(e){this._rgb=Av(e)}rgbString(){return this._valid?jM(this._rgb):void 0}hexString(){return this._valid?gM(this._rgb):void 0}hslString(){return this._valid?NM(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=AM(this._rgb,e._rgb,n)),this}clone(){return new _l(this.rgb)}alpha(e){return this._rgb.a=ui(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Wl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zc(this._rgb,2,e),this}darken(e){return zc(this._rgb,2,-e),this}saturate(e){return zc(this._rgb,1,e),this}desaturate(e){return zc(this._rgb,1,-e),this}rotate(e){return SM(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jn(){}const RM=(()=>{let t=0;return()=>t++})();function we(t){return t==null}function Me(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function dt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Kt(t,e){return dt(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}const MM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,V2=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ie(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Se(t,e,n,s){let i,r,o;if(Me(t))if(r=t.length,s)for(i=r-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<r;i++)e.call(n,t[i],i);else if(xe(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function xd(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function yd(t){if(Me(t))return t.map(yd);if(xe(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=yd(t[n[i]]);return e}return t}function F2(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function DM(t,e,n,s){if(!F2(t))return;const i=e[t],r=n[t];xe(i)&&xe(r)?wl(i,r,s):e[t]=yd(r)}function wl(t,e,n){const s=Me(e)?e:[e],i=s.length;if(!xe(t))return t;n=n||{};const r=n.merger||DM;let o;for(let a=0;a<i;++a){if(o=s[a],!xe(o))continue;const c=Object.keys(o);for(let u=0,h=c.length;u<h;++u)r(c[u],t,o,n)}return t}function qa(t,e){return wl(t,e,{merger:OM})}function OM(t,e,n){if(!F2(t))return;const s=e[t],i=n[t];xe(s)&&xe(i)?qa(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=yd(i))}const Pv={"":t=>t,x:t=>t.x,y:t=>t.y};function LM(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function VM(t){const e=LM(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function cr(t,e){return(Pv[e]||(Pv[e]=VM(e)))(t)}function Ug(t){return t.charAt(0).toUpperCase()+t.slice(1)}const El=t=>typeof t<"u",vi=t=>typeof t=="function",Rv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function FM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _e=Math.PI,De=2*_e,zM=De+_e,vd=Number.POSITIVE_INFINITY,UM=_e/180,Ke=_e/2,Mi=_e/4,Mv=_e*2/3,Ks=Math.log10,Gn=Math.sign;function $a(t,e,n){return Math.abs(t-e)<n}function Dv(t){const e=Math.round(t);t=$a(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ks(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function BM(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function qM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function bd(t){return!qM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function $M(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function z2(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Vn(t){return t*(_e/180)}function Bg(t){return t*(180/_e)}function Ov(t){if(!dt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function U2(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*_e&&(r+=De),{angle:r,distance:i}}function $m(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function HM(t,e){return(t-e+zM)%De-_e}function Lt(t){return(t%De+De)%De}function Sl(t,e,n,s){const i=Lt(t),r=Lt(e),o=Lt(n),a=Lt(r-i),c=Lt(o-i),u=Lt(i-r),h=Lt(i-o);return i===r||i===o||s&&r===o||a>c&&u<h}function Ut(t,e,n){return Math.max(e,Math.min(n,t))}function WM(t){return Ut(t,-32768,32767)}function Qs(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function qg(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Hm=(t,e,n,s)=>qg(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),GM=(t,e,n)=>qg(t,n,s=>t[s][e]>=n);function KM(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const B2=["push","pop","shift","splice","unshift"];function QM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),B2.forEach(n=>{const s="_onData"+Ug(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Lv(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(B2.forEach(r=>{delete t[r]}),delete t._chartjs)}function q2(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $2=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function H2(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,$2.call(window,()=>{s=!1,t.apply(e,n)}))}}function YM(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const $g=t=>t==="start"?"left":t==="end"?"right":"center",Et=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,XM=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,Uc=t=>t===0||t===1,Vv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*De/n)),Fv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*De/n)+1,Ha={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ke)+1,easeOutSine:t=>Math.sin(t*Ke),easeInOutSine:t=>-.5*(Math.cos(_e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Uc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Uc(t)?t:Vv(t,.075,.3),easeOutElastic:t=>Uc(t)?t:Fv(t,.075,.3),easeInOutElastic(t){return Uc(t)?t:t<.5?.5*Vv(t*2,.1125,.45):.5+.5*Fv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ha.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ha.easeInBounce(t*2)*.5:Ha.easeOutBounce(t*2-1)*.5+.5};function Hg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zv(t){return Hg(t)?t:new _l(t)}function ff(t){return Hg(t)?t:new _l(t).saturate(.5).darken(.1).hexString()}const JM=["x","y","borderWidth","radius","tension"],ZM=["color","borderColor","backgroundColor"];function e3(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ZM},numbers:{type:"number",properties:JM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function t3(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Uv=new Map;function n3(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Uv.get(n);return s||(s=new Intl.NumberFormat(t,e),Uv.set(n,s)),s}function rh(t,e,n){return n3(e,n).format(t)}const W2={values(t){return Me(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=s3(t,n)}const o=Ks(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),rh(t,s,c)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Ks(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?W2.numeric.call(this,t,e,n):""}};function s3(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var oh={formatters:W2};function i3(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ur=Object.create(null),Wm=Object.create(null);function Wa(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function mf(t,e,n){return typeof e=="string"?wl(Wa(t,e),n):wl(Wa(t,""),e)}class r3{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ff(i.backgroundColor),this.hoverBorderColor=(s,i)=>ff(i.borderColor),this.hoverColor=(s,i)=>ff(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return mf(this,e,n)}get(e){return Wa(this,e)}describe(e,n){return mf(Wm,e,n)}override(e,n){return mf(ur,e,n)}route(e,n,s,i){const r=Wa(this,e),o=Wa(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return xe(c)?Object.assign({},u,c):ce(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var $e=new r3({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[e3,t3,i3]);function o3(t){return!t||we(t.size)||we(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _d(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function a3(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let c,u,h,f,m;for(c=0;c<a;c++)if(f=n[c],f!=null&&!Me(f))o=_d(t,i,r,o,f);else if(Me(f))for(u=0,h=f.length;u<h;u++)m=f[u],m!=null&&!Me(m)&&(o=_d(t,i,r,o,m));t.restore();const x=r.length/2;if(x>n.length){for(c=0;c<x;c++)delete i[r[c]];r.splice(0,x)}return o}function Di(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Bv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Gm(t,e,n,s){G2(t,e,n,s,null)}function G2(t,e,n,s,i){let r,o,a,c,u,h,f,m;const x=e.pointStyle,v=e.rotation,b=e.radius;let I=(v||0)*UM;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(I),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),x){default:i?t.ellipse(n,s,i/2,b,0,0,De):t.arc(n,s,b,0,De),t.closePath();break;case"triangle":h=i?i/2:b,t.moveTo(n+Math.sin(I)*h,s-Math.cos(I)*b),I+=Mv,t.lineTo(n+Math.sin(I)*h,s-Math.cos(I)*b),I+=Mv,t.lineTo(n+Math.sin(I)*h,s-Math.cos(I)*b),t.closePath();break;case"rectRounded":u=b*.516,c=b-u,o=Math.cos(I+Mi)*c,f=Math.cos(I+Mi)*(i?i/2-u:c),a=Math.sin(I+Mi)*c,m=Math.sin(I+Mi)*(i?i/2-u:c),t.arc(n-f,s-a,u,I-_e,I-Ke),t.arc(n+m,s-o,u,I-Ke,I),t.arc(n+f,s+a,u,I,I+Ke),t.arc(n-m,s+o,u,I+Ke,I+_e),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*b,h=i?i/2:c,t.rect(n-h,s-c,2*h,2*c);break}I+=Mi;case"rectRot":f=Math.cos(I)*(i?i/2:b),o=Math.cos(I)*b,a=Math.sin(I)*b,m=Math.sin(I)*(i?i/2:b),t.moveTo(n-f,s-a),t.lineTo(n+m,s-o),t.lineTo(n+f,s+a),t.lineTo(n-m,s+o),t.closePath();break;case"crossRot":I+=Mi;case"cross":f=Math.cos(I)*(i?i/2:b),o=Math.cos(I)*b,a=Math.sin(I)*b,m=Math.sin(I)*(i?i/2:b),t.moveTo(n-f,s-a),t.lineTo(n+f,s+a),t.moveTo(n+m,s-o),t.lineTo(n-m,s+o);break;case"star":f=Math.cos(I)*(i?i/2:b),o=Math.cos(I)*b,a=Math.sin(I)*b,m=Math.sin(I)*(i?i/2:b),t.moveTo(n-f,s-a),t.lineTo(n+f,s+a),t.moveTo(n+m,s-o),t.lineTo(n-m,s+o),I+=Mi,f=Math.cos(I)*(i?i/2:b),o=Math.cos(I)*b,a=Math.sin(I)*b,m=Math.sin(I)*(i?i/2:b),t.moveTo(n-f,s-a),t.lineTo(n+f,s+a),t.moveTo(n+m,s-o),t.lineTo(n-m,s+o);break;case"line":o=i?i/2:Math.cos(I)*b,a=Math.sin(I)*b,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(I)*(i?i/2:b),s+Math.sin(I)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function cs(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Wg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Gg(t){t.restore()}function l3(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function c3(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function u3(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),we(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function d3(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,h=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function h3(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function dr(t,e,n,s,i,r={}){const o=Me(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,u3(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&h3(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),we(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),d3(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function Nl(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*_e,_e,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,_e,Ke,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Ke,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Ke,!0),t.lineTo(n+o.topLeft,s)}const f3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,m3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function p3(t,e){const n=(""+t).match(f3);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const g3=t=>+t||0;function Kg(t,e){const n={},s=xe(e),i=s?Object.keys(e):e,r=xe(t)?s?o=>ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=g3(r(o));return n}function K2(t){return Kg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Yi(t){return Kg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ct(t){const e=K2(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rt(t,e){t=t||{},e=e||$e.font;let n=ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ce(t.style,e.style);s&&!(""+s).match(m3)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ce(t.family,e.family),lineHeight:p3(ce(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ce(t.weight,e.weight),string:""};return i.string=o3(i),i}function Bc(t,e,n,s){let i=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Me(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function x3(t,e,n){const{min:s,max:i}=t,r=V2(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Si(t,e){return Object.assign(Object.create(t),e)}function Qg(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=J2("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Qg([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Y2(a,c,()=>N3(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return $v(a).includes(c)},ownKeys(a){return $v(a)},set(a,c,u){const h=a._storage||(a._storage=i());return a[c]=h[c]=u,delete a._keys,!0}})}function _o(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Q2(t,s),setContext:r=>_o(t,r,n,s),override:r=>_o(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Y2(r,o,()=>v3(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Q2(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:vi(n)?n:()=>n,isIndexable:vi(s)?s:()=>s}}const y3=(t,e)=>t?t+Ug(e):e,Yg=(t,e)=>xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Y2(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function v3(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return vi(a)&&o.isScriptable(e)&&(a=b3(e,a,t,n)),Me(a)&&a.length&&(a=_3(e,a,t,o.isIndexable)),Yg(e,a)&&(a=_o(a,i,r&&r[e],o)),a}function b3(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),Yg(t,c)&&(c=Xg(i._scopes,i,t,c)),c}function _3(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(xe(e[0])){const c=e,u=i._scopes.filter(h=>h!==c);e=[];for(const h of c){const f=Xg(u,i,t,h);e.push(_o(f,r,o&&o[t],a))}}return e}function X2(t,e,n){return vi(t)?t(e,n):t}const w3=(t,e)=>t===!0?e:typeof t=="string"?cr(e,t):void 0;function E3(t,e,n,s,i){for(const r of e){const o=w3(n,r);if(o){t.add(o);const a=X2(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Xg(t,e,n,s){const i=e._rootScopes,r=X2(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=qv(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=qv(a,o,r,c,s),c===null)?!1:Qg(Array.from(a),[""],i,r,()=>S3(e,n,s))}function qv(t,e,n,s,i){for(;n;)n=E3(t,e,n,s,i);return n}function S3(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Me(i)&&xe(n)?n:i||{}}function N3(t,e,n,s){let i;for(const r of e)if(i=J2(y3(r,t),n),typeof i<"u")return Yg(t,i)?Xg(n,s,t,i):i}function J2(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function $v(t){let e=t._keys;return e||(e=t._keys=T3(t._scopes)),e}function T3(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const I3=Number.EPSILON||1e-14,wo=(t,e)=>e<t.length&&!t[e].skip&&t[e],Z2=t=>t==="x"?"y":"x";function k3(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=$m(r,i),c=$m(o,r);let u=a/(a+c),h=c/(a+c);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const f=s*u,m=s*h;return{previous:{x:r.x-f*(o.x-i.x),y:r.y-f*(o.y-i.y)},next:{x:r.x+m*(o.x-i.x),y:r.y+m*(o.y-i.y)}}}function C3(t,e,n){const s=t.length;let i,r,o,a,c,u=wo(t,0);for(let h=0;h<s-1;++h)if(c=u,u=wo(t,h+1),!(!c||!u)){if($a(e[h],0,I3)){n[h]=n[h+1]=0;continue}i=n[h]/e[h],r=n[h+1]/e[h],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=i*o*e[h],n[h+1]=r*o*e[h])}}function j3(t,e,n="x"){const s=Z2(n),i=t.length;let r,o,a,c=wo(t,0);for(let u=0;u<i;++u){if(o=a,a=c,c=wo(t,u+1),!a)continue;const h=a[n],f=a[s];o&&(r=(h-o[n])/3,a[`cp1${n}`]=h-r,a[`cp1${s}`]=f-r*e[u]),c&&(r=(c[n]-h)/3,a[`cp2${n}`]=h+r,a[`cp2${s}`]=f+r*e[u])}}function A3(t,e="x"){const n=Z2(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,c,u=wo(t,0);for(o=0;o<s;++o)if(a=c,c=u,u=wo(t,o+1),!!c){if(u){const h=u[e]-c[e];i[o]=h!==0?(u[n]-c[n])/h:0}r[o]=a?u?Gn(i[o-1])!==Gn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}C3(t,i,r),j3(t,r,e)}function qc(t,e,n){return Math.max(Math.min(t,n),e)}function P3(t,e){let n,s,i,r,o,a=cs(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&cs(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=qc(i.cp1x,e.left,e.right),i.cp1y=qc(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=qc(i.cp2x,e.left,e.right),i.cp2y=qc(i.cp2y,e.top,e.bottom)))}function R3(t,e,n,s,i){let r,o,a,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")A3(t,i);else{let u=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],c=k3(u,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}e.capBezierPoints&&P3(t,n)}function Jg(){return typeof window<"u"&&typeof document<"u"}function Zg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wd(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ah=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function M3(t,e){return ah(t).getPropertyValue(e)}const D3=["top","right","bottom","left"];function Xi(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=D3[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const O3=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function L3(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(O3(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Ui(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=ah(n),r=i.boxSizing==="border-box",o=Xi(i,"padding"),a=Xi(i,"border","width"),{x:c,y:u,box:h}=L3(t,n),f=o.left+(h&&a.left),m=o.top+(h&&a.top);let{width:x,height:v}=e;return r&&(x-=o.width+a.width,v-=o.height+a.height),{x:Math.round((c-f)/x*n.width/s),y:Math.round((u-m)/v*n.height/s)}}function V3(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Zg(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ah(r),c=Xi(a,"border","width"),u=Xi(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=wd(a.maxWidth,r,"clientWidth"),i=wd(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||vd,maxHeight:i||vd}}const $c=t=>Math.round(t*10)/10;function F3(t,e,n,s){const i=ah(t),r=Xi(i,"margin"),o=wd(i.maxWidth,t,"clientWidth")||vd,a=wd(i.maxHeight,t,"clientHeight")||vd,c=V3(t,e,n);let{width:u,height:h}=c;if(i.boxSizing==="content-box"){const m=Xi(i,"border","width"),x=Xi(i,"padding");u-=x.width+m.width,h-=x.height+m.height}return u=Math.max(0,u-r.width),h=Math.max(0,s?u/s:h-r.height),u=$c(Math.min(u,o,c.maxWidth)),h=$c(Math.min(h,a,c.maxHeight)),u&&!h&&(h=$c(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&h>c.height&&(h=c.height,u=$c(Math.floor(h*s))),{width:u,height:h}}function Hv(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const z3=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Jg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Wv(t,e){const n=M3(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Bi(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function U3(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function B3(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Bi(t,i,n),a=Bi(i,r,n),c=Bi(r,e,n),u=Bi(o,a,n),h=Bi(a,c,n);return Bi(u,h,n)}const q3=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},$3=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function so(t,e,n){return t?q3(e,n):$3()}function eS(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function tS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nS(t){return t==="angle"?{between:Sl,compare:HM,normalize:Lt}:{between:Qs,compare:(e,n)=>e-n,normalize:e=>e}}function Gv({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function H3(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=nS(s),c=e.length;let{start:u,end:h,loop:f}=t,m,x;if(f){for(u+=c,h+=c,m=0,x=c;m<x&&o(a(e[u%c][s]),i,r);++m)u--,h--;u%=c,h%=c}return h<u&&(h+=c),{start:u,end:h,loop:f,style:t.style}}function W3(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:c,normalize:u}=nS(s),{start:h,end:f,loop:m,style:x}=H3(t,e,n),v=[];let b=!1,I=null,y,_,E;const A=()=>c(i,E,y)&&a(i,E)!==0,R=()=>a(r,y)===0||c(r,E,y),M=()=>b||A(),S=()=>!b||R();for(let w=h,k=h;w<=f;++w)_=e[w%o],!_.skip&&(y=u(_[s]),y!==E&&(b=c(y,i,r),I===null&&M()&&(I=a(y,i)===0?w:k),I!==null&&S()&&(v.push(Gv({start:I,end:w,loop:m,count:o,style:x})),I=null),k=w,E=y));return I!==null&&v.push(Gv({start:I,end:f,loop:m,count:o,style:x})),v}function G3(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=W3(s[i],t.points,e);r.length&&n.push(...r)}return n}function K3(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function Q3(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%i];u.skip||u.stop?a.skip||(s=!1,r.push({start:e%i,end:(c-1)%i,loop:s}),e=o=u.stop?c:null):(o=c,a.skip&&(e=c)),a=u}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function Y3(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=K3(n,i,r,s);if(s===!0)return Kv(t,[{start:o,end:a,loop:r}],n,e);const c=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return Kv(t,Q3(n,o,c,u),n,e)}function Kv(t,e,n,s){return!s||!s.setContext||!n?e:X3(t,e,n,s)}function X3(t,e,n,s){const i=t._chart.getContext(),r=Qv(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,u=[];let h=r,f=e[0].start,m=f;function x(v,b,I,y){const _=a?-1:1;if(v!==b){for(v+=c;n[v%c].skip;)v-=_;for(;n[b%c].skip;)b+=_;v%c!==b%c&&(u.push({start:v%c,end:b%c,loop:I,style:y}),h=y,f=b%c)}}for(const v of e){f=a?f:v.start;let b=n[f%c],I;for(m=f+1;m<=v.end;m++){const y=n[m%c];I=Qv(s.setContext(Si(i,{type:"segment",p0:b,p1:y,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),J3(I,h)&&x(f,m-1,v.loop,h),b=y,h=I}f<m-1&&x(f,m-1,v.loop,h)}return u}function Qv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function J3(t,e){if(!e)return!1;const n=[],s=function(i,r){return Hg(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Hc(t,e,n){return t.options.clip?t[n]:e[n]}function Z3(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Hc(n,e,"left"),right:Hc(n,e,"right"),top:Hc(s,e,"top"),bottom:Hc(s,e,"bottom")}:e}function eD(t,e){const n=e._clip;if(n.disabled)return!1;const s=Z3(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class tD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var es=new tD;const Yv="transparent",nD={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=zv(t||Yv),i=s.valid&&zv(e||Yv);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class sD{constructor(e,n,s,i){const r=n[s];i=Bc([e.to,i,r,e.from]);const o=Bc([e.from,r,i]);this._active=!0,this._fn=e.fn||nD[e.type||typeof o],this._easing=Ha[e.easing]||Ha.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Bc([e.to,n,i,e.from]),this._from=Bc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class sS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!xe(e))return;const n=Object.keys($e.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!xe(r))return;const o={};for(const a of n)o[a]=r[a];(Me(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=rD(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&iD(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const h=n[u];let f=r[u];const m=s.get(u);if(f)if(m&&f.active()){f.update(m,h,a);continue}else f.cancel();if(!m||!m.duration){e[u]=h;continue}r[u]=f=new sD(m,e,u,h),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return es.add(this._chart,s),!0}}function iD(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function rD(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Xv(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function oD(t,e,n){if(n===!1)return!1;const s=Xv(t,n),i=Xv(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function aD(t){let e,n,s,i;return xe(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function iS(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Jv(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let h=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(h=!0,s.all)continue;break}u=t.values[c],dt(u)&&(r||e===0||Gn(e)===Gn(u))&&(e+=u)}return!h&&!s.all?0:e}function lD(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,h;for(c=0,u=o.length;c<u;++c)h=o[c],a[c]={[i]:h,[r]:t[h]};return a}function pf(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cD(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function uD(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function dD(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Zv(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function eb(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,h=cD(r,o,s),f=e.length;let m;for(let x=0;x<f;++x){const v=e[x],{[c]:b,[u]:I}=v,y=v._stacks||(v._stacks={});m=y[u]=dD(i,h,b),m[a]=I,m._top=Zv(m,o,!0,s.type),m._bottom=Zv(m,o,!1,s.type);const _=m._visualValues||(m._visualValues={});_[a]=I}}function gf(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function hD(t,e){return Si(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function fD(t,e,n){return Si(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function oa(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const xf=t=>t==="reset"||t==="none",tb=(t,e)=>e?t:Object.assign({},t),mD=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:iS(n,!0),values:null};class io{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&oa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(f,m,x,v)=>f==="x"?m:f==="r"?v:x,r=n.xAxisID=ce(s.xAxisID,gf(e,"x")),o=n.yAxisID=ce(s.yAxisID,gf(e,"y")),a=n.rAxisID=ce(s.rAxisID,gf(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),h=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lv(this._data,this),e._stacked&&oa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(xe(n)){const i=this._cachedMeta;this._data=lD(n,i)}else if(s!==n){if(s){Lv(s,this);const i=this._cachedMeta;oa(i),i._parsed=[]}n&&Object.isExtensible(n)&&QM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=pf(n.vScale,n),n.stack!==s.stack&&(i=!0,oa(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(eb(this,n._parsed),n._stacked=pf(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],h,f,m;if(this._parsing===!1)s._parsed=i,s._sorted=!0,m=i;else{Me(i[e])?m=this.parseArrayData(s,i,e,n):xe(i[e])?m=this.parseObjectData(s,i,e,n):m=this.parsePrimitiveData(s,i,e,n);const x=()=>f[a]===null||u&&f[a]<u[a];for(h=0;h<n;++h)s._parsed[h+e]=f=m[h],c&&(x()&&(c=!1),u=f);s._sorted=c}o&&eb(this,m)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),h=r===o,f=new Array(i);let m,x,v;for(m=0,x=i;m<x;++m)v=m+s,f[m]={[a]:h||r.parse(u[v],v),[c]:o.parse(n[v],v)};return f}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,h,f;for(c=0,u=i;c<u;++c)h=c+s,f=n[h],a[c]={x:r.parse(f[0],h),y:o.parse(f[1],h)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let h,f,m,x;for(h=0,f=i;h<f;++h)m=h+s,x=n[m],u[h]={x:r.parse(cr(x,a),m),y:o.parse(cr(x,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:iS(i,!0),values:n._stacks[e.axis]._visualValues};return Jv(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Jv(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=mD(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=uD(a);let m,x;function v(){x=i[m];const b=x[a.axis];return!dt(x[e.axis])||h>b||f<b}for(m=0;m<o&&!(!v()&&(this.updateRangeFromParsed(u,e,x,c),r));++m);if(r){for(m=o-1;m>=0;--m)if(!v()){this.updateRangeFromParsed(u,e,x,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],dt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=aD(ce(this.options.clip,oD(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let h;for(s.dataset&&s.dataset.draw(e,r,a,c),h=a;h<a+c;++h){const f=i[h];f.hidden||(f.active&&u?o.push(f):f.draw(e,r))}for(h=0;h<o.length;++h)o[h].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=fD(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=hD(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&El(s);if(a)return tb(a,c);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),h),x=Object.keys($e.elements[e]),v=()=>this.getContext(s,i,n),b=u.resolveNamedOptions(m,x,v,f);return b.$shared&&(b.$shared=c,r[o]=Object.freeze(tb(b,c))),b}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),m=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(m,this.getContext(e,s,n))}const u=new sS(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xf(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){xf(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!xf(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&oa(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(io,"defaults",{}),Q(io,"datasetElementType",null),Q(io,"dataElementType",null);function pD(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=q2(s.sort((i,r)=>i-r))}return t._cache.$bar}function gD(t){const e=t.iScale,n=pD(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(El(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function xD(t,e,n,s){const i=n.barThickness;let r,o;return we(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function yD(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function vD(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function rS(t,e,n,s){return Me(t)?vD(t,e,n,s):e[n.axis]=n.parse(t,s),e}function nb(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,h,f,m;for(u=n,h=n+s;u<h;++u)m=e[u],f={},f[i.axis]=a||i.parse(o[u],u),c.push(rS(m,f,r,u));return c}function yf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function bD(t,e,n){return t!==0?Gn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function _D(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function wD(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:h}=_D(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=h:(r[sb(h,o,a,c)]=!0,i=u)),r[sb(i,o,a,c)]=!0,t.borderSkipped=r}function sb(t,e,n,s){return s?(t=ED(t,e,n),t=ib(t,n,e)):t=ib(t,e,n),t}function ED(t,e,n){return t===e?n:t===n?e:t}function ib(t,e,n){return t==="start"?e:t==="end"?n:t}function SD(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class wu extends io{parsePrimitiveData(e,n,s,i){return nb(e,n,s,i)}parseArrayData(e,n,s,i){return nb(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,h=o.axis==="x"?a:c,f=[];let m,x,v,b;for(m=s,x=s+i;m<x;++m)b=n[m],v={},v[r.axis]=r.parse(cr(b,u),m),f.push(rS(cr(b,h),v,o,m));return f}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=yf(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,i);for(let x=n;x<n+s;x++){const v=this.getParsed(x),b=r||we(v[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),I=this._calculateBarIndexPixels(x,h),y=(v._stacks||{})[a.axis],_={horizontal:u,base:b.base,enableBorderRadius:!y||yf(v._custom)||o===y._top||o===y._bottom,x:u?b.head:I.center,y:u?I.center:b.head,height:u?I.size:Math.abs(b.size),width:u?Math.abs(b.size):I.size};m&&(_.options=f||this.resolveDataElementOptions(x,e[x].active?"active":i));const E=_.options||e[x].options;wD(_,E,y,o),SD(_,E,h.ratio),this.updateElement(e[x],x,_,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=h=>{const f=h._parsed.find(x=>x[s.axis]===c),m=f&&f[h.vScale.axis];if(we(m)||isNaN(m))return!0};for(const h of i)if(!(n!==void 0&&u(h))&&((r===!1||o.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ce(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||gD(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,h=yf(u);let f=c[n.axis],m=0,x=s?this.applyStack(n,c,s):f,v,b;x!==f&&(m=x-f,x=f),h&&(f=u.barStart,x=u.barEnd-u.barStart,f!==0&&Gn(f)!==Gn(u.barEnd)&&(m=0),m+=f);const I=!we(r)&&!h?r:m;let y=n.getPixelForValue(I);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(m+x):v=y,b=v-y,Math.abs(b)<o){b=bD(b,n,a)*o,f===a&&(y-=b/2);const _=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),A=Math.min(_,E),R=Math.max(_,E);y=Math.max(Math.min(y,R),A),v=y+b,s&&!h&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const _=Gn(b)*n.getLineWidthForValue(a)/2;y+=_,b-=_}return{size:b,base:y,head:v,center:v+b/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=ce(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const h=r?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?yD(e,n,i,h*u):xD(e,n,i,h*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(ce(m,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+x;a=f.start+f.chunk*v+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}Q(wu,"id","bar"),Q(wu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(wu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ND(t,e,n){let s=1,i=1,r=0,o=0;if(e<De){const a=t,c=a+e,u=Math.cos(a),h=Math.sin(a),f=Math.cos(c),m=Math.sin(c),x=(E,A,R)=>Sl(E,a,c,!0)?1:Math.max(A,A*n,R,R*n),v=(E,A,R)=>Sl(E,a,c,!0)?-1:Math.min(A,A*n,R,R*n),b=x(0,u,f),I=x(Ke,h,m),y=v(_e,u,f),_=v(_e+Ke,h,m);s=(b-y)/2,i=(I-_)/2,r=-(b+y)/2,o=-(I+_)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class wa extends io{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(xe(s[e])){const{key:c="value"}=this._parsing;r=u=>+cr(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Vn(this.options.rotation-90)}_getCircumference(){return Vn(this.options.circumference)}_getRotationExtents(){let e=De,n=-De;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(MM(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:x,offsetX:v,offsetY:b}=ND(f,h,c),I=(s.width-o)/m,y=(s.height-o)/x,_=Math.max(Math.min(I,y)/2,0),E=V2(this.options.radius,_),A=Math.max(E*c,0),R=(E-A)/this._getVisibleDatasetWeightTotal();this.offsetX=v*E,this.offsetY=b*E,i.total=this.calculateTotal(),this.outerRadius=E-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/De)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2,m=r&&u.animateScale,x=m?0:this.innerRadius,v=m?0:this.outerRadius,{sharedOptions:b,includeOptions:I}=this._getSharedOptions(n,i);let y=this._getRotation(),_;for(_=0;_<n;++_)y+=this._circumference(_,r);for(_=n;_<n+s;++_){const E=this._circumference(_,r),A=e[_],R={x:h+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+E,circumference:E,outerRadius:v,innerRadius:x};I&&(R.options=b||this.resolveDataElementOptions(_,A.active?"active":i)),y+=E,this.updateElement(A,_,R,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?De*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=rh(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(wa,"id","doughnut"),Q(wa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(wa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Q(wa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Oi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e0{constructor(e){Q(this,"options");this.options=e||{}}static override(e){Object.assign(e0.prototype,e)}init(){}formats(){return Oi()}parse(){return Oi()}format(){return Oi()}add(){return Oi()}diff(){return Oi()}startOf(){return Oi()}endOf(){return Oi()}}var TD={_date:e0};function ID(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?GM:Hm;if(s){if(i._sharedOptions){const h=r[0],f=typeof h.getRange=="function"&&h.getRange(e);if(f){const m=u(r,e,n-f),x=u(r,e,n+f);return{lo:m.lo,hi:x.hi}}}}else{const h=u(r,e,n);if(c){const{vScale:f}=i._cachedMeta,{_parsed:m}=t,x=m.slice(0,h.lo+1).reverse().findIndex(b=>!we(b[f.axis]));h.lo-=Math.max(0,x);const v=m.slice(h.hi).findIndex(b=>!we(b[f.axis]));h.hi+=Math.max(0,v)}return h}}return{lo:0,hi:r.length-1}}function Gl(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:h}=r[a],{lo:f,hi:m}=ID(r[a],e,o,i);for(let x=f;x<=m;++x){const v=h[x];v.skip||s(v,u,x)}}}function kD(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function vf(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Gl(t,n,e,function(a,c,u){!i&&!cs(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function CD(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],s),{angle:f}=U2(o,{x:e.x,y:e.y});Sl(f,u,h)&&i.push({element:o,datasetIndex:a,index:c})}return Gl(t,n,e,r),i}function jD(t,e,n,s,i,r){let o=[];const a=kD(n);let c=Number.POSITIVE_INFINITY;function u(h,f,m){const x=h.inRange(e.x,e.y,i);if(s&&!x)return;const v=h.getCenterPoint(i);if(!(!!r||t.isPointInArea(v))&&!x)return;const I=a(e,v);I<c?(o=[{element:h,datasetIndex:f,index:m}],c=I):I===c&&o.push({element:h,datasetIndex:f,index:m})}return Gl(t,n,e,u),o}function bf(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?CD(t,e,n,i):jD(t,e,n,s,i,r)}function rb(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Gl(t,n,e,(c,u,h)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:h}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var AD={evaluateInteractionItems:Gl,modes:{index(t,e,n,s){const i=Ui(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?vf(t,i,r,s,o):bf(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=a[0].index,f=u.data[h];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:h})}),c):[]},dataset(t,e,n,s){const i=Ui(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?vf(t,i,r,s,o):bf(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:c,index:h})}return a},point(t,e,n,s){const i=Ui(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return vf(t,i,r,s,o)},nearest(t,e,n,s){const i=Ui(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return bf(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Ui(e,t);return rb(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Ui(e,t);return rb(t,i,"y",n.intersect,s)}}};const oS=["left","top","right","bottom"];function aa(t,e){return t.filter(n=>n.pos===e)}function ob(t,e){return t.filter(n=>oS.indexOf(n.pos)===-1&&n.box.axis===e)}function la(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function PD(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function RD(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!oS.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function MD(t,e){const n=RD(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=h?h*i:c&&e.availableHeight)}return n}function DD(t){const e=PD(t),n=la(e.filter(u=>u.box.fullSize),!0),s=la(aa(e,"left"),!0),i=la(aa(e,"right")),r=la(aa(e,"top"),!0),o=la(aa(e,"bottom")),a=ob(e,"x"),c=ob(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:aa(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function ab(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function aS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function OD(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!xe(i)){n.size&&(t[i]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,t[i]+=n.size}r.getPadding&&aS(o,r.getPadding());const a=Math.max(0,e.outerWidth-ab(o,t,"left","right")),c=Math.max(0,e.outerHeight-ab(o,t,"top","bottom")),u=a!==t.w,h=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:h}:{same:h,other:u}}function LD(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function VD(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Ea(t,e,n,s){const i=[];let r,o,a,c,u,h;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,VD(a.horizontal,e));const{same:f,other:m}=OD(e,n,a,s);u|=f&&i.length,h=h||m,c.fullSize||i.push(a)}return u&&Ea(i,e,n,s)||h}function Wc(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function lb(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*h,m=u.size||c.height;El(u.start)&&(o=u.start),c.fullSize?Wc(c,i.left,o,n.outerWidth-i.right-i.left,m):Wc(c,e.left+u.placed,o,f,m),u.start=o,u.placed+=f,o=c.bottom}else{const f=e.h*h,m=u.size||c.width;El(u.start)&&(r=u.start),c.fullSize?Wc(c,r,i.top,m,n.outerHeight-i.bottom-i.top):Wc(c,r,e.top+u.placed,m,f),u.start=r,u.placed+=f,r=c.right}}e.x=r,e.y=o}var dn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Ct(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=DD(t.boxes),c=a.vertical,u=a.horizontal;Se(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const h=c.reduce((b,I)=>I.box.options&&I.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),m=Object.assign({},i);aS(m,Ct(s));const x=Object.assign({maxPadding:m,w:r,h:o,x:i.left,y:i.top},i),v=MD(c.concat(u),f);Ea(a.fullSize,x,f,v),Ea(c,x,f,v),Ea(u,x,f,v)&&Ea(c,x,f,v),LD(x),lb(a.leftAndTop,x,f,v),x.x+=x.w,x.y+=x.h,lb(a.rightAndBottom,x,f,v),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Se(a.chartArea,b=>{const I=b.box;Object.assign(I,t.chartArea),I.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class lS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class FD extends lS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eu="$chartjs",zD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cb=t=>t===null||t==="";function UD(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Eu]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cb(i)){const r=Wv(t,"width");r!==void 0&&(t.width=r)}if(cb(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Wv(t,"height");r!==void 0&&(t.height=r)}return t}const cS=z3?{passive:!0}:!1;function BD(t,e,n){t&&t.addEventListener(e,n,cS)}function qD(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,cS)}function $D(t,e){const n=zD[t.type]||t.type,{x:s,y:i}=Ui(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Ed(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function HD(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ed(a.addedNodes,s),o=o&&!Ed(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function WD(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ed(a.removedNodes,s),o=o&&!Ed(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Tl=new Map;let ub=0;function uS(){const t=window.devicePixelRatio;t!==ub&&(ub=t,Tl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function GD(t,e){Tl.size||window.addEventListener("resize",uS),Tl.set(t,e)}function KD(t){Tl.delete(t),Tl.size||window.removeEventListener("resize",uS)}function QD(t,e,n){const s=t.canvas,i=s&&Zg(s);if(!i)return;const r=H2((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,h=c.contentRect.height;u===0&&h===0||r(u,h)});return o.observe(i),GD(t,r),o}function _f(t,e,n){n&&n.disconnect(),e==="resize"&&KD(t)}function YD(t,e,n){const s=t.canvas,i=H2(r=>{t.ctx!==null&&n($D(r,t))},t);return BD(s,e,i),i}class XD extends lS{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(UD(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Eu])return!1;const s=n[Eu].initial;["height","width"].forEach(r=>{const o=s[r];we(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Eu],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:HD,detach:WD,resize:QD}[n]||YD;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:_f,detach:_f,resize:_f}[n]||qD)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return F3(e,n,s,i)}isAttached(e){const n=e&&Zg(e);return!!(n&&n.isConnected)}}function JD(t){return!Jg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?FD:XD}class In{constructor(){Q(this,"x");Q(this,"y");Q(this,"active",!1);Q(this,"options");Q(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return bd(this.x)&&bd(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}Q(In,"defaults",{}),Q(In,"defaultRoutes");function ZD(t,e){const n=t.options.ticks,s=e5(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?n5(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return s5(e,u,r,o/i),u;const h=t5(r,e,i);if(o>0){let f,m;const x=o>1?Math.round((c-a)/(o-1)):null;for(Gc(e,u,h,we(x)?0:a-x,a),f=0,m=o-1;f<m;f++)Gc(e,u,h,r[f],r[f+1]);return Gc(e,u,h,c,we(x)?e.length:c+x),u}return Gc(e,u,h),u}function e5(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function t5(t,e,n){const s=i5(t),i=e.length/n;if(!s)return Math.max(i,1);const r=BM(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function n5(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function s5(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Gc(t,e,n,s,i){const r=ce(s,0),o=Math.min(ce(i,t.length),t.length);let a=0,c,u,h;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),h=r;h<0;)a++,h=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===h&&(e.push(t[u]),a++,h=Math.round(r+a*n))}function i5(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const r5=t=>t==="left"?"right":t==="right"?"left":t,db=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,hb=(t,e)=>Math.min(e||t,t);function fb(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function o5(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function a5(t,e){Se(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ca(t){return t.drawTicks?t.tickLength:0}function mb(t,e){if(!t.display)return 0;const n=rt(t.font,e),s=Ct(t.padding);return(Me(t.text)?t.text.length:1)*n.lineHeight+s.height}function l5(t,e){return Si(t,{scale:e,type:"scale"})}function c5(t,e,n){return Si(t,{tick:n,index:e,type:"tick"})}function u5(t,e,n){let s=$g(t);return(n&&e!=="right"||!n&&e==="right")&&(s=r5(s)),s}function d5(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:h}=c;let f=0,m,x,v;const b=o-i,I=a-r;if(t.isHorizontal()){if(x=Et(s,r,a),xe(n)){const y=Object.keys(n)[0],_=n[y];v=h[y].getPixelForValue(_)+b-e}else n==="center"?v=(u.bottom+u.top)/2+b-e:v=db(t,n,e);m=a-r}else{if(xe(n)){const y=Object.keys(n)[0],_=n[y];x=h[y].getPixelForValue(_)-I+e}else n==="center"?x=(u.left+u.right)/2-I+e:x=db(t,n,e);v=Et(s,o,i),f=n==="left"?-Ke:Ke}return{titleX:x,titleY:v,maxWidth:m,rotation:f}}class yr extends In{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Kt(e,Number.POSITIVE_INFINITY),n=Kt(n,Number.NEGATIVE_INFINITY),s=Kt(s,Number.POSITIVE_INFINITY),i=Kt(i,Number.NEGATIVE_INFINITY),{min:Kt(e,s),max:Kt(n,i),minDefined:dt(e),maxDefined:dt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Kt(n,Kt(s,n)),max:Kt(s,Kt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=x3(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?fb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ZD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Ie(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=hb(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const h=this._getLabelSizes(),f=h.widest.width,m=h.highest.height,x=Ut(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/s:x/(s-1),f+6>a&&(a=x/(s-(e.offset?.5:1)),c=this.maxHeight-ca(e.grid)-n.padding-mb(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),o=Bg(Math.min(Math.asin(Ut((h.highest.height+6)/a,-1,1)),Math.asin(Ut(c/u,-1,1))-Math.asin(Ut(m/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=mb(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ca(r)+c):(e.height=this.maxHeight,e.width=ca(r)+c),s.display&&this.ticks.length){const{first:u,last:h,widest:f,highest:m}=this._getLabelSizes(),x=s.padding*2,v=Vn(this.labelRotation),b=Math.cos(v),I=Math.sin(v);if(a){const y=s.mirror?0:I*f.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+y+x)}else{const y=s.mirror?0:b*f.width+I*m.height;e.width=Math.min(this.maxWidth,e.width+y+x)}this._calculatePadding(u,h,I,b)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,x=0;c?u?(m=i*e.width,x=s*n.height):(m=s*e.height,x=i*n.width):r==="start"?x=n.width:r==="end"?m=e.width:r!=="inner"&&(m=e.width/2,x=n.width/2),this.paddingLeft=Math.max((m-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((x-f+o)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;r==="start"?(h=0,f=e.height):r==="end"&&(h=n.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)we(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=fb(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/hb(n,s));let u=0,h=0,f,m,x,v,b,I,y,_,E,A,R;for(f=0;f<n;f+=c){if(v=e[f].label,b=this._resolveTickFontOptions(f),i.font=I=b.string,y=r[I]=r[I]||{data:{},gc:[]},_=b.lineHeight,E=A=0,!we(v)&&!Me(v))E=_d(i,y.data,y.gc,E,v),A=_;else if(Me(v))for(m=0,x=v.length;m<x;++m)R=v[m],!we(R)&&!Me(R)&&(E=_d(i,y.data,y.gc,E,R),A+=_);o.push(E),a.push(A),u=Math.max(E,u),h=Math.max(A,h)}a5(r,n);const M=o.indexOf(u),S=a.indexOf(h),w=k=>({width:o[k]||0,height:a[k]||0});return{first:w(0),last:w(n-1),widest:w(M),highest:w(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return WM(this._alignToPixels?Di(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=c5(this.getContext(),e,s))}return this.$context||(this.$context=l5(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Vn(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=ca(r),x=[],v=a.setContext(this.getContext()),b=v.display?v.width:0,I=b/2,y=function(ne){return Di(s,ne,b)};let _,E,A,R,M,S,w,k,C,T,P,j;if(o==="top")_=y(this.bottom),S=this.bottom-m,k=_-I,T=y(e.top)+I,j=e.bottom;else if(o==="bottom")_=y(this.top),T=e.top,j=y(e.bottom)-I,S=_+I,k=this.top+m;else if(o==="left")_=y(this.right),M=this.right-m,w=_-I,C=y(e.left)+I,P=e.right;else if(o==="right")_=y(this.left),C=e.left,P=y(e.right)-I,M=_+I,w=this.left+m;else if(n==="x"){if(o==="center")_=y((e.top+e.bottom)/2+.5);else if(xe(o)){const ne=Object.keys(o)[0],oe=o[ne];_=y(this.chart.scales[ne].getPixelForValue(oe))}T=e.top,j=e.bottom,S=_+I,k=S+m}else if(n==="y"){if(o==="center")_=y((e.left+e.right)/2);else if(xe(o)){const ne=Object.keys(o)[0],oe=o[ne];_=y(this.chart.scales[ne].getPixelForValue(oe))}M=_-I,w=M-m,C=e.left,P=e.right}const Z=ce(i.ticks.maxTicksLimit,f),Y=Math.max(1,Math.ceil(f/Z));for(E=0;E<f;E+=Y){const ne=this.getContext(E),oe=r.setContext(ne),U=a.setContext(ne),H=oe.lineWidth,X=oe.color,ue=U.dash||[],ae=U.dashOffset,Ue=oe.tickWidth,ye=oe.tickColor,vt=oe.tickBorderDash||[],He=oe.tickBorderDashOffset;A=o5(this,E,c),A!==void 0&&(R=Di(s,A,H),u?M=w=C=P=R:S=k=T=j=R,x.push({tx1:M,ty1:S,tx2:w,ty2:k,x1:C,y1:T,x2:P,y2:j,width:H,color:X,borderDash:ue,borderDashOffset:ae,tickWidth:Ue,tickColor:ye,tickBorderDash:vt,tickBorderDashOffset:He}))}return this._ticksLength=f,this._borderValue=_,x}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:h,mirror:f}=r,m=ca(s.grid),x=m+h,v=f?-h:x,b=-Vn(this.labelRotation),I=[];let y,_,E,A,R,M,S,w,k,C,T,P,j="middle";if(i==="top")M=this.bottom-v,S=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+v,S=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(m);S=Y.textAlign,R=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(m);S=Y.textAlign,R=Y.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+x;else if(xe(i)){const Y=Object.keys(i)[0],ne=i[Y];M=this.chart.scales[Y].getPixelForValue(ne)+x}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")R=(e.left+e.right)/2-x;else if(xe(i)){const Y=Object.keys(i)[0],ne=i[Y];R=this.chart.scales[Y].getPixelForValue(ne)}S=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(c==="start"?j="top":c==="end"&&(j="bottom"));const Z=this._getLabelSizes();for(y=0,_=a.length;y<_;++y){E=a[y],A=E.label;const Y=r.setContext(this.getContext(y));w=this.getPixelForTick(y)+r.labelOffset,k=this._resolveTickFontOptions(y),C=k.lineHeight,T=Me(A)?A.length:1;const ne=T/2,oe=Y.color,U=Y.textStrokeColor,H=Y.textStrokeWidth;let X=S;o?(R=w,S==="inner"&&(y===_-1?X=this.options.reverse?"left":"right":y===0?X=this.options.reverse?"right":"left":X="center"),i==="top"?u==="near"||b!==0?P=-T*C+C/2:u==="center"?P=-Z.highest.height/2-ne*C+C:P=-Z.highest.height+C/2:u==="near"||b!==0?P=C/2:u==="center"?P=Z.highest.height/2-ne*C:P=Z.highest.height-T*C,f&&(P*=-1),b!==0&&!Y.showLabelBackdrop&&(R+=C/2*Math.sin(b))):(M=w,P=(1-T)*C/2);let ue;if(Y.showLabelBackdrop){const ae=Ct(Y.backdropPadding),Ue=Z.heights[y],ye=Z.widths[y];let vt=P-ae.top,He=0-ae.left;switch(j){case"middle":vt-=Ue/2;break;case"bottom":vt-=Ue;break}switch(S){case"center":He-=ye/2;break;case"right":He-=ye;break;case"inner":y===_-1?He-=ye:y>0&&(He-=ye/2);break}ue={left:He,top:vt,width:ye+ae.width,height:Ue+ae.height,color:Y.backdropColor}}I.push({label:A,font:k,textOffset:P,options:{rotation:b,color:oe,strokeColor:U,strokeWidth:H,textAlign:X,textBaseline:j,translation:[R,M],backdrop:ue}})}return I}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Vn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,h;return n==="left"?i?(h=this.right+r,s==="near"?u="left":s==="center"?(u="center",h+=c/2):(u="right",h+=c)):(h=this.right-a,s==="near"?u="right":s==="center"?(u="center",h-=c/2):(u="left",h=this.left)):n==="right"?i?(h=this.left+r,s==="near"?u="right":s==="center"?(u="center",h-=c/2):(u="left",h-=c)):(h=this.left+a,s==="near"?u="left":s==="center"?(u="center",h+=c/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,h)=>{!h.width||!h.color||(s.save(),s.lineWidth=h.width,s.strokeStyle=h.color,s.setLineDash(h.borderDash||[]),s.lineDashOffset=h.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,h,f,m;this.isHorizontal()?(u=Di(e,this.left,o)-o/2,h=Di(e,this.right,a)+a/2,f=m=c):(f=Di(e,this.top,o)-o/2,m=Di(e,this.bottom,a)+a/2,u=h=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,f),n.lineTo(h,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Wg(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,h=o.textOffset;dr(s,u,0,h,c,a)}i&&Gg(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=rt(s.font),o=Ct(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||xe(n)?(c+=o.bottom,Me(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:h,maxWidth:f,rotation:m}=d5(this,c,n,a);dr(e,s.text,0,0,r,{color:s.color,maxWidth:f,rotation:m,textAlign:u5(a,n,i),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ce(e.grid&&e.grid.z,-1),i=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return rt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Kc{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;m5(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,h5(e,o,s),this.override&&$e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in $e[i]&&(delete $e[i][s],this.override&&delete ur[s])}}function h5(t,e,n){const s=wl(Object.create(null),[n?$e.get(n):{},$e.get(e),t.defaults]);$e.set(e,s),t.defaultRoutes&&f5(e,t.defaultRoutes),t.descriptors&&$e.describe(e,t.descriptors)}function f5(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");$e.route(r,i,c,a)})}function m5(t){return"id"in t&&"defaults"in t}class p5{constructor(){this.controllers=new Kc(io,"datasets",!0),this.elements=new Kc(In,"elements"),this.plugins=new Kc(Object,"plugins"),this.scales=new Kc(yr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Se(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=Ug(e);Ie(s["before"+i],[],s),n[e](s),Ie(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Dn=new p5;class g5{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(Ie(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){we(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=ce(s.options&&s.options.plugins,{}),r=x5(s);return i===!1&&!n?[]:v5(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function x5(t){const e={},n=[],s=Object.keys(Dn.plugins.items);for(let r=0;r<s.length;r++)n.push(Dn.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function y5(t,e){return!e&&t===!1?null:t===!0?{}:t}function v5(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=y5(s[c],i);u!==null&&r.push({plugin:a,options:b5(t.config,{plugin:a,local:n[c]},u,o)})}return r}function b5(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Km(t,e){const n=$e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function _5(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function w5(t,e){return t===e?"_index_":"_value_"}function pb(t){if(t==="x"||t==="y"||t==="r")return t}function E5(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Qm(t,...e){if(pb(t))return t;for(const n of e){const s=n.axis||E5(n.position)||t.length>1&&pb(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function S5(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return gb(t,"x",n[0])||gb(t,"y",n[0])}return{}}function N5(t,e){const n=ur[t.type]||{scales:{}},s=e.scales||{},i=Km(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!xe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Qm(o,a,S5(o,t),$e.scales[a.type]),u=w5(c,i),h=n.scales||{};r[o]=qa(Object.create(null),[{axis:c},a,h[c],h[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||Km(a,e),h=(ur[a]||{}).scales||{};Object.keys(h).forEach(f=>{const m=_5(f,c),x=o[m+"AxisID"]||m;r[x]=r[x]||Object.create(null),qa(r[x],[{axis:m},s[x],h[f]])})}),Object.keys(r).forEach(o=>{const a=r[o];qa(a,[$e.scales[a.type],$e.scale])}),r}function dS(t){const e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=N5(t,e)}function hS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function T5(t){return t=t||{},t.data=hS(t.data),dS(t),t}const xb=new Map,fS=new Set;function Qc(t,e){let n=xb.get(t);return n||(n=e(),xb.set(t,n),fS.add(n)),n}const ua=(t,e,n)=>{const s=cr(e,n);s!==void 0&&t.add(s)};class I5{constructor(e){this._config=T5(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Qc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Qc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Qc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(h=>{e&&(c.add(e),h.forEach(f=>ua(c,e,f))),h.forEach(f=>ua(c,i,f)),h.forEach(f=>ua(c,ur[r]||{},f)),h.forEach(f=>ua(c,$e,f)),h.forEach(f=>ua(c,Wm,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),fS.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,ur[n]||{},$e.datasets[n]||{},{type:n},$e,Wm]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=yb(this._resolverCache,e,i);let c=o;if(C5(o,n)){r.$shared=!1,s=vi(s)?s():s;const u=this.createResolver(e,s,a);c=_o(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=yb(this._resolverCache,e,s);return xe(n)?_o(r,n,void 0,i):r}}function yb(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Qg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const k5=t=>xe(t)&&Object.getOwnPropertyNames(t).some(e=>vi(t[e]));function C5(t,e){const{isScriptable:n,isIndexable:s}=Q2(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(vi(a)||k5(a))||o&&Me(a))return!0}return!1}var j5="4.5.0";const A5=["top","bottom","left","right","chartArea"];function vb(t,e){return t==="top"||t==="bottom"||A5.indexOf(t)===-1&&e==="x"}function bb(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function _b(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ie(n&&n.onComplete,[t],e)}function P5(t){const e=t.chart,n=e.options.animation;Ie(n&&n.onProgress,[t],e)}function mS(t){return Jg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Su={},wb=t=>{const e=mS(t);return Object.values(Su).filter(n=>n.canvas===e).pop()};function R5(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function M5(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Ds;let Ro=(Ds=class{static register(...e){Dn.add(...e),Eb()}static unregister(...e){Dn.remove(...e),Eb()}constructor(e,n){const s=this.config=new I5(n),i=mS(e),r=wb(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||JD(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,h=c&&c.width;if(this.id=RM(),this.ctx=a,this.canvas=c,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new g5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=YM(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}es.listen(this,"complete",_b),es.listen(this,"progress",P5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return we(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bv(this.canvas,this.ctx),this}stop(){return es.stop(this),this}resize(e,n){es.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Hv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ie(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Se(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=Qm(o,a),u=c==="r",h=c==="x";return{options:a,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Se(r,o=>{const a=o.options,c=a.id,u=Qm(c,a),h=ce(a.type,o.dtype);(a.position===void 0||vb(a.position,u)!==vb(o.dposition))&&(a.position=o.dposition),i[c]=!0;let f=null;if(c in s&&s[c].type===h)f=s[c];else{const m=Dn.getScale(h);f=new m({id:c,type:h,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(a,e)}),Se(i,(o,a)=>{o||delete s[a]}),Se(s,o=>{dn.configure(this,o,o.options),dn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(bb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Km(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Dn.getController(a),{datasetElementType:u,dataElementType:h}=$e.datasets[a];Object.assign(c,{dataElementType:Dn.getElement(h),datasetElementType:u&&Dn.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Se(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:f}=this.getDatasetMeta(u),m=!i&&r.indexOf(f)===-1;f.buildOrUpdateElements(m),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Se(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bb("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Se(this.scales,e=>{dn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Rv(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;R5(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Rv(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Se(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,vi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(es.has(this)?this.attached&&!es.running(this)&&es.start(this):(this.draw(),_b({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=eD(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Wg(n,i),e.controller.draw(),i&&Gg(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return cs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=AD.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Si(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);El(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),es.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Bv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Se(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Se(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Se(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!xd(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=FM(e),u=M5(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Ie(r.onHover,[e,a,this],this),c&&Ie(r.onClick,[e,a,this],this));const h=!xd(a,i);return(h||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,h}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},Q(Ds,"defaults",$e),Q(Ds,"instances",Su),Q(Ds,"overrides",ur),Q(Ds,"registry",Dn),Q(Ds,"version",j5),Q(Ds,"getChart",wb),Ds);function Eb(){return Se(Ro.instances,t=>t._plugins.invalidate())}function D5(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:h}=c,f=Math.min(u/o,Lt(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+f/2,n-f/2),a>0){const m=Math.min(u/a,Lt(s-n));t.arc(i,r,a+u/2,n-m/2,s+m/2,!0)}else{const m=Math.min(u/2,o*Lt(s-n));if(h==="round")t.arc(i,r,m,n-_e/2,s+_e/2,!0);else if(h==="bevel"){const x=2*m*m,v=-x*Math.cos(n+_e/2)+i,b=-x*Math.sin(n+_e/2)+r,I=x*Math.cos(s+_e/2)+i,y=x*Math.sin(s+_e/2)+r;t.lineTo(v,b),t.lineTo(I,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function O5(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+Ke,s-Ke),t.closePath(),t.clip()}function L5(t){return Kg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function V5(t,e,n,s){const i=L5(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return Ut(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ut(i.innerStart,0,o),innerEnd:Ut(i.innerEnd,0,o)}}function kr(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Sd(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:h}=e,f=Math.max(e.outerRadius+s+n-u,0),m=h>0?h+s+n+u:0;let x=0;const v=i-c;if(s){const Y=h>0?h-s:0,ne=f>0?f-s:0,oe=(Y+ne)/2,U=oe!==0?v*oe/(oe+s):v;x=(v-U)/2}const b=Math.max(.001,v*f-n/_e)/f,I=(v-b)/2,y=c+I+x,_=i-I-x,{outerStart:E,outerEnd:A,innerStart:R,innerEnd:M}=V5(e,m,f,_-y),S=f-E,w=f-A,k=y+E/S,C=_-A/w,T=m+R,P=m+M,j=y+R/T,Z=_-M/P;if(t.beginPath(),r){const Y=(k+C)/2;if(t.arc(o,a,f,k,Y),t.arc(o,a,f,Y,C),A>0){const H=kr(w,C,o,a);t.arc(H.x,H.y,A,C,_+Ke)}const ne=kr(P,_,o,a);if(t.lineTo(ne.x,ne.y),M>0){const H=kr(P,Z,o,a);t.arc(H.x,H.y,M,_+Ke,Z+Math.PI)}const oe=(_-M/m+(y+R/m))/2;if(t.arc(o,a,m,_-M/m,oe,!0),t.arc(o,a,m,oe,y+R/m,!0),R>0){const H=kr(T,j,o,a);t.arc(H.x,H.y,R,j+Math.PI,y-Ke)}const U=kr(S,y,o,a);if(t.lineTo(U.x,U.y),E>0){const H=kr(S,k,o,a);t.arc(H.x,H.y,E,y-Ke,k)}}else{t.moveTo(o,a);const Y=Math.cos(k)*f+o,ne=Math.sin(k)*f+a;t.lineTo(Y,ne);const oe=Math.cos(C)*f+o,U=Math.sin(C)*f+a;t.lineTo(oe,U)}t.closePath()}function F5(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){Sd(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%De||De))}return Sd(t,e,n,s,c,i),t.fill(),c}function z5(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:h,borderDash:f,borderDashOffset:m,borderRadius:x}=c,v=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,v?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let b=e.endAngle;if(r){Sd(t,e,n,s,b,i);for(let I=0;I<r;++I)t.stroke();isNaN(a)||(b=o+(a%De||De))}v&&O5(t,e,b),c.selfJoin&&b-o>=_e&&x===0&&h!=="miter"&&D5(t,e,b),r||(Sd(t,e,n,s,b,i),t.stroke())}class Wr extends In{constructor(n){super();Q(this,"circumference");Q(this,"endAngle");Q(this,"fullCircles");Q(this,"innerRadius");Q(this,"outerRadius");Q(this,"pixelMargin");Q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=U2(r,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),x=(this.options.spacing+this.options.borderWidth)/2,v=ce(m,u-c),b=Sl(o,c,u)&&c!==u,I=v>=De||b,y=Qs(a,h+x,f+x);return I&&y}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,f=(r+o)/2,m=(a+c+h+u)/2;return{x:s+Math.cos(f)*m,y:i+Math.sin(f)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>De?Math.floor(i/De):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(_e,i||0)),h=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,F5(n,this,h,o,a),z5(n,this,h,o,a),n.restore()}}Q(Wr,"id","arc"),Q(Wr,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Q(Wr,"defaultRoutes",{backgroundColor:"backgroundColor"}),Q(Wr,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function pS(t,e,n=e){t.lineCap=ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ce(n.borderDash,e.borderDash)),t.lineDashOffset=ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ce(n.borderWidth,e.borderWidth),t.strokeStyle=ce(n.borderColor,e.borderColor)}function U5(t,e,n){t.lineTo(n.x,n.y)}function B5(t){return t.stepped?l3:t.tension||t.cubicInterpolationMode==="monotone"?c3:U5}function gS(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,c=Math.max(i,o),u=Math.min(r,a),h=i<o&&r<o||i>a&&r>a;return{count:s,start:c,loop:e.loop,ilen:u<c&&!h?s+u-c:u-c}}function q5(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:c,ilen:u}=gS(i,n,s),h=B5(r);let{move:f=!0,reverse:m}=s||{},x,v,b;for(x=0;x<=u;++x)v=i[(a+(m?u-x:x))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):h(t,b,v,m,r.stepped),b=v);return c&&(v=i[(a+(m?u:0))%o],h(t,b,v,m,r.stepped)),!!c}function $5(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=gS(i,n,s),{move:c=!0,reverse:u}=s||{};let h=0,f=0,m,x,v,b,I,y;const _=A=>(o+(u?a-A:A))%r,E=()=>{b!==I&&(t.lineTo(h,I),t.lineTo(h,b),t.lineTo(h,y))};for(c&&(x=i[_(0)],t.moveTo(x.x,x.y)),m=0;m<=a;++m){if(x=i[_(m)],x.skip)continue;const A=x.x,R=x.y,M=A|0;M===v?(R<b?b=R:R>I&&(I=R),h=(f*h+A)/++f):(E(),t.lineTo(A,R),v=M,f=0,b=I=R),y=R}E()}function Ym(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$5:q5}function H5(t){return t.stepped?U3:t.tension||t.cubicInterpolationMode==="monotone"?B3:Bi}function W5(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),pS(t,e.options),t.stroke(i)}function G5(t,e,n,s){const{segments:i,options:r}=e,o=Ym(e);for(const a of i)pS(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const K5=typeof Path2D=="function";function Q5(t,e,n,s){K5&&!e.options.segment?W5(t,e,n,s):G5(t,e,n,s)}class Sa extends In{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;R3(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Y3(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=G3(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],c=H5(s);let u,h;for(u=0,h=o.length;u<h;++u){const{start:f,end:m}=o[u],x=r[f],v=r[m];if(x===v){a.push(x);continue}const b=Math.abs((i-x[n])/(v[n]-x[n])),I=c(x,v,b,s.stepped);I[n]=e[n],a.push(I)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Ym(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=Ym(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Q5(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(Sa,"id","line"),Q(Sa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(Sa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(Sa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Sb(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class Nu extends In{constructor(n){super();Q(this,"parsed");Q(this,"skip");Q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return Sb(this,n,"x",s)}inYRange(n,s){return Sb(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!cs(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Gm(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Q(Nu,"id","point"),Q(Nu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(Nu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xS(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,h,f;return t.horizontal?(f=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-f,h=s+f):(f=r/2,a=n-f,c=n+f,u=Math.min(s,i),h=Math.max(s,i)),{left:a,top:u,right:c,bottom:h}}function Ys(t,e,n,s){return t?0:Ut(e,n,s)}function Y5(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=K2(s);return{t:Ys(i.top,r.top,0,n),r:Ys(i.right,r.right,0,e),b:Ys(i.bottom,r.bottom,0,n),l:Ys(i.left,r.left,0,e)}}function X5(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Yi(i),o=Math.min(e,n),a=t.borderSkipped,c=s||xe(i);return{topLeft:Ys(!c||a.top||a.left,r.topLeft,0,o),topRight:Ys(!c||a.top||a.right,r.topRight,0,o),bottomLeft:Ys(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ys(!c||a.bottom||a.right,r.bottomRight,0,o)}}function J5(t){const e=xS(t),n=e.right-e.left,s=e.bottom-e.top,i=Y5(t,n/2,s/2),r=X5(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function wf(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&xS(t,s);return a&&(i||Qs(e,a.left,a.right))&&(r||Qs(n,a.top,a.bottom))}function Z5(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function eO(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ef(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class ro extends In{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=J5(this),a=Z5(o.radius)?Nl:eO;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Ef(o,n,r)),e.clip(),a(e,Ef(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Ef(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return wf(this,e,n,s)}inXRange(e,n){return wf(this,e,null,n)}inYRange(e,n){return wf(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Q(ro,"id","bar"),Q(ro,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Nb=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},tO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Tb extends In{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=rt(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Nb(s,r);let u,h;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,r,a,c)+10):(h=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],h=i+a;let f=e;r.textAlign="left",r.textBaseline="middle";let m=-1,x=-h;return this.legendItems.forEach((v,b)=>{const I=s+n/2+r.measureText(v.text).width;(b===0||u[u.length-1]+I+2*a>o)&&(f+=h,u[u.length-(b>0?0:1)]=0,x+=h,m++),c[b]={left:0,top:x,row:m,width:I,height:i},u[u.length-1]+=I+a}),f}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let f=a,m=0,x=0,v=0,b=0;return this.legendItems.forEach((I,y)=>{const{itemWidth:_,itemHeight:E}=nO(s,n,r,I,i);y>0&&x+E+2*a>h&&(f+=m+a,u.push({width:m,height:x}),v+=m+a,b++,m=x=0),c[y]={left:v,top:x,col:b,width:_,height:E},m=Math.max(m,_),x+=E+a}),f+=m,u.push({width:m,height:x}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=so(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=Et(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=Et(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=Et(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=Et(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wg(e,this),this._draw(),Gg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=$e.color,c=so(e.rtl,this.left,this.width),u=rt(o.font),{padding:h}=o,f=u.size,m=f/2;let x;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:b,itemHeight:I}=Nb(o,f),y=function(M,S,w){if(isNaN(v)||v<=0||isNaN(b)||b<0)return;i.save();const k=ce(w.lineWidth,1);if(i.fillStyle=ce(w.fillStyle,a),i.lineCap=ce(w.lineCap,"butt"),i.lineDashOffset=ce(w.lineDashOffset,0),i.lineJoin=ce(w.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=ce(w.strokeStyle,a),i.setLineDash(ce(w.lineDash,[])),o.usePointStyle){const C={radius:b*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:k},T=c.xPlus(M,v/2),P=S+m;G2(i,C,T,P,o.pointStyleWidth&&v)}else{const C=S+Math.max((f-b)/2,0),T=c.leftForLtr(M,v),P=Yi(w.borderRadius);i.beginPath(),Object.values(P).some(j=>j!==0)?Nl(i,{x:T,y:C,w:v,h:b,radius:P}):i.rect(T,C,v,b),i.fill(),k!==0&&i.stroke()}i.restore()},_=function(M,S,w){dr(i,w.text,M,S+I/2,u,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},E=this.isHorizontal(),A=this._computeTitleHeight();E?x={x:Et(r,this.left+h,this.right-s[0]),y:this.top+h+A,line:0}:x={x:this.left+h,y:Et(r,this.top+A+h,this.bottom-n[0].height),line:0},eS(this.ctx,e.textDirection);const R=I+h;this.legendItems.forEach((M,S)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const w=i.measureText(M.text).width,k=c.textAlign(M.textAlign||(M.textAlign=o.textAlign)),C=v+m+w;let T=x.x,P=x.y;c.setWidth(this.width),E?S>0&&T+C+h>this.right&&(P=x.y+=R,x.line++,T=x.x=Et(r,this.left+h,this.right-s[x.line])):S>0&&P+R>this.bottom&&(T=x.x=T+n[x.line].width+h,x.line++,P=x.y=Et(r,this.top+A+h,this.bottom-n[x.line].height));const j=c.x(T);if(y(j,P,M),T=XM(k,T+v+m,E?T+C:this.right,e.rtl),_(c.x(T),P,M),E)x.x+=C+h;else if(typeof M.text!="string"){const Z=u.lineHeight;x.y+=yS(M,Z)+h}else x.y+=R}),tS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=rt(n.font),i=Ct(n.padding);if(!n.display)return;const r=so(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let h,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),h=this.top+u,f=Et(e.align,f,this.right-m);else{const v=this.columnSizes.reduce((b,I)=>Math.max(b,I.height),0);h=u+Et(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const x=Et(a,f,f+m);o.textAlign=r.textAlign($g(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,dr(o,n.text,x,h,s)}_computeTitleHeight(){const e=this.options.title,n=rt(e.font),s=Ct(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Qs(e,this.left,this.right)&&Qs(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Qs(e,i.left,i.left+i.width)&&Qs(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!rO(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=tO(i,s);i&&!r&&Ie(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Ie(n.onHover,[e,s,this],this)}else s&&Ie(n.onClick,[e,s,this],this)}}function nO(t,e,n,s,i){const r=sO(s,t,e,n),o=iO(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function sO(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function iO(t,e,n){let s=t;return typeof e.text!="string"&&(s=yS(e,n)),s}function yS(t,e){const n=t.text?t.text.length:0;return e*n}function rO(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var t0={id:"legend",_element:Tb,start(t,e,n){const s=t.legend=new Tb({ctx:t.ctx,options:n,chart:t});dn.configure(t,s,n),dn.addBox(t,s)},stop(t){dn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;dn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),h=Ct(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class vS extends In{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Me(s.text)?s.text.length:1;this._padding=Ct(s.padding);const r=i*rt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,h,f;return this.isHorizontal()?(h=Et(a,s,r),f=n+e,u=r-s):(o.position==="left"?(h=s+e,f=Et(a,i,n),c=_e*-.5):(h=r-e,f=Et(a,n,i),c=_e*.5),u=i-n),{titleX:h,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=rt(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);dr(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:$g(n.align),textBaseline:"middle",translation:[o,a]})}}function oO(t,e){const n=new vS({ctx:t.ctx,options:e,chart:t});dn.configure(t,n,e),dn.addBox(t,n),t.titleBlock=n}var n0={id:"title",_element:vS,start(t,e,n){oO(t,n)},stop(t){const e=t.titleBlock;dn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;dn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Na={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),h=$m(e,u);h<i&&(i=h,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Rn(t,e){return e&&(Me(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ts(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function aO(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Ib(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=rt(e.bodyFont),u=rt(e.titleFont),h=rt(e.footerFont),f=r.length,m=i.length,x=s.length,v=Ct(e.padding);let b=v.height,I=0,y=s.reduce((A,R)=>A+R.before.length+R.lines.length+R.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),y){const A=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;b+=x*A+(y-x)*c.lineHeight+(y-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*h.lineHeight+(m-1)*e.footerSpacing);let _=0;const E=function(A){I=Math.max(I,n.measureText(A).width+_)};return n.save(),n.font=u.string,Se(t.title,E),n.font=c.string,Se(t.beforeBody.concat(t.afterBody),E),_=e.displayColors?o+2+e.boxPadding:0,Se(s,A=>{Se(A.before,E),Se(A.lines,E),Se(A.after,E)}),_=0,n.font=h.string,Se(t.footer,E),n.restore(),I+=v.width,{width:I,height:b}}function lO(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function cO(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function uO(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),cO(u,t,e,n)&&(u="center"),u}function kb(t,e,n){const s=n.yAlign||e.yAlign||lO(t,n);return{xAlign:n.xAlign||e.xAlign||uO(t,e,n,s),yAlign:s}}function dO(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function hO(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Cb(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:x}=Yi(o);let v=dO(e,a);const b=hO(e,c,u);return c==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(h,m)+i:a==="right"&&(v+=Math.max(f,x)+i),{x:Ut(v,0,s.width-e.width),y:Ut(b,0,s.height-e.height)}}function Yc(t,e,n){const s=Ct(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function jb(t){return Rn([],ts(t))}function fO(t,e,n){return Si(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ab(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const bS={beforeTitle:Jn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return we(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function Dt(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?bS[e].call(n,s):i}class Xm extends In{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new sS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=fO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Dt(s,"beforeTitle",this,e),r=Dt(s,"title",this,e),o=Dt(s,"afterTitle",this,e);let a=[];return a=Rn(a,ts(i)),a=Rn(a,ts(r)),a=Rn(a,ts(o)),a}getBeforeBody(e,n){return jb(Dt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Se(e,r=>{const o={before:[],lines:[],after:[]},a=Ab(s,r);Rn(o.before,ts(Dt(a,"beforeLabel",this,r))),Rn(o.lines,Dt(a,"label",this,r)),Rn(o.after,ts(Dt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return jb(Dt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Dt(s,"beforeFooter",this,e),r=Dt(s,"footer",this,e),o=Dt(s,"afterFooter",this,e);let a=[];return a=Rn(a,ts(i)),a=Rn(a,ts(r)),a=Rn(a,ts(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(aO(this.chart,n[c]));return e.filter&&(a=a.filter((h,f,m)=>e.filter(h,f,m,s))),e.itemSort&&(a=a.sort((h,f)=>e.itemSort(h,f,s))),Se(a,h=>{const f=Ab(e.callbacks,h);i.push(Dt(f,"labelColor",this,h)),r.push(Dt(f,"labelPointStyle",this,h)),o.push(Dt(f,"labelTextColor",this,h))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Na[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=Ib(this,s),u=Object.assign({},a,c),h=kb(this.chart,s,u),f=Cb(s,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=Yi(a),{x:m,y:x}=e,{width:v,height:b}=n;let I,y,_,E,A,R;return r==="center"?(A=x+b/2,i==="left"?(I=m,y=I-o,E=A+o,R=A-o):(I=m+v,y=I+o,E=A-o,R=A+o),_=I):(i==="left"?y=m+Math.max(c,h)+o:i==="right"?y=m+v-Math.max(u,f)-o:y=this.caretX,r==="top"?(E=x,A=E-o,I=y-o,_=y+o):(E=x+b,A=E+o,I=y+o,_=y-o),R=E),{x1:I,x2:y,x3:_,y1:E,y2:A,y3:R}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=so(s.rtl,this.x,this.width);for(e.x=Yc(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=rt(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,h=rt(r.bodyFont),f=Yc(this,"left",r),m=i.x(f),x=c<h.lineHeight?(h.lineHeight-c)/2:0,v=n.y+x;if(r.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},I=i.leftForLtr(m,u)+u/2,y=v+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Gm(e,b,I,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Gm(e,b,I,y)}else{e.lineWidth=xe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=i.leftForLtr(m,u),I=i.leftForLtr(i.xPlus(m,1),u-2),y=Yi(o.borderRadius);Object.values(y).some(_=>_!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Nl(e,{x:b,y:v,w:u,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Nl(e,{x:I,y:v+1,w:u-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(b,v,u,c),e.strokeRect(b,v,u,c),e.fillStyle=o.backgroundColor,e.fillRect(I,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:h}=s,f=rt(s.bodyFont);let m=f.lineHeight,x=0;const v=so(s.rtl,this.x,this.width),b=function(w){n.fillText(w,v.x(e.x+x),e.y+m/2),e.y+=m+r},I=v.textAlign(o);let y,_,E,A,R,M,S;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Yc(this,I,s),n.fillStyle=s.bodyColor,Se(this.beforeBody,b),x=a&&I!=="right"?o==="center"?u/2+h:u+2+h:0,A=0,M=i.length;A<M;++A){for(y=i[A],_=this.labelTextColors[A],n.fillStyle=_,Se(y.before,b),E=y.lines,a&&E.length&&(this._drawColorBox(n,e,A,v,s),m=Math.max(f.lineHeight,c)),R=0,S=E.length;R<S;++R)b(E[R]),m=f.lineHeight;Se(y.after,b)}x=0,m=f.lineHeight,Se(this.afterBody,b),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=so(s.rtl,this.x,this.width);for(e.x=Yc(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=rt(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:h}=s,{topLeft:f,topRight:m,bottomLeft:x,bottomRight:v}=Yi(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-m,c),n.quadraticCurveTo(a+u,c,a+u,c+m),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+h-v),n.quadraticCurveTo(a+u,c+h,a+u-v,c+h),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+x,c+h),n.quadraticCurveTo(a,c+h,a,c+h-x),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+f),n.quadraticCurveTo(a,c,a+f,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Na[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ib(this,e),c=Object.assign({},o,this._size),u=kb(n,e,c),h=Cb(e,c,u,n);(i._to!==h.x||r._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Ct(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),eS(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),tS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!xd(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!xd(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Na[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}Q(Xm,"positioners",Na);var s0={id:"tooltip",_element:Xm,positioners:Na,afterInit(t,e,n){n&&(t.tooltip=new Xm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mO=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pO(t,e,n,s){const i=t.indexOf(e);if(i===-1)return mO(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const gO=(t,e)=>t===null?null:Ut(Math.round(t),0,e);function Pb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Il extends yr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(we(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:pO(s,e,ce(n,e),this._addedLabels),gO(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Pb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Q(Il,"id","category"),Q(Il,"defaults",{ticks:{callback:Pb}});function xO(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:h,maxDigits:f,includeBounds:m}=t,x=r||1,v=h-1,{min:b,max:I}=e,y=!we(o),_=!we(a),E=!we(u),A=(I-b)/(f+1);let R=Dv((I-b)/v/x)*x,M,S,w,k;if(R<1e-14&&!y&&!_)return[{value:b},{value:I}];k=Math.ceil(I/R)-Math.floor(b/R),k>v&&(R=Dv(k*R/v/x)*x),we(c)||(M=Math.pow(10,c),R=Math.ceil(R*M)/M),i==="ticks"?(S=Math.floor(b/R)*R,w=Math.ceil(I/R)*R):(S=b,w=I),y&&_&&r&&$M((a-o)/r,R/1e3)?(k=Math.round(Math.min((a-o)/R,h)),R=(a-o)/k,S=o,w=a):E?(S=y?o:S,w=_?a:w,k=u-1,R=(w-S)/k):(k=(w-S)/R,$a(k,Math.round(k),R/1e3)?k=Math.round(k):k=Math.ceil(k));const C=Math.max(Ov(R),Ov(S));M=Math.pow(10,we(c)?C:c),S=Math.round(S*M)/M,w=Math.round(w*M)/M;let T=0;for(y&&(m&&S!==o?(n.push({value:o}),S<o&&T++,$a(Math.round((S+T*R)*M)/M,o,Rb(o,A,t))&&T++):S<o&&T++);T<k;++T){const P=Math.round((S+T*R)*M)/M;if(_&&P>a)break;n.push({value:P})}return _&&m&&w!==a?n.length&&$a(n[n.length-1].value,a,Rb(a,A,t))?n[n.length-1].value=a:n.push({value:a}):(!_||w===a)&&n.push({value:w}),n}function Rb(t,e,{horizontal:n,minRotation:s}){const i=Vn(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Nd extends yr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return we(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=Gn(i),u=Gn(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=xO(i,r);return e.bounds==="ticks"&&z2(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return rh(e,this.chart.options.locale,this.options.ticks.format)}}class kl extends Nd{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=dt(e)?e:0,this.max=dt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Vn(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Q(kl,"id","linear"),Q(kl,"defaults",{ticks:{callback:oh.formatters.numeric}});const Cl=t=>Math.floor(Ks(t)),Li=(t,e)=>Math.pow(10,Cl(t)+e);function Mb(t){return t/Math.pow(10,Cl(t))===1}function Db(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function yO(t,e){const n=e-t;let s=Cl(n);for(;Db(t,e,s)>10;)s++;for(;Db(t,e,s)<10;)s--;return Math.min(s,Cl(t))}function vO(t,{min:e,max:n}){e=Kt(t.min,e);const s=[],i=Cl(e);let r=yO(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=i>r?Math.pow(10,i):0,u=Math.round((e-c)*o)/o,h=Math.floor((e-c)/a/10)*a*10;let f=Math.floor((u-h)/Math.pow(10,r)),m=Kt(t.min,Math.round((c+h+f*Math.pow(10,r))*o)/o);for(;m<n;)s.push({value:m,major:Mb(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),m=Math.round((c+h+f*Math.pow(10,r))*o)/o;const x=Kt(t.max,m);return s.push({value:x,major:Mb(x),significand:f}),s}class Ob extends yr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Nd.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return dt(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=dt(e)?Math.max(0,e):null,this.max=dt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!dt(this._userMin)&&(this.min=e===Li(this.min,0)?Li(this.min,-1):Li(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Li(s,-1)),o(Li(i,1)))),s<=0&&r(Li(i,-1)),i<=0&&o(Li(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=vO(n,this);return e.bounds==="ticks"&&z2(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":rh(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ks(e),this._valueRange=Ks(this.max)-Ks(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ks(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Q(Ob,"id","logarithmic"),Q(Ob,"defaults",{ticks:{callback:oh.formatters.logarithmic,major:{enabled:!0}}});function Jm(t){const e=t.ticks;if(e.display&&t.display){const n=Ct(e.backdropPadding);return ce(e.font&&e.font.size,$e.font.size)+n.height}return 0}function bO(t,e,n){return n=Me(n)?n:[n],{w:a3(t,e.string,n),h:n.length*e.lineHeight}}function Lb(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function _O(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?_e/r:0;for(let c=0;c<r;c++){const u=o.setContext(t.getPointLabelContext(c));i[c]=u.padding;const h=t.getPointPosition(c,t.drawingArea+i[c],a),f=rt(u.font),m=bO(t.ctx,f,t._pointLabels[c]);s[c]=m;const x=Lt(t.getIndexAngle(c)+a),v=Math.round(Bg(x)),b=Lb(v,h.x,m.w,0,180),I=Lb(v,h.y,m.h,90,270);wO(n,e,x,b,I)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=NO(t,s,i)}function wO(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function EO(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,c=t.getPointPosition(e,s+i+o,r),u=Math.round(Bg(Lt(c.angle+Ke))),h=kO(c.y,a.h,u),f=TO(u),m=IO(c.x,a.w,f);return{visible:!0,x:c.x,y:h,textAlign:f,left:m,top:h,right:m+a.w,bottom:h+a.h}}function SO(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(cs({x:n,y:s},e)||cs({x:n,y:r},e)||cs({x:i,y:s},e)||cs({x:i,y:r},e))}function NO(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Jm(r)/2,additionalAngle:o?_e/i:0};let u;for(let h=0;h<i;h++){c.padding=n[h],c.size=e[h];const f=EO(t,h,c);s.push(f),a==="auto"&&(f.visible=SO(f,u),f.visible&&(u=f))}return s}function TO(t){return t===0||t===180?"center":t<180?"left":"right"}function IO(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function kO(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function CO(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!we(a)){const c=Yi(e.borderRadius),u=Ct(e.backdropPadding);t.fillStyle=a;const h=s-u.left,f=i-u.top,m=r-s+u.width,x=o-i+u.height;Object.values(c).some(v=>v!==0)?(t.beginPath(),Nl(t,{x:h,y:f,w:m,h:x,radius:c}),t.fill()):t.fillRect(h,f,m,x)}}function jO(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));CO(n,o,r);const a=rt(o.font),{x:c,y:u,textAlign:h}=r;dr(n,t._pointLabels[i],c,u+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function _S(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,De);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function AO(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!s||!a||!c||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),_S(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function PO(t,e,n){return Si(t,{label:n,index:e,type:"pointLabel"})}class Xc extends Nd{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ct(Jm(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=dt(e)&&!isNaN(e)?e:0,this.max=dt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jm(this.options))}generateTickLabels(e){Nd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=Ie(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?_O(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=De/(this._pointLabels.length||1),s=this.options.startAngle||0;return Lt(e*n+Vn(s))}getDistanceFromCenterForValue(e){if(we(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(we(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return PO(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-Ke+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),_S(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,c,u;if(n.pointLabels.display&&jO(this,o),i.display&&this.ticks.forEach((h,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const m=this.getContext(f),x=i.setContext(m),v=r.setContext(m);AO(this,x,c,o,v)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const h=s.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:m}=h;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=s.setContext(this.getContext(c)),h=rt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const f=Ct(u.backdropPadding);e.fillRect(-o/2-f.left,-r-h.size/2-f.top,o+f.width,h.size+f.height)}dr(e,a.label,0,-r,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Q(Xc,"id","radialLinear"),Q(Xc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:oh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Q(Xc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(Xc,"descriptors",{angleLines:{_fallback:"grid"}});const lh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ft=Object.keys(lh);function Vb(t,e){return t-e}function Fb(t,e){if(we(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),dt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(bd(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function zb(t,e,n,s){const i=Ft.length;for(let r=Ft.indexOf(t);r<i-1;++r){const o=lh[Ft[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Ft[r]}return Ft[i-1]}function RO(t,e,n,s,i){for(let r=Ft.length-1;r>=Ft.indexOf(n);r--){const o=Ft[r];if(lh[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Ft[n?Ft.indexOf(n):0]}function MO(t){for(let e=Ft.indexOf(t)+1,n=Ft.length;e<n;++e)if(lh[Ft[e]].common)return Ft[e]}function Ub(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=qg(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function DO(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function Bb(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:DO(t,s,i,n)}class Td extends yr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new TD._date(e.adapters.date);i.init(n),qa(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Fb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=dt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=dt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=KM(i,r,o);return this._unit=n.unit||(s.autoSkip?zb(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):RO(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:MO(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Bb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ut(n,0,o),s=Ut(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||zb(r.minUnit,n,s,this._getLabelCapacity(n)),a=ce(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=bd(c)||c===!0,h={};let f=n,m,x;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(m=f,x=0;m<s;m=+e.add(m,a,o),x++)Ub(h,m,v);return(m===s||i.bounds==="ticks"||x===1)&&Ub(h,m,v),Object.keys(h).sort(Vb).map(b=>+b)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Ie(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,h=c&&a[c],f=u&&a[u],m=s[n],x=u&&f&&m&&m.major;return this._adapter.format(e,i||(x?f:h))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Vn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Bb(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Fb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return q2(e.sort(Vb))}}Q(Td,"id","time"),Q(Td,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Jc(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Hm(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Hm(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class qb extends Td{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Jc(n,this.min),this._tableRange=Jc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,h;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)h=i[o+1],c=i[o-1],u=i[o],Math.round((h+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Jc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Jc(this._table,s*this._tableRange+this._minPos,!0)}}Q(qb,"id","timeseries"),Q(qb,"defaults",Td.defaults);const wS="label";function $b(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function OO(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ES(t,e){t.labels=e}function SS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wS;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function LO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wS;const n={labels:[],datasets:[]};return ES(n,t.labels),SS(n,t.datasets,e),n}function VO(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:u=[],fallbackContent:h,updateMode:f,...m}=t,x=F.useRef(null),v=F.useRef(null),b=()=>{x.current&&(v.current=new Ro(x.current,{type:o,data:LO(a,r),options:c&&{...c},plugins:u}),$b(e,v.current))},I=()=>{$b(e,null),v.current&&(v.current.destroy(),v.current=null)};return F.useEffect(()=>{!i&&v.current&&c&&OO(v.current,c)},[i,c]),F.useEffect(()=>{!i&&v.current&&ES(v.current.config.data,a.labels)},[i,a.labels]),F.useEffect(()=>{!i&&v.current&&a.datasets&&SS(v.current.config.data,a.datasets,r)},[i,a.datasets]),F.useEffect(()=>{v.current&&(i?(I(),setTimeout(b)):v.current.update(f))},[i,c,a.labels,a.datasets,f]),F.useEffect(()=>{v.current&&(I(),setTimeout(b))},[o]),F.useEffect(()=>(b(),()=>I()),[]),ip.createElement("canvas",{ref:x,role:"img",height:n,width:s,...m},h)}const FO=F.forwardRef(VO);function NS(t,e){return Ro.register(e),F.forwardRef((n,s)=>ip.createElement(FO,{...n,ref:s,type:t}))}const Zm=NS("bar",wu),TS=NS("doughnut",wa),Hb=[{id:1,question:"Qu es el inters compuesto?",options:["Inters sobre inters","Un impuesto","Una comisin bancaria","Un tipo de crdito"],correct:0,explanation:'El inters compuesto es cuando los intereses generados se suman al capital inicial, y a su vez generan nuevos intereses. Es la "octava maravilla del mundo" segn Einstein, porque permite que el dinero crezca exponencialmente.',category:"Conceptos Bsicos",difficulty:"Bsico"},{id:2,question:"Qu porcentaje mnimo es recomendable ahorrar?",options:["5%","10%","15%","20%"],correct:3,explanation:"La regla 50/30/20 recomienda ahorrar al menos el 20% de los ingresos: 50% para necesidades, 30% para deseos y 20% para ahorro e inversin. Sin embargo, cualquier porcentaje es mejor que no ahorrar nada.",category:"Presupuesto",difficulty:"Bsico"},{id:3,question:"Qu es la inflacin?",options:["Subida de precios","Bajada de salarios","Crecimiento econmico","Tipo de inversin"],correct:0,explanation:"La inflacin es el aumento generalizado y sostenido de los precios de bienes y servicios en una economa. Reduce el poder adquisitivo del dinero, por eso es importante que tus ahorros crezcan por encima de la inflacin.",category:"Economa",difficulty:"Bsico"},{id:4,question:"Cunto debera tener en un fondo de emergencia?",options:["1 mes de gastos","3-6 meses de gastos","1 ao de gastos","No es necesario"],correct:1,explanation:"Un fondo de emergencia debe cubrir entre 3-6 meses de gastos bsicos. Esto te protege ante imprevistos como prdida de trabajo, gastos mdicos o reparaciones urgentes sin tener que recurrir a crditos costosos.",category:"Seguridad Financiera",difficulty:"Intermedio"},{id:5,question:"Qu es la diversificacin en inversiones?",options:["Poner todo en una accin","Invertir en diferentes activos","Comprar solo oro","Invertir solo en inmuebles"],correct:1,explanation:"La diversificacin consiste en distribuir tus inversiones entre diferentes activos, sectores, regiones y tipos de inversin. Reduce el riesgo porque si una inversin falla, las otras pueden compensar las prdidas.",category:"Inversiones",difficulty:"Intermedio"},{id:6,question:"Qu es el IRPF?",options:["Un tipo de cuenta","El impuesto sobre la renta","Un fondo de inversin","Una tarjeta de crdito"],correct:1,explanation:"El IRPF (Impuesto sobre la Renta de las Personas Fsicas) es un impuesto que grava los ingresos de las personas fsicas. Se aplica sobre salarios, rentas de capital, actividades econmicas y ganancias patrimoniales.",category:"Impuestos",difficulty:"Bsico"},{id:7,question:"Qu es mejor: pagar deudas o invertir?",options:["Siempre invertir","Siempre pagar deudas","Depende del tipo de inters","No importa"],correct:2,explanation:"La decisin depende de comparar el coste de la deuda vs. el rendimiento esperado de la inversin. Si la deuda tiene un inters del 15% y una inversin rinde el 8%, es mejor pagar la deuda primero.",category:"Estrategia Financiera",difficulty:"Intermedio"},{id:8,question:"Qu es un ETF?",options:["Un tipo de cuenta bancaria","Un fondo cotizado en bolsa","Una tarjeta de dbito","Un seguro"],correct:1,explanation:"Un ETF (Exchange-Traded Fund) es un fondo de inversin que cotiza en bolsa como una accin. Combina la diversificacin de un fondo con la flexibilidad de compra/venta de una accin individual.",category:"Inversiones",difficulty:"Intermedio"},{id:9,question:"Qu porcentaje de tu salario deberas gastar en vivienda?",options:["20%","30%","50%","No hay lmite"],correct:1,explanation:"La regla del 30% establece que no deberas gastar ms del 30% de tus ingresos brutos en vivienda (alquiler o hipoteca). Esto incluye el pago principal, intereses, impuestos y seguros.",category:"Presupuesto",difficulty:"Bsico"},{id:10,question:"Qu es la capitalizacin de mercado?",options:["El valor de un edificio","El valor total de una empresa","El precio de una accin","El coste de un crdito"],correct:1,explanation:"La capitalizacin de mercado es el valor total de una empresa calculado multiplicando el precio de una accin por el nmero total de acciones en circulacin. Indica el tamao de la empresa.",category:"Mercados Financieros",difficulty:"Intermedio"},{id:11,question:"Qu es el TAE?",options:["Tasa Anual Equivalente","Tipo de cuenta","Tarjeta de crdito","Trmite bancario"],correct:0,explanation:"El TAE (Tasa Anual Equivalente) es el coste real de un producto financiero expresado en porcentaje anual. Incluye intereses, comisiones y otros gastos, permitiendo comparar productos de forma homognea.",category:"Conceptos Bsicos",difficulty:"Bsico"},{id:12,question:"Qu es un fondo indexado?",options:["Un fondo activo","Un fondo que replica un ndice","Un fondo de pensiones","Un fondo de inversin libre"],correct:1,explanation:"Un fondo indexado es un fondo de inversin que replica un ndice burstil (como el S&P 500). Tiene comisiones bajas y ofrece diversificacin automtica, siendo una excelente opcin para inversores principiantes.",category:"Inversiones",difficulty:"Intermedio"},{id:13,question:"Cul es el efecto del inters compuesto a largo plazo?",options:["El crecimiento es lineal","El crecimiento es exponencial","El crecimiento se detiene","El crecimiento es negativo"],correct:1,explanation:'El inters compuesto produce un crecimiento exponencial a largo plazo. Los intereses generan nuevos intereses, creando un efecto "bola de nieve" que puede multiplicar significativamente tu capital inicial.',category:"Conceptos Bsicos",difficulty:"Intermedio"},{id:14,question:"Qu es la regla 72?",options:["Regla de oro de inversin","Frmula para duplicar dinero","Regla de ahorro","Regla de gastos"],correct:1,explanation:"La regla 72 te permite calcular cuntos aos tardar tu dinero en duplicarse. Divide 72 entre la tasa de inters anual. Ejemplo: al 6% anual, tu dinero se duplica en 12 aos (726=12).",category:"Conceptos Bsicos",difficulty:"Intermedio"},{id:15,question:"Qu es mejor: una tarjeta de dbito o crdito?",options:["Siempre dbito","Siempre crdito","Depende del uso responsable","No hay diferencia"],correct:2,explanation:"Las tarjetas de crdito pueden ser mejores si las usas responsablemente (pago completo mensual), ya que ofrecen proteccin, recompensas y mejoran tu historial crediticio. Las de dbito son ms seguras para gastos cotidianos.",category:"Productos Financieros",difficulty:"Intermedio"},{id:16,question:"Qu es un plan de pensiones?",options:["Una inversin libre","Un producto de ahorro fiscal","Una cuenta corriente","Un seguro"],correct:1,explanation:"Un plan de pensiones es un producto de ahorro a largo plazo con ventajas fiscales. Permite desgravar hasta ciertos lmites y est diseado para complementar la pensin pblica en la jubilacin.",category:"Jubilacin",difficulty:"Intermedio"},{id:17,question:"Qu es la inflacin subyacente?",options:["Inflacin general","Inflacin sin energa y alimentos","Inflacin negativa","Inflacin estacional"],correct:1,explanation:"La inflacin subyacente excluye los precios ms voltiles (energa y alimentos) para mostrar la tendencia inflacionaria de fondo. Es ms estable y predecible que la inflacin general.",category:"Economa",difficulty:"Avanzado"},{id:18,question:"Qu es un fondo de emergencia?",options:["Fondo de inversin","Dinero para imprevistos","Fondo de pensiones","Fondo de inversin libre"],correct:1,explanation:"Un fondo de emergencia es dinero lquido reservado para cubrir gastos imprevistos como prdida de trabajo, reparaciones urgentes o gastos mdicos. Debe estar en una cuenta de fcil acceso y alta liquidez.",category:"Seguridad Financiera",difficulty:"Bsico"},{id:19,question:"Qu es el VAN?",options:["Valor Actual Neto","Variable de Anlisis","Valor de Activos","Variable de Negocio"],correct:0,explanation:"El VAN (Valor Actual Neto) es una herramienta de evaluacin de inversiones que descuenta los flujos futuros al valor presente. Un VAN positivo indica que la inversin es rentable.",category:"Anlisis Financiero",difficulty:"Avanzado"},{id:20,question:"Qu es la regla 4%?",options:["Regla de ahorro","Regla de gasto en jubilacin","Regla de inversin","Regla de endeudamiento"],correct:1,explanation:"La regla 4% sugiere que puedes retirar el 4% de tu cartera de inversiones anualmente en la jubilacin sin agotar el capital. Esta regla asume una cartera balanceada y un horizonte temporal de 30 aos.",category:"Jubilacin",difficulty:"Avanzado"},{id:21,question:"Qu es un dividendo?",options:["Una comisin bancaria","Una parte de las ganancias de una empresa","Un tipo de inters","Un impuesto"],correct:1,explanation:"Un dividendo es la parte de las ganancias que una empresa distribuye entre sus accionistas. Es una forma de recibir ingresos pasivos por tener acciones de empresas que generan beneficios.",category:"Inversiones",difficulty:"Bsico"},{id:22,question:"Qu es la volatilidad?",options:["Estabilidad de precios","Variabilidad de precios","Rentabilidad fija","Garanta de ganancias"],correct:1,explanation:"La volatilidad mide qu tan variables son los precios de un activo. Mayor volatilidad significa mayor riesgo, pero tambin mayor potencial de ganancias (y prdidas).",category:"Mercados Financieros",difficulty:"Intermedio"},{id:23,question:"Qu es el PER?",options:["Precio entre Rentabilidad","Precio entre Resultados","Precio entre Retorno","Precio entre Riesgo"],correct:1,explanation:"El PER (Price-to-Earnings Ratio) compara el precio de una accin con sus beneficios. Un PER bajo puede indicar que la accin est barata, pero tambin puede reflejar problemas en la empresa.",category:"Anlisis Financiero",difficulty:"Intermedio"},{id:24,question:"Qu es mejor: invertir mensualmente o de una vez?",options:["Siempre de una vez","Siempre mensualmente","Depende del mercado","No importa"],correct:2,explanation:'El "dollar-cost averaging" (inversin mensual) reduce el riesgo de invertir en el momento equivocado. Pero si tienes el dinero disponible, invertir de una vez histricamente ha dado mejores resultados.',category:"Estrategia Financiera",difficulty:"Intermedio"},{id:25,question:"Qu es un bono?",options:["Una accin","Un prstamo a una empresa o gobierno","Un fondo de inversin","Una cuenta bancaria"],correct:1,explanation:"Un bono es un prstamo que haces a una empresa o gobierno a cambio de intereses regulares. Es generalmente menos arriesgado que las acciones pero con menor potencial de ganancias.",category:"Inversiones",difficulty:"Bsico"},{id:26,question:"Qu es el efecto del tiempo en las inversiones?",options:["No importa","Reduce el riesgo","Aumenta el riesgo","Solo afecta a largo plazo"],correct:1,explanation:"El tiempo es tu mejor aliado en las inversiones. Permite que el inters compuesto haga su magia y reduce el impacto de las fluctuaciones del mercado a corto plazo.",category:"Conceptos Bsicos",difficulty:"Intermedio"},{id:27,question:"Qu es la inflacin anual del 3% significa?",options:["Todo sube un 3%","El dinero pierde valor","Las inversiones suben 3%","Los salarios suben 3%"],correct:1,explanation:"Una inflacin del 3% anual significa que el dinero pierde poder adquisitivo. Lo que hoy cuesta 100, el ao que viene costar 103. Por eso es importante que tus ahorros crezcan por encima de la inflacin.",category:"Economa",difficulty:"Bsico"},{id:28,question:"Qu es mejor: una hipoteca fija o variable?",options:["Siempre fija","Siempre variable","Depende de las expectativas de tipos","No hay diferencia"],correct:2,explanation:"Las hipotecas fijas ofrecen estabilidad pero suelen ser ms caras. Las variables son ms baratas inicialmente pero pueden subir. La decisin depende de tus expectativas sobre la evolucin de los tipos de inters.",category:"Productos Financieros",difficulty:"Intermedio"},{id:29,question:"Qu es un fondo de inversin?",options:["Una cuenta bancaria","Un producto que agrupa varias inversiones","Un seguro","Una tarjeta de crdito"],correct:1,explanation:"Un fondo de inversin agrupa el dinero de muchos inversores para invertir en una cartera diversificada de activos. Permite acceder a inversiones que individualmente seran inaccesibles.",category:"Inversiones",difficulty:"Bsico"},{id:30,question:"Qu es el riesgo de mercado?",options:["Riesgo de perder el trabajo","Riesgo de que el mercado baje","Riesgo de inflacin","Riesgo de fraude"],correct:1,explanation:"El riesgo de mercado es la posibilidad de que el valor de tus inversiones baje debido a movimientos generales del mercado. Es un riesgo sistemtico que afecta a todas las inversiones.",category:"Gestin de Riesgo",difficulty:"Intermedio"}],zO=()=>{const t=new Date,e=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24));return Hb[e%Hb.length]},UO=({onClose:t})=>{const[e,n]=F.useState(!1);return F.useEffect(()=>{const s=setTimeout(()=>{n(!0)},2e3);return()=>clearTimeout(s)},[]),e?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 max-w-sm mx-auto shadow-2xl border border-purple-400/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:"Pregunta del Da!"}),l.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Aprende algo nuevo sobre finanzas y mantn tu racha de aprendizaje. Solo te tomar 1 minuto!"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:t,className:"flex-1 bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-xl transition-all duration-300 text-sm",children:"Ms tarde"}),l.jsx("button",{onClick:()=>{const s=document.querySelector("[data-quiz-section]");s&&s.scrollIntoView({behavior:"smooth"}),t()},className:"flex-1 bg-white text-purple-600 font-bold py-2 px-4 rounded-xl hover:scale-105 transition-all duration-300 text-sm",children:"Vamos!"})]})]})})}):null},IS=({isOpen:t,onClose:e})=>{const[n,s]=F.useState("");if(!t)return null;const i=o=>{const a=`https://paypal.me/lipastudios/${o}`;window.open(a,"_blank","noopener,noreferrer")},r=()=>{const o=Number(n.replace(",","."));!isNaN(o)&&o>0&&i(Number(o.toFixed(2)))};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-yellow-500/30 bg-gradient-to-b from-slate-900 to-slate-800 text-white shadow-2xl",children:[l.jsxs("div",{className:"p-5 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-bold",children:"Apoya FinanzasFcil"}),l.jsx("button",{onClick:e,className:"text-white/70 hover:text-white text-sm",children:"Cerrar"})]}),l.jsxs("div",{className:"p-5 space-y-4",children:[l.jsx("p",{className:"text-sm text-white/80",children:"Tu donacin nos ayuda a mantener la app gratis y mejorarla continuamente. Gracias! "}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,5,10].map(o=>l.jsxs("button",{onClick:()=>i(o),className:"rounded-xl border border-yellow-500/40 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 py-3 font-semibold hover:from-yellow-500/30 hover:to-orange-500/30 transition-all",children:["",o]},o))}),l.jsxs("div",{className:"mt-2",children:[l.jsx("label",{className:"block text-xs mb-1 text-white/70",children:"Otro importe"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{value:n,onChange:o=>s(o.target.value),placeholder:"Ej. 3,50",inputMode:"decimal",className:"flex-1 rounded-lg bg-white/10 border border-white/20 px-3 py-2 text-sm outline-none focus:border-white/40"}),l.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-white text-slate-900 font-semibold text-sm hover:opacity-90",children:"Donar"})]})]}),l.jsx("div",{className:"text-[11px] text-white/50 mt-2",children:"Pagos seguros va PayPal"})]})]})})};Ro.register(Il,kl,ro,n0,s0,t0,Wr,Nu,Sa);const Wb={monthlyIncome:1500,fixedExpenses:{rent:500,utilities:80,internet:40,transport:60,subscriptions:25,food:300,entertainment:150,health:50,clothing:100,other:100},savingsGoal:200,age:30,location:"madrid"},ve=[{title:"Bienvenido!",description:"Te voy a guiar paso a paso para configurar tu perfil financiero. IMPORTANTE: Todos los valores son aproximados y podrs modificarlos despus desde el dashboard.",icon:"",field:null},{title:"Cunto ingresas al mes?",description:"Ingresos netos mensuales (despus de impuestos) - Valor aproximado",icon:"",field:"monthlyIncome"},{title:"Cunto pagas de vivienda?",description:"Alquiler o hipoteca mensual - Valor aproximado",icon:"",field:"rent"},{title:"Cunto pagas de luz y agua?",description:"Facturas de electricidad y agua (aproximado)",icon:"",field:"utilities"},{title:"Cunto pagas de internet y mvil?",description:"Tarifas de internet y telfono - Valor aproximado",icon:"",field:"internet"},{title:"Cunto pagas de suscripciones?",description:"Netflix, Spotify, gym, seguros... - Valor aproximado",icon:"",field:"subscriptions"},{title:"Cunto gastas en alimentacin?",description:"Supermercado, restaurantes, comida... - Valor aproximado",icon:"",field:"food"},{title:"Cunto gastas en transporte?",description:"Gasolina, transporte pblico, taxi... - Valor aproximado",icon:"",field:"transport"},{title:"Cunto gastas en ocio?",description:"Entretenimiento, salidas, hobbies... - Valor aproximado",icon:"",field:"entertainment"},{title:"Cunto gastas en salud?",description:"Farmacia, mdicos, seguros mdicos... - Valor aproximado",icon:"",field:"health"},{title:"Cunto gastas en ropa?",description:"Ropa, calzado, accesorios... - Valor aproximado",icon:"",field:"clothing"},{title:"Cunto gastas en otros?",description:"Gastos varios, imprevistos... - Valor aproximado",icon:"",field:"other"},{title:"Cuntos aos tienes?",description:"Para comparar con personas de tu edad",icon:"",field:"age"},{title:"Dnde vives?",description:"Para comparar con tu regin",icon:"",field:"location"},{title:"Listo!",description:"Ya tienes tu perfil financiero configurado. Puedes modificarlo cuando quieras.",icon:"",field:null}],Gb=["Vivienda","Comida","Transporte","Salud","Ocio","Suscripciones","Educacin","Impuestos","Otros"],Kb={madrid:{avgIncome:1950,avgExpenses:{rent:850,utilities:100,internet:50,food:280,transport:120,subscriptions:45,entertainment:120,health:60,clothing:80,other:95}},barcelona:{avgIncome:1850,avgExpenses:{rent:750,utilities:95,internet:45,food:260,transport:110,subscriptions:42,entertainment:110,health:55,clothing:75,other:90}},valencia:{avgIncome:1650,avgExpenses:{rent:550,utilities:80,internet:40,food:240,transport:90,subscriptions:35,entertainment:90,health:50,clothing:60,other:75}},sevilla:{avgIncome:1550,avgExpenses:{rent:450,utilities:70,internet:35,food:220,transport:80,subscriptions:30,entertainment:80,health:45,clothing:55,other:70}},bilbao:{avgIncome:1750,avgExpenses:{rent:600,utilities:85,internet:42,food:250,transport:95,subscriptions:38,entertainment:100,health:52,clothing:65,other:85}},other:{avgIncome:1600,avgExpenses:{rent:500,utilities:75,internet:38,food:230,transport:85,subscriptions:32,entertainment:85,health:48,clothing:58,other:78}}},Qb=["Aplica la regla 50/30/20: 50% necesidades, 30% deseos, 20% ahorro","Automatiza tu ahorro el da que cobras","Cancela suscripciones que no uses","Compra con lista y evita compras impulsivas","Compara seguros y tarifas cada ao","Diversifica tus ingresos: no dependas de una sola fuente","Invierte en tu educacin financiera cada mes","Revisa tus gastos mensualmente y ajusta","Usa apps para comparar precios antes de comprar","Negocia tus facturas: internet, mvil, seguros","Crea un fondo de emergencia de 3-6 meses de gastos"],Yb="ff_expenses_v1",Xb="ff_categories_v1",Jb="ff_streak_v1",BO=({onBack:t})=>{var Vo;const[e,n]=F.useState(()=>0),s=Lg({threshold:120,velocity:.2,safeZone:{top:160,bottom:100,left:50,right:50},onSwipeRight:()=>{t()},onSwipeUp:()=>{R&&e<ve.length&&n(e+1)},onSwipeDown:()=>{R&&e<ve.length&&e>0&&n(e-1)}}),[i,r]=F.useState(()=>{const O=localStorage.getItem("ff_onboarding_v1");return O?JSON.parse(O):Wb}),[o,a]=F.useState(0),[c]=F.useState(zO()),[u,h]=F.useState(!1),[f,m]=F.useState(0),[x,v]=F.useState(!1),[b,I]=F.useState(null),[y,_]=F.useState(!1),[E,A]=F.useState(!1),{user:R,logout:M}=cM(),{userData:S,saveUserData:w,loading:k}=uM(R),[C,T]=F.useState(!R);F.useEffect(()=>{if(T(!R),R){const O=localStorage.getItem("ff_onboarding_v1")||localStorage.getItem("ff_expenses_v1"),q=S&&(S.onboarding||S.expenses);n(!O&&!q?0:ve.length)}},[R,S]);const[P,j]=F.useState(()=>{const O=localStorage.getItem(Xb);return O?JSON.parse(O):Gb}),[Z,Y]=F.useState(()=>{const O=localStorage.getItem(Yb);return O?JSON.parse(O):[]}),[ne,oe]=F.useState(()=>{const O=localStorage.getItem("ff_incomes_v1");return O?JSON.parse(O):[]}),[U,H]=F.useState(()=>Number(localStorage.getItem(Jb)||"0")),[X,ue]=F.useState(!1),[ae,Ue]=F.useState(!1),[ye,vt]=F.useState(!1),[He,Ht]=F.useState(null),[Mo,Ni]=F.useState(null),[Kl,vr]=F.useState(!1),[Ql,Ti]=F.useState(!1),[kn,br]=F.useState({source:"",amount:"",isNewCategory:!1}),[pn,Ns]=F.useState({category:"",amount:"",isNewCategory:!1});F.useEffect(()=>{R&&S?(Y(S.expenses||[]),j(S.categories||Gb),a(S.points||0),H(S.streak||0),r(S.onboardingData||Wb)):(localStorage.setItem(Yb,JSON.stringify(Z)),localStorage.setItem(Xb,JSON.stringify(P)),localStorage.setItem(Jb,String(U)))},[R,S]),F.useEffect(()=>{R&&!k&&w({expenses:Z,categories:P,points:o,streak:U,onboardingData:i,lastUpdated:new Date().toISOString()})},[Z,P,o,U,i,R,w,k]);const Yn=F.useMemo(()=>{const O=i.fixedExpenses;return O.rent+O.utilities+O.transport+O.subscriptions+O.food+O.entertainment+O.health+O.clothing+O.other},[i]),_r=F.useMemo(()=>ne.reduce((O,q)=>O+(Number(q.amount)||0),0),[ne]),et=F.useMemo(()=>Z.reduce((O,q)=>O+(Number(q.amount)||0),0),[Z]),Qe=F.useMemo(()=>(Number(i.monthlyIncome)||0)+_r,[i.monthlyIncome,_r]),Xn=F.useMemo(()=>Yn+et,[Yn,et]),Yl=F.useMemo(()=>Math.max(0,Qe-Xn),[Qe,Xn]),Xl=F.useMemo(()=>{const O=ve.length;return Math.round((e+1)/O*100)},[e]),Jl=[" Cada euro ahorrado te acerca a la libertad financiera"," La disciplina financiera es la base del xito"," Tu futuro financiero se construye hoy"," Cada decisin financiera cuenta para tu futuro"," La inversin en ti mismo es la mejor inversin"," La constancia en el ahorro es la clave del xito"," Tu mentalidad de abundancia atrae oportunidades"," El conocimiento financiero es tu mejor activo"," Cada meta financiera alcanzada es una victoria"," La independencia financiera te da libertad total"," Tu actitud hacia el dinero determina tu futuro"," Los ricos piensan diferente sobre el dinero"," Cada da es una oportunidad para mejorar tus finanzas"," La diversificacin reduce el riesgo financiero"," El inters compuesto es la octava maravilla del mundo"," La paciencia es la virtud del inversor exitoso"," La creatividad financiera genera mltiples fuentes de ingreso"," La educacin financiera es la mejor herencia"," Tu historia financiera se escribe con cada decisin"," La abundancia financiera est al alcance de todos"," La planificacin financiera es arte y ciencia"," La mentalidad de escasez limita tus posibilidades"," Cada gasto es una decisin sobre tu futuro"," La libertad financiera no es un destino, es un viaje"," Los hbitos financieros saludables cambian vidas"," La inversin en activos te hace ms rico cada da"," La gratitud financiera atrae ms abundancia"," Tu red de valor financiero determina tu patrimonio"," La consistencia en el ahorro supera la inteligencia"," La educacin financiera es la mejor inversin de tu vida"],Ii=F.useMemo(()=>{const O=new Date,q=Math.floor((O.getTime()-new Date(O.getFullYear(),0,0).getTime())/(1e3*60*60*24));return Jl[q%Jl.length]},[]),Zl=()=>e===0?t():n(O=>Math.max(0,O-1)),ec=O=>{Ht(O)},wr=(O,q)=>{oe(W=>W.map(be=>be.id===O?{...be,amount:q}:be)),Ht(null)},ch=O=>{oe(q=>q.filter(W=>W.id!==O))},uh=()=>{if(kn.source&&kn.amount){const O={id:`${Date.now()}`,source:kn.source,amount:parseFloat(kn.amount),date:new Date().toISOString().split("T")[0]};oe(q=>[...q,O]),br({source:"",amount:"",isNewCategory:!1}),vr(!1)}},tc=O=>{Ni(O)},Do=(O,q)=>{Y(W=>W.map(be=>be.id===O?{...be,amount:q}:be)),Ni(null)},ki=O=>{Y(q=>q.filter(W=>W.id!==O))},Oo=()=>{if(pn.category&&pn.amount){const O={id:`${Date.now()}`,category:pn.category,amount:parseFloat(pn.amount),date:new Date().toISOString().split("T")[0]};Y(q=>[...q,O]),Ns({category:"",amount:"",isNewCategory:!1}),Ti(!1)}},Lo=O=>{if(I(O),h(!0),O===c.correct){a(W=>W+100),m(W=>W+1);const q=new Date().toDateString();localStorage.setItem("ff_quiz_completed_"+q,"true"),ue(!0),setTimeout(()=>ue(!1),2e3)}else m(0);setTimeout(()=>{v(!0)},1e3)},gn=()=>{const O=new Date().toDateString();return localStorage.getItem("ff_quiz_completed_"+O)==="true"};F.useEffect(()=>{R&&!gn()&&(localStorage.getItem("ff_quiz_notification_seen_"+new Date().toDateString())||setTimeout(()=>{_(!0)},3e3))},[R]);const nc=()=>{_(!1),localStorage.setItem("ff_quiz_notification_seen_"+new Date().toDateString(),"true")},Ci=F.useMemo(()=>{const O=[{label:"Salario Base",value:i.monthlyIncome,color:"#10b981"},...ne.filter(W=>W.amount>0).map((W,be)=>({label:W.source,value:W.amount,color:`hsl(${120+be*40}, 60%, 45%)`}))].filter(W=>W.value>0),q=[{label:"Vivienda",value:i.fixedExpenses.rent,color:"#ef4444"},{label:"Servicios",value:i.fixedExpenses.utilities,color:"#f97316"},{label:"Transporte",value:i.fixedExpenses.transport,color:"#eab308"},{label:"Suscripciones",value:i.fixedExpenses.subscriptions,color:"#22c55e"},{label:"Alimentacin",value:i.fixedExpenses.food,color:"#3b82f6"},{label:"Ocio",value:i.fixedExpenses.entertainment,color:"#8b5cf6"},{label:"Salud",value:i.fixedExpenses.health,color:"#ec4899"},{label:"Ropa",value:i.fixedExpenses.clothing,color:"#06b6d4"},{label:"Otros",value:i.fixedExpenses.other,color:"#84cc16"},...Z.filter(W=>W.amount>0).map((W,be)=>({label:W.category,value:W.amount,color:`hsl(${280+be*30}, 70%, 50%)`}))].filter(W=>W.value>0);return{incomeSources:O,expenseCategories:q}},[i,ne,Z]),sc=F.useMemo(()=>Qb[Math.floor(o/10)%Qb.length],[o]),Mt=F.useMemo(()=>{const O=Kb[i.location]||Kb.other,q=Yn,W=Object.values(O.avgExpenses).reduce((be,nn)=>be+nn,0);return{income:{user:i.monthlyIncome,regional:O.avgIncome,difference:i.monthlyIncome-O.avgIncome,percentage:(i.monthlyIncome-O.avgIncome)/O.avgIncome*100},expenses:{user:q,regional:W,difference:q-W,percentage:(q-W)/W*100},categoryComparison:Object.entries(O.avgExpenses).map(([be,nn])=>({category:be,user:i.fixedExpenses[be]||0,regional:nn,difference:(i.fixedExpenses[be]||0)-nn}))}},[i,Yn]);return l.jsxs("div",{ref:s,className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[X&&l.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:l.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[l.jsx("div",{className:"text-6xl animate-bounce",children:""}),l.jsx("div",{className:"text-4xl animate-ping absolute -top-4 -right-4",children:""}),l.jsx("div",{className:"text-4xl animate-ping absolute -bottom-4 -left-4",children:""})]})}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white relative",children:[l.jsx("div",{className:"absolute top-2 left-2 z-10",children:l.jsxs("button",{onClick:Zl,className:"cursor-pointer flex items-center gap-2 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30 text-white hover:bg-white/30 transition-all duration-300 shadow-lg hover:scale-105",children:[l.jsx(d1,{className:"w-3 h-3"}),l.jsx("span",{className:"text-sm",children:"Volver"})]})}),l.jsx("div",{className:"absolute top-4 right-4 z-10",children:R?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30",children:[l.jsx(ny,{className:"w-3 h-3"}),l.jsx("span",{className:"text-xs",children:(Vo=R.email)==null?void 0:Vo.split("@")[0]})]}),l.jsx("button",{onClick:()=>A(!0),className:"flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm rounded-lg border border-yellow-500/30 text-white hover:from-yellow-500/30 hover:to-orange-500/30 transition-all duration-300 shadow-lg hover:scale-105","aria-label":"Donar a travs de PayPal",children:l.jsx("span",{className:"text-xs",children:""})}),l.jsx("button",{onClick:M,className:"flex items-center gap-1 px-3 py-1 bg-red-500/20 backdrop-blur-sm rounded-lg border border-red-500/30 text-white hover:bg-red-500/30 transition-all duration-300 shadow-lg hover:scale-105",children:l.jsx(AI,{className:"w-3 h-3"})})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>A(!0),className:"flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-sm rounded-lg border border-yellow-500/30 text-white hover:from-yellow-500/30 hover:to-orange-500/30 transition-all duration-300 shadow-lg hover:scale-105","aria-label":"Donar a travs de PayPal",children:l.jsx("span",{className:"text-xs",children:""})}),l.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-1 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-lg border border-white/30 text-white hover:bg-white/30 transition-all duration-300 shadow-lg hover:scale-105",children:[l.jsx(ny,{className:"w-3 h-3"}),l.jsx("span",{className:"text-xs",children:"Login"})]})]})}),l.jsxs("div",{className:"text-center py-4 pt-12",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-black mb-2 bg-gradient-to-r from-yellow-400 to-pink-400 bg-clip-text text-transparent animate-pulse",children:"Control de Gastos"}),l.jsx("p",{className:"text-white/90 text-sm font-medium animate-pulse",children:Ii}),R&&l.jsx("div",{className:"mt-1 text-xs text-white/80",children:" Datos sincronizados en la nube"})]})]}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-4",children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"bg-gradient-to-br from-yellow-400/20 to-orange-500/20 backdrop-blur-lg rounded-xl p-3 text-center border border-yellow-400/30",children:[l.jsx("div",{className:"flex items-center justify-center mb-1",children:l.jsx(Ac,{className:"w-4 h-4 text-yellow-400"})}),l.jsxs("div",{className:"text-lg font-black text-yellow-400",children:[Xl,"%"]}),l.jsx("div",{className:"text-xs text-white/70",children:"Progreso"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-400/20 to-pink-500/20 backdrop-blur-lg rounded-xl p-3 text-center border border-purple-400/30",children:[l.jsx("div",{className:"flex items-center justify-center mb-1",children:l.jsx(ty,{className:"w-4 h-4 text-purple-400"})}),l.jsx("div",{className:"text-lg font-black text-purple-400",children:o}),l.jsx("div",{className:"text-xs text-white/70",children:"Puntos"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-400/20 to-red-500/20 backdrop-blur-lg rounded-xl p-3 text-center border border-orange-400/30",children:[l.jsx("div",{className:"flex items-center justify-center mb-1",children:l.jsx(Zx,{className:"w-4 h-4 text-orange-400 animate-pulse"})}),l.jsx("div",{className:"text-lg font-black text-orange-400",children:U}),l.jsx("div",{className:"text-xs text-white/70",children:"Das"})]})]})}),!R&&l.jsx("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20 text-center",children:[l.jsx("div",{className:"text-8xl mb-6 animate-pulse",children:""}),l.jsx("h2",{className:"text-4xl font-black text-white mb-4",children:"Control de Gastos"}),l.jsx("p",{className:"text-xl text-white/90 mb-8 leading-relaxed",children:"Regstrate gratis para comenzar a controlar tus finanzas personales"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>T(!0),className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:" Comenzar Gratis"}),l.jsxs("p",{className:"text-white/70 text-sm",children:[" 100% Gratuito",l.jsx("br",{})," Tus datos protegidos",l.jsx("br",{})," Sin spam"]})]})]})}),l.jsx("div",{className:"max-w-xl mx-auto p-4 space-y-6",children:R&&e<ve.length&&l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20",children:[l.jsx("div",{className:"text-6xl mb-6 text-center animate-bounce",children:ve[e].icon}),l.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4 text-center",children:ve[e].title}),l.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 leading-relaxed text-center",children:ve[e].description}),ve[e].field&&ve[e].field!=="location"&&ve[e].field!==null&&l.jsxs("div",{className:"mb-8",children:[l.jsx("input",{type:"range",min:ve[e].field==="age"?18:(ve[e].field==="monthlyIncome",0),max:ve[e].field==="age"?80:ve[e].field==="monthlyIncome"?6e3:1e3,step:ve[e].field==="age"?1:10,value:ve[e].field==="monthlyIncome"?i.monthlyIncome:ve[e].field==="age"?i.age:i.fixedExpenses[ve[e].field],onChange:O=>{const q=Number(O.target.value);ve[e].field==="monthlyIncome"?r(W=>({...W,monthlyIncome:q})):ve[e].field==="age"?r(W=>({...W,age:q})):r(W=>({...W,fixedExpenses:{...W.fixedExpenses,[ve[e].field]:q}}))},className:"w-full h-3 bg-white/20 rounded-lg appearance-none cursor-pointer slider"}),l.jsx("div",{className:"text-4xl font-black text-yellow-400 mt-4 text-center",children:ve[e].field==="age"?`${i.age} aos`:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(ve[e].field==="monthlyIncome"?i.monthlyIncome:i.fixedExpenses[ve[e].field])})]}),ve[e].field==="location"&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"madrid",label:"Madrid",icon:""},{key:"barcelona",label:"Barcelona",icon:""},{key:"valencia",label:"Valencia",icon:""},{key:"sevilla",label:"Sevilla",icon:""},{key:"bilbao",label:"Bilbao",icon:""},{key:"other",label:"Otras regiones",icon:""}].map(O=>l.jsxs("button",{onClick:()=>r(q=>({...q,location:O.key})),className:`p-4 rounded-2xl border-2 transition-all duration-300 hover:scale-105 ${i.location===O.key?"bg-yellow-400/20 border-yellow-400 text-yellow-400":"bg-white/10 border-white/30 text-white hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-2",children:O.icon}),l.jsx("div",{className:"font-bold text-sm",children:O.label})]},O.key))}),l.jsx("div",{className:"text-4xl font-black text-yellow-400 mt-4 text-center",children:i.location==="madrid"?"Madrid":i.location==="barcelona"?"Barcelona":i.location==="valencia"?"Valencia":i.location==="sevilla"?"Sevilla":i.location==="bilbao"?"Bilbao":"Otras regiones"})]}),e===ve.length-1&&l.jsx("div",{className:"bg-white/10 rounded-2xl p-6 mb-8",children:l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-2xl font-black text-white mb-2",children:" Resumen de tu perfil"}),l.jsxs("div",{className:"text-white/80",children:["Ingresos: ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(i.monthlyIncome)]}),l.jsxs("div",{className:"text-white/80",children:["Gastos totales: ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Yn)]}),l.jsxs("div",{className:"text-green-400 font-bold text-xl",children:["Te quedan: ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Yl)]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>{a(O=>O+20),e<ve.length-1?n(e+1):n(ve.length)},className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:e<ve.length-1?"Siguiente ":"Ir al Dashboard "}),l.jsx("button",{onClick:()=>n(ve.length),className:"text-white/80 hover:text-white w-full text-sm underline transition-colors",children:"Saltar configuracin"})]}),l.jsxs("div",{className:"text-white/60 text-sm max-w-2xl mx-auto mt-6 text-center",children:[" ",l.jsx("strong",{children:"Tip:"})," Estos valores son aproximados y puedes modificarlos en cualquier momento desde el dashboard"]})]})}),R&&e>=ve.length&&l.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-400/20 to-emerald-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-green-400/30",children:[l.jsxs("div",{onClick:()=>Ue(!ae),className:"cursor-pointer hover:scale-105 transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-emerald-500 rounded-xl",children:l.jsx(Ac,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"font-bold text-lg text-white",children:"Ingresos"})]}),l.jsx("span",{className:"text-white/60 text-sm",children:ae?"":""})]}),l.jsx("div",{className:"text-2xl font-black text-green-400 mb-1",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Qe)}),l.jsx("div",{className:"text-xs text-white/80",children:"Mensuales"})]}),ae&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-green-400/30 space-y-3",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:""}),l.jsx("span",{className:"text-sm text-white",children:"Ingreso Base"})]}),l.jsx("div",{onClick:()=>{const O=parseFloat(prompt("Nuevo ingreso mensual:",i.monthlyIncome.toString())||"0");O>=0&&r(q=>({...q,monthlyIncome:O}))},className:"text-sm font-semibold text-green-400 cursor-pointer hover:text-green-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(i.monthlyIncome)})]}),l.jsx("div",{className:"text-xs text-white/60 mt-1",children:" Haz clic para editar"})]}),ne.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs text-white/60 font-semibold",children:"Ingresos adicionales:"}),ne.map(O=>l.jsxs("div",{className:"flex items-center justify-between bg-white/10 rounded-lg p-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:""}),l.jsx("span",{className:"text-sm text-white",children:O.source})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[He===O.id?l.jsx("input",{type:"number",defaultValue:O.amount,onBlur:q=>{const W=parseFloat(q.target.value);!isNaN(W)&&W>0?wr(O.id,W):Ht(null)},onKeyDown:q=>{if(q.key==="Enter"){const W=parseFloat(q.currentTarget.value);!isNaN(W)&&W>0&&wr(O.id,W)}else q.key==="Escape"&&Ht(null)},className:"w-20 bg-white/20 border border-green-400/50 rounded px-2 py-1 text-white text-sm focus:outline-none focus:ring-1 focus:ring-green-400",autoFocus:!0}):l.jsx("span",{onClick:()=>ec(O.id),className:"text-sm font-semibold text-green-400 cursor-pointer hover:text-green-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(O.amount)}),l.jsx("button",{onClick:()=>ch(O.id),className:"text-red-400 hover:text-red-300 text-xs ml-1",children:""})]})]},O.id))]}),l.jsx("button",{onClick:()=>vr(!0),className:"w-full bg-green-500/20 hover:bg-green-500/30 text-green-400 text-xs py-2 px-3 rounded-lg transition-colors border border-green-400/30",children:" Aadir nuevo ingreso"})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-400/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-red-400/30",children:[l.jsxs("div",{onClick:()=>vt(!ye),className:"cursor-pointer hover:scale-105 transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-red-400 to-pink-500 rounded-xl",children:l.jsx(OI,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"font-bold text-lg text-white",children:"Gastos"})]}),l.jsx("span",{className:"text-white/60 text-sm",children:ye?"":""})]}),l.jsx("div",{className:"text-2xl font-black text-red-400 mb-1",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Xn)}),l.jsx("div",{className:"text-xs text-white/80",children:"Mensuales"})]}),ye&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-red-400/30 space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs text-white/60 font-semibold",children:"Gastos fijos:"}),Object.entries(i.fixedExpenses).map(([O,q])=>q>0&&l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:""}),l.jsx("span",{className:"text-sm text-white capitalize",children:O.replace(/([A-Z])/g," $1").trim()})]}),l.jsx("div",{onClick:()=>{const W=parseFloat(prompt(`Nuevo valor para ${O}:`,q.toString())||"0");W>=0&&r(be=>({...be,fixedExpenses:{...be.fixedExpenses,[O]:W}}))},className:"text-sm font-semibold text-red-400 cursor-pointer hover:text-red-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(q)})]}),l.jsx("div",{className:"text-xs text-white/60 mt-1",children:" Haz clic para editar"})]},O))]}),Z.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-xs text-white/60 font-semibold",children:"Gastos variables:"}),Z.map(O=>l.jsxs("div",{className:"flex items-center justify-between bg-white/10 rounded-lg p-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:""}),l.jsx("span",{className:"text-sm text-white",children:O.category})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[Mo===O.id?l.jsx("input",{type:"number",defaultValue:O.amount,onBlur:q=>{const W=parseFloat(q.target.value);!isNaN(W)&&W>0?Do(O.id,W):Ni(null)},onKeyDown:q=>{if(q.key==="Enter"){const W=parseFloat(q.currentTarget.value);!isNaN(W)&&W>0&&Do(O.id,W)}else q.key==="Escape"&&Ni(null)},className:"w-20 bg-white/20 border border-red-400/50 rounded px-2 py-1 text-white text-sm focus:outline-none focus:ring-1 focus:ring-red-400",autoFocus:!0}):l.jsx("span",{onClick:()=>tc(O.id),className:"text-sm font-semibold text-red-400 cursor-pointer hover:text-red-300 transition-colors",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(O.amount)}),l.jsx("button",{onClick:()=>ki(O.id),className:"text-red-400 hover:text-red-300 text-xs ml-1",children:""})]})]},O.id))]}),l.jsx("button",{onClick:()=>Ti(!0),className:"w-full bg-red-500/20 hover:bg-red-500/30 text-red-400 text-xs py-2 px-3 rounded-lg transition-colors border border-red-400/30",children:" Aadir nuevo gasto"})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-400/20 to-cyan-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-blue-400/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-xl",children:l.jsx(ty,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"font-bold text-lg text-white",children:"Disponible"})]}),l.jsx("div",{className:"text-2xl font-black text-blue-400 mb-1",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Yl)}),l.jsx("div",{className:"text-xs text-white/80",children:"Para ahorrar"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-purple-400/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-purple-400/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl",children:l.jsx(II,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"font-bold text-lg text-white",children:"Puntos"})]}),l.jsx("div",{className:"text-2xl font-black text-purple-400 mb-1",children:o}),l.jsx("div",{className:"text-xs text-white/80",children:"Total acumulado"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-400/20 to-red-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-orange-400/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-orange-400 to-red-500 rounded-xl",children:l.jsx(Zx,{className:"w-4 h-4 text-white animate-pulse"})}),l.jsx("span",{className:"font-bold text-lg text-white",children:"Racha"})]}),l.jsx("div",{className:"text-2xl font-black text-orange-400 mb-1",children:U}),l.jsx("div",{className:"text-xs text-white/80",children:"das consecutivos"})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-400 to-purple-500 rounded-xl",children:l.jsx(Ac,{className:"w-4 h-4 text-white"})}),l.jsx("div",{className:"font-bold text-lg text-white",children:" Resumen Desglosado"})]}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs("div",{className:"bg-white/10 rounded-xl p-1 flex gap-1",children:[l.jsx("button",{onClick:()=>Ue(!0),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 ${ae?"bg-green-400 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:" Ingresos"}),l.jsx("button",{onClick:()=>vt(!0),className:`px-3 py-1 rounded-lg text-sm font-semibold transition-all duration-300 ${ye?"bg-red-400 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:" Gastos"})]})}),l.jsx("div",{className:"h-60",children:(()=>{const O=ae?Ci.incomeSources:Ci.expenseCategories;return O.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center text-white/70",children:[l.jsx("div",{className:"text-4xl mb-2",children:""}),l.jsx("div",{children:"No hay datos para mostrar"})]})}):l.jsx(TS,{data:{labels:O.map(q=>q.label),datasets:[{data:O.map(q=>q.value),backgroundColor:O.map(q=>q.color),borderWidth:3,borderColor:"rgba(255,255,255,0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"white",font:{size:12,weight:"bold"}}},tooltip:{callbacks:{label:function(q){const W=q.parsed,be=q.dataset.data.reduce((Er,Cn)=>Er+Cn,0),nn=be>0?(W/be*100).toFixed(1):"0";return`${q.label}: ${new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(W)} (${nn}%)`}}}},onClick:(q,W)=>{if(W.length>0){const be=W[0].index,nn=O[be],Er=O.reduce((dh,hh)=>dh+hh.value,0),Cn=Er>0?(nn.value/Er*100).toFixed(1):"0";alert(`${nn.label}: ${new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(nn.value)}
Porcentaje: ${Cn}%`)}}}})})()}),l.jsx("div",{className:"mt-4 text-center text-white/70 text-sm",children:" Haz clic en cualquier seccin para ver detalles especficos"})]}),l.jsxs("div",{"data-quiz-section":!0,children:[!gn()&&l.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-purple-400/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl",children:l.jsx(Jx,{className:"w-4 h-4 text-white"})}),l.jsx("div",{className:"font-bold text-lg text-white",children:" Pregunta del Da"})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs",children:[l.jsx("span",{className:"bg-blue-500/30 text-blue-200 px-2 py-1 rounded-full",children:c.category}),l.jsx("span",{className:"bg-green-500/30 text-green-200 px-2 py-1 rounded-full",children:c.difficulty})]}),l.jsx("div",{className:"bg-white/10 rounded-xl p-3 mb-4",children:l.jsx("div",{className:"text-center text-white/90 text-sm font-semibold",children:"Aprende algo nuevo cada da! "})}),l.jsx("div",{className:"font-semibold text-white mb-3 text-base",children:c.question}),u?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:c.options.map((O,q)=>l.jsxs("div",{className:`py-3 px-4 rounded-xl text-sm text-left border-2 ${q===c.correct?"bg-green-500/30 border-green-400 text-green-100":q===b&&q!==c.correct?"bg-red-500/30 border-red-400 text-red-100":"bg-white/10 border-white/20 text-white/70"}`,children:[l.jsxs("span",{className:"font-bold text-blue-300",children:[String.fromCharCode(65+q),"."]})," ",O,q===c.correct&&l.jsx("span",{className:"ml-2",children:""}),q===b&&q!==c.correct&&l.jsx("span",{className:"ml-2",children:""})]},q))}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-4",children:c.options.map((O,q)=>l.jsxs("button",{onClick:()=>Lo(q),className:"bg-white/20 border border-white/30 text-white py-3 px-4 rounded-xl hover:bg-white/30 transition-all duration-300 hover:scale-105 text-sm text-left",children:[l.jsxs("span",{className:"font-bold text-blue-300",children:[String.fromCharCode(65+q),"."]})," ",O]},q))}),l.jsxs("div",{className:"text-white/80 text-xs text-center",children:[l.jsxs("div",{className:"mb-1",children:["+100 puntos por acierto  Racha actual: ",f," das"]}),l.jsx("div",{className:"text-yellow-400 font-bold text-sm",children:" Mantn tu racha de aprendizaje!"})]}),x&&l.jsxs("div",{className:"mt-4 p-3 bg-blue-500/20 border border-blue-400/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Jx,{className:"w-4 h-4 text-blue-300"}),l.jsx("span",{className:"font-semibold text-blue-200",children:" Explicacin"})]}),l.jsx("p",{className:"text-blue-100 text-sm leading-relaxed",children:c.explanation})]})]}),gn()&&l.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-lg rounded-2xl p-4 shadow-xl border border-green-400/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"p-2 bg-gradient-to-r from-green-400 to-blue-500 rounded-xl",children:l.jsx(TI,{className:"w-4 h-4 text-white"})}),l.jsx("div",{className:"font-bold text-lg text-white",children:" Ya respondiste hoy!"})]}),l.jsx("div",{className:"text-white/90 text-sm mb-3",children:"Has completado la pregunta del da. Vuelve maana para aprender algo nuevo!"}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-yellow-400 font-bold text-sm mb-2",children:[" Racha actual: ",f," das"]}),l.jsx("div",{className:"text-white/70 text-xs",children:"Prxima pregunta: maana a las 00:00"})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-indigo-400/30",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-3 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-2xl",children:l.jsx(Ac,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"font-black text-2xl text-white",children:" Comparativa Regional"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-2xl font-black text-white mb-2",children:" Ingresos"}),l.jsx("div",{className:"text-3xl font-black text-green-400",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Qe)}),l.jsxs("div",{className:"text-sm text-white/80",children:["vs ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Mt.income.regional)," regional"]})]}),l.jsxs("div",{className:`text-center text-lg font-bold ${Mt.income.difference>=0?"text-green-400":"text-red-400"}`,children:[Mt.income.difference>=0?"":""," ",Math.abs(Mt.income.percentage).toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-2xl font-black text-white mb-2",children:" Gastos"}),l.jsx("div",{className:"text-3xl font-black text-red-400",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Xn)}),l.jsxs("div",{className:"text-sm text-white/80",children:["vs ",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(Mt.expenses.regional)," regional"]})]}),l.jsxs("div",{className:`text-center text-lg font-bold ${Mt.expenses.difference<=0?"text-green-400":"text-red-400"}`,children:[Mt.expenses.difference<=0?"":""," ",Math.abs(Mt.expenses.percentage).toFixed(1),"%"]})]})]}),l.jsxs("div",{className:"text-center text-white/80 text-sm",children:[" Comparacin con ",i.location==="madrid"?"Madrid":i.location==="barcelona"?"Barcelona":i.location==="valencia"?"Valencia":i.location==="sevilla"?"Sevilla":i.location==="bilbao"?"Bilbao":"tu regin"]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-purple-400/30",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-400 to-pink-500 rounded-2xl",children:l.jsx(jI,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"font-black text-2xl text-white",children:" Pldora de aprendizaje"})]}),l.jsx("div",{className:"text-white/90 text-lg leading-relaxed",children:sc})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-white/20",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"p-3 bg-gradient-to-r from-orange-400 to-red-500 rounded-2xl",children:l.jsx(MI,{className:"w-6 h-6 text-white"})}),l.jsx("div",{className:"font-black text-2xl text-white",children:" ltimas transacciones"})]}),l.jsxs("div",{className:"space-y-4",children:[[...Z.map(O=>({...O,type:"expense"})),...ne.map(O=>({...O,type:"income"}))].sort((O,q)=>new Date(q.date).getTime()-new Date(O.date).getTime()).slice(0,10).map(O=>l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300 hover:scale-[1.02]",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-black text-lg ${O.type==="income"?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-red-400 to-pink-500"}`,children:O.type==="income"?"":""}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white text-lg",children:O.type==="income"?O.source:O.category}),l.jsx("div",{className:"text-sm text-white/70",children:new Date(O.date).toLocaleDateString("es-ES")})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:`font-black text-2xl ${O.type==="income"?"text-green-400":"text-red-400"}`,children:[O.type==="income"?"+":"-",new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(O.amount)]})})]})},O.id)),Z.length===0&&ne.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("div",{className:"text-white/70 text-lg",children:"An no has aadido transacciones."}),l.jsx("div",{className:"text-white/50 text-sm mt-2",children:"Aade tu primer gasto o ingreso para empezar a ganar puntos!"})]})]})]})]}),l.jsx(lM,{isOpen:C,onClose:()=>R?T(!1):null,onAuthSuccess:O=>{O&&T(!1)},canClose:!!R}),Kl&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-2xl border border-white/20 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:" Aadir nuevo ingreso"}),l.jsx("button",{onClick:()=>vr(!1),className:"text-white/60 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Fuente del ingreso"}),l.jsx("input",{type:"text",value:kn.source,onChange:O=>br(q=>({...q,source:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"Ej: Freelance, Ventas, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Cantidad ()"}),l.jsx("input",{type:"number",value:kn.amount,onChange:O=>br(q=>({...q,amount:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400",placeholder:"0.00"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>vr(!1),className:"flex-1 bg-white/20 hover:bg-white/30 text-white py-3 px-4 rounded-xl transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:uh,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-xl transition-colors",children:"Aadir"})]})]})}),Ql&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 shadow-2xl border border-white/20 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:" Aadir nuevo gasto"}),l.jsx("button",{onClick:()=>Ti(!1),className:"text-white/60 hover:text-white text-xl",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Categora"}),l.jsxs("select",{value:pn.category,onChange:O=>Ns(q=>({...q,category:O.target.value,isNewCategory:O.target.value==="new"})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-red-400",children:[l.jsx("option",{value:"",className:"bg-gray-800",children:"Selecciona categora"}),P.map(O=>l.jsx("option",{value:O,className:"bg-gray-800",children:O},O)),l.jsx("option",{value:"new",className:"bg-gray-800",children:" Crear nueva categora"})]})]}),pn.isNewCategory&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Nueva categora"}),l.jsx("input",{type:"text",value:pn.category==="new"?"":pn.category,onChange:O=>Ns(q=>({...q,category:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-red-400",placeholder:"Ej: Comida, Transporte, etc."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white/80 text-sm font-semibold mb-2",children:"Cantidad ()"}),l.jsx("input",{type:"number",value:pn.amount,onChange:O=>Ns(q=>({...q,amount:O.target.value})),className:"w-full bg-white/20 border border-white/30 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-red-400",placeholder:"0.00"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>Ti(!1),className:"flex-1 bg-white/20 hover:bg-white/30 text-white py-3 px-4 rounded-xl transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:Oo,className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-xl transition-colors",children:"Aadir"})]})]})}),y&&l.jsx(UO,{onClose:nc}),E&&l.jsx(IS,{isOpen:!0,onClose:()=>A(!1)})]})};Ro.register(Il,kl,ro,n0,s0,t0);const qO=({onBack:t})=>{const[e,n]=F.useState(1),s=Lg({threshold:120,velocity:.2,safeZone:{top:160,bottom:100,left:50,right:50},onSwipeRight:()=>{t&&t()},onSwipeUp:()=>{e<4&&n(e+1)},onSwipeDown:()=>{e>1&&n(e-1)}}),[i,r]=F.useState(25),[o,a]=F.useState(500),[c,u]=F.useState("medio"),[h,f]=F.useState(40),[m,x]=F.useState(!1),[v,b]=F.useState(!1),[I,y]=F.useState([]),[_,E]=F.useState([]),[A,R]=F.useState(0),M={conservador:{rate:.04,emoji:"",color:"from-green-400 to-blue-500"},medio:{rate:.07,emoji:"",color:"from-yellow-400 to-orange-500"},agresivo:{rate:.12,emoji:"",color:"from-red-400 to-pink-500"}},S=()=>{if(!i||!o)return;const T=Number(i),P=Number(o),Z=M[c].rate/12,Y=1e6;if(P<=0)return;let ne;Z===0?ne=Y/(P*12):ne=Math.log(1+Y*Z/P)/(12*Math.log(1+Z));const oe=T+ne;R(oe);const U=[],H=[];let X=0;const ue=Math.min(50,Math.ceil(ne)+10);for(let Ue=1;Ue<=ue;Ue++){const ye=Ue*12;Z===0?X=P*ye:X=P*((Math.pow(1+Z,ye)-1)/Z),U.push(`Ao ${Ue}`),H.push(Math.min(X,Y))}const ae=U.map((Ue,ye)=>({age:T+ye+1,amount:H[ye],isActive:H[ye]>=Y}));y(ae),x(!0),setTimeout(()=>{n(3),x(!1)},3e3)},w=()=>{if(!i||!h)return;const T=Number(i),j=Number(h)-T,Y=M[c].rate/12,ne=1e6;if(j<=0)return;let oe;Y===0?oe=ne/(j*12):oe=ne*Y/(Math.pow(1+Y,j*12)-1),a(Math.round(oe));const U=[];for(let H=0;H<=j;H++){const X=T+H;if(H===0)U.push({age:X,amount:0,isActive:!1});else{const ue=H*12;let ae;Y===0?ae=oe*ue:ae=oe*((Math.pow(1+Y,ue)-1)/Y),U.push({age:X,amount:Math.min(ae,ne),isActive:ae>=ne})}}E(U),b(!0),setTimeout(()=>{n(5),b(!1)},3e3)},k=T=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(T),C=()=>l.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((T,P)=>l.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][Math.floor(Math.random()*5)]},P))});return m?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 flex items-center justify-center",children:[C(),l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h1",{className:"text-6xl font-black mb-4",children:"FELICIDADES!"}),l.jsx("h2",{className:"text-4xl font-bold mb-8",children:"Sers millonario!"}),l.jsxs("div",{className:"text-5xl font-black text-yellow-300",children:["A los ",Math.round(Number(i)+Math.log(1+1e6*(M[c].rate/12)/Number(o))/(12*Math.log(1+M[c].rate/12)))," aos"]})]})]}):v?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-600 via-blue-600 to-purple-600 flex items-center justify-center",children:[C(),l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h1",{className:"text-6xl font-black mb-4",children:"PERFECTO!"}),l.jsxs("h2",{className:"text-4xl font-bold mb-8",children:["Sers millonario a los ",h," aos!"]}),l.jsxs("div",{className:"text-5xl font-black text-yellow-300",children:["Ahorra ",k(Number(o))," al mes"]})]})]}):l.jsx("div",{ref:s,className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e===1&&l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h1",{className:"text-4xl font-black mb-4",children:"Cuntos aos tienes?"}),l.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 mb-8 border-4 border-white/30",children:[l.jsx("div",{className:"text-8xl font-black text-yellow-300 mb-2",children:i}),l.jsx("div",{className:"text-2xl font-bold",children:"aos"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("input",{type:"range",min:"18",max:"65",value:i,onChange:T=>r(Number(T.target.value)),className:"w-full h-4 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #fbbf24 0%, #fbbf24 ${(i-18)/(65-18)*100}%, rgba(255,255,255,0.2) ${(i-18)/(65-18)*100}%, rgba(255,255,255,0.2) 100%)`}}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 opacity-70",children:[l.jsx("span",{children:"18"}),l.jsx("span",{children:"65"})]})]}),l.jsx("button",{onClick:()=>n(2),className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-3xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"SIGUIENTE! "})]}),e===2&&l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h1",{className:"text-4xl font-black mb-4",children:"Cunto puedes ahorrar al mes?"}),l.jsxs("div",{className:"bg-white/20 rounded-3xl p-8 mb-8 border-4 border-white/30",children:[l.jsx("div",{className:"text-6xl font-black text-yellow-300 mb-2",children:k(o)}),l.jsx("div",{className:"text-2xl font-bold",children:"al mes"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("input",{type:"range",min:"100",max:"5000",step:"50",value:o,onChange:T=>a(Number(T.target.value)),className:"w-full h-4 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${(o-100)/(5e3-100)*100}%, rgba(255,255,255,0.2) ${(o-100)/(5e3-100)*100}%, rgba(255,255,255,0.2) 100%)`}}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 opacity-70",children:[l.jsx("span",{children:"100"}),l.jsx("span",{children:"5.000"})]})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mb-8",children:[{amount:300,label:"Bsico",emoji:""},{amount:800,label:"Bueno",emoji:""},{amount:1500,label:"Excelente",emoji:""}].map(T=>l.jsxs("button",{onClick:()=>a(T.amount),className:`p-3 rounded-2xl border-2 transition-all duration-300 ${Math.abs(o-T.amount)<100?"border-yellow-400 bg-white/30 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:T.emoji}),l.jsx("div",{className:"text-sm font-bold",children:T.label}),l.jsx("div",{className:"text-xs opacity-80",children:k(T.amount)})]},T.amount))}),l.jsx("button",{onClick:()=>n(2.5),className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-3xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"SIGUIENTE! "})]}),e===2.5&&l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h1",{className:"text-4xl font-black mb-8",children:"Cul es tu perfil de riesgo?"}),l.jsx("div",{className:"space-y-4 mb-8",children:Object.entries(M).map(([T,P])=>l.jsxs("button",{onClick:()=>u(T),className:`w-full p-6 rounded-3xl border-4 transition-all duration-300 ${c===T?"border-yellow-400 bg-white/30 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-4xl mb-2",children:P.emoji}),l.jsx("div",{className:"text-2xl font-black capitalize",children:T}),l.jsxs("div",{className:"text-lg opacity-80",children:["Rentabilidad: ",(P.rate*100).toFixed(1),"% anual"]})]},T))}),l.jsx("button",{onClick:S,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-3xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"CALCULAR! "})]}),e===3&&l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:""}),l.jsx("h1",{className:"text-3xl font-black mb-6",children:"Tu progreso hacia el milln!"}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-3xl p-6 mb-6 text-black",children:[l.jsx("div",{className:"text-5xl font-black mb-2",children:Math.round(A)}),l.jsx("div",{className:"text-xl font-bold",children:"aos para ser millonario"})]}),l.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 mb-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:" Progreso hacia el milln"}),l.jsx("div",{className:"bg-white/5 rounded-2xl p-6",children:l.jsx(Zm,{data:{labels:I.map(T=>`${T.age} aos`),datasets:[{label:"Patrimonio acumulado ()",data:I.map(T=>T.amount),backgroundColor:I.map(T=>T.isActive?"rgba(255, 193, 7, 0.8)":"rgba(59, 130, 246, 0.8)"),borderColor:I.map(T=>T.isActive?"rgba(255, 193, 7, 1)":"rgba(59, 130, 246, 1)"),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:1e6,ticks:{callback:function(T){return""+T.toLocaleString()},color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(T){return`${parseFloat(T.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:300})})]}),l.jsx("button",{onClick:()=>n(4),className:"w-full bg-gradient-to-r from-green-400 to-blue-500 text-white font-black text-2xl py-5 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"Quieres ser millonario antes? "})]}),e===4&&l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-8 animate-bounce",children:""}),l.jsx("h1",{className:"text-3xl font-black mb-4",children:"A qu edad quieres ser millonario?"}),l.jsxs("div",{className:"bg-white/20 rounded-3xl p-6 mb-6 border-4 border-white/30",children:[l.jsx("div",{className:"text-6xl font-black text-yellow-300 mb-2",children:h}),l.jsx("div",{className:"text-xl font-bold",children:"aos"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("input",{type:"range",min:i+1,max:Math.min(i+30,80),value:h,onChange:T=>f(Number(T.target.value)),className:"w-full h-4 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #ef4444 0%, #ef4444 ${(h-(i+1))/(Math.min(i+30,80)-(i+1))*100}%, rgba(255,255,255,0.2) ${(h-(i+1))/(Math.min(i+30,80)-(i+1))*100}%, rgba(255,255,255,0.2) 100%)`}}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 opacity-70",children:[l.jsx("span",{children:i+1}),l.jsx("span",{children:Math.min(i+30,80)})]})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[{age:i+5,label:"Pronto",emoji:""},{age:i+10,label:"Medio",emoji:""},{age:i+20,label:"Tranquilo",emoji:""}].map(T=>l.jsxs("button",{onClick:()=>f(T.age),className:`p-3 rounded-2xl border-2 transition-all duration-300 ${Math.abs(h-T.age)<2?"border-yellow-400 bg-white/30 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:[l.jsx("div",{className:"text-2xl mb-1",children:T.emoji}),l.jsx("div",{className:"text-sm font-bold",children:T.label}),l.jsxs("div",{className:"text-xs opacity-80",children:[T.age," aos"]})]},T.age))}),l.jsx("button",{onClick:w,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black text-2xl py-5 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"CALCULAR AHORRO! "})]}),e===5&&l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:""}),l.jsx("h1",{className:"text-3xl font-black mb-6",children:"Plan de accin!"}),l.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 rounded-3xl p-6 mb-6 text-white",children:[l.jsx("div",{className:"text-5xl font-black mb-2",children:k(Number(o))}),l.jsx("div",{className:"text-xl font-bold",children:"Al mes para ser millonario"}),l.jsxs("div",{className:"text-lg opacity-90",children:["a los ",h," aos"]})]}),l.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 mb-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:" Progreso hacia tu objetivo"}),l.jsx("div",{className:"bg-white/5 rounded-2xl p-6",children:l.jsx(Zm,{data:{labels:_.map(T=>`${T.age} aos`),datasets:[{label:"Patrimonio acumulado ()",data:_.map(T=>T.amount),backgroundColor:_.map(T=>T.isActive?"rgba(34, 197, 94, 0.8)":"rgba(147, 51, 234, 0.8)"),borderColor:_.map(T=>T.isActive?"rgba(34, 197, 94, 1)":"rgba(147, 51, 234, 1)"),borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:1e6,ticks:{callback:function(T){return""+T.toLocaleString()},color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(T){return`${parseFloat(T.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:300})})]}),l.jsx("button",{onClick:()=>{n(1),r(25),a(500),f(40),y([]),E([]),R(0)},className:"w-full bg-gradient-to-r from-purple-400 to-pink-500 text-white font-black text-2xl py-5 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:"CALCULAR OTRO! "})]})]})})};Ro.register(Il,kl,ro,n0,s0,t0,Wr);const $O=()=>{const[t,e]=F.useState({grossAnnual:36e3,numberOfPays:14,region:"madrid",age:30,maritalStatus:"single",hasChildren:0,childrenUnder3:0,dependents65to75:0,dependentsOver75:0,disability:"none",flexibleCompensation:0,healthInsurance:0,food:0,transport:0,childcare:0,year:2025}),[n,s]=F.useState(null),i=()=>{const a=t.grossAnnual,c=a/t.numberOfPays,u=c*.0635;let h=r(a);const f=u+h,m=c-f,x=f/c*100,v=m*t.numberOfPays,b={madrid:28e3,cataluna:26e3,andalucia:2e4,valencia:22e3,galicia:21e3,castilla_leon:19e3,castilla_mancha:18e3,extremadura:17e3,murcia:19e3,asturias:2e4,cantabria:21e3,rioja:22e3,aragon:23e3,navarra:25e3,pais_vasco:26e3,canarias:19e3,baleares:22e3,ceuta:17e3,melilla:17e3,no_residentes:35e3},I=22e3,y=b[t.region]||28e3,_=v/y*100,E=v/I*100,A={yourNet:v,yourGross:a,regionAverage:y,spainAverage:I,regionRank:_,spainRank:E},R={regularMonth:m,extraMonth:t.numberOfPays===14?m+u*.5:m,extraPayments:t.numberOfPays===14?2:0},M=a*.235,S={grossAnnual:a,socialSecurityCompany:M,totalCost:a+M};s({netSalary:m,socialSecurity:u,irpf:h,totalDeductions:f,netAnnual:v,grossAnnual:a,retentionRate:x,comparison:A,monthlyBreakdown:R,companyCost:S})},r=a=>{let c=5550;t.maritalStatus==="married"&&(c=11100);const u=t.hasChildren*2400,h=t.childrenUnder3*2800,f=t.dependents65to75*1150,m=t.dependentsOver75*2550;let x=0;t.disability==="33-65"&&(x=3e3),t.disability==="65+"&&(x=9e3);const v=c+u+h+f+m+x;let b=Math.max(0,a-v),I=0;return b<=12450?I=b*.19:b<=20200?I=12450*.19+(b-12450)*.24:b<=35200?I=12450*.19+7750*.24+(b-20200)*.3:b<=6e4?I=12450*.19+7750*.24+15200*.3+(b-35200)*.37:I=12450*.19+7750*.24+15200*.3+24800*.37+(b-6e4)*.45,I/t.numberOfPays},o=a=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"inline-block bg-gradient-to-r from-yellow-400 to-orange-500 text-black px-6 py-2 rounded-full text-sm font-bold mb-4 animate-pulse",children:" LA MEJOR CALCULADORA DE SALARIO NETO 2025 DEL MUNDO"}),l.jsx("h1",{className:"text-6xl font-black text-white mb-4 bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Calculadora de Salario Neto"}),l.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Descubre cunto recibirs realmente y comprate con el salario medio de tu comunidad y Espaa"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-8 text-center",children:" Configuracin"}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:" Salario Bruto Anual"}),l.jsxs("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 rounded-3xl p-8 mb-6 text-center",children:[l.jsx("div",{className:"text-5xl font-black text-white mb-2",children:o(t.grossAnnual)}),l.jsx("div",{className:"text-lg text-white/90",children:"al ao"})]}),l.jsx("input",{type:"range",min:"15000",max:"150000",step:"1000",value:t.grossAnnual,onChange:a=>e(c=>({...c,grossAnnual:Number(a.target.value)})),className:"w-full h-6 bg-white/20 rounded-2xl appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${(t.grossAnnual-15e3)/(15e4-15e3)*100}%, rgba(255,255,255,0.2) ${(t.grossAnnual-15e3)/(15e4-15e3)*100}%, rgba(255,255,255,0.2) 100%)`}}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 text-white/70",children:[l.jsx("span",{children:"15.000"}),l.jsx("span",{children:"150.000"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:" Nmero de Pagas"}),l.jsx("div",{className:"bg-white/10 rounded-2xl p-4",children:l.jsx("div",{className:"grid grid-cols-2 sm:flex sm:flex-row sm:space-x-4 gap-3 pb-2",children:[12,14].map(a=>l.jsx("button",{onClick:()=>e(c=>({...c,numberOfPays:a})),className:`flex-shrink-0 p-6 rounded-2xl border-4 transition-all duration-300 ${t.numberOfPays===a?"border-yellow-400 bg-yellow-400/20 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:l.jsxs("div",{className:"text-center min-w-[100px]",children:[l.jsx("div",{className:"text-4xl font-black text-white",children:a}),l.jsx("div",{className:"text-sm text-white/80",children:"pagos"}),a===14&&l.jsx("div",{className:"text-xs text-yellow-300 font-bold mt-1",children:"+2 extra"})]})},a))})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:" Comunidad Autnoma"}),l.jsx("div",{className:"bg-white/10 rounded-2xl p-4",children:l.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:flex md:flex-row md:space-x-3 md:gap-2 md:pb-2 md:overflow-x-auto md:scrollbar-hide gap-2",children:[{value:"madrid",label:"Madrid",emoji:""},{value:"cataluna",label:"Catalua",emoji:""},{value:"andalucia",label:"Andaluca",emoji:""},{value:"valencia",label:"Valencia",emoji:""},{value:"galicia",label:"Galicia",emoji:""},{value:"pais_vasco",label:"Pas Vasco",emoji:""},{value:"canarias",label:"Canarias",emoji:""},{value:"baleares",label:"Baleares",emoji:""},{value:"castilla_leon",label:"Castilla y Len",emoji:""},{value:"castilla_mancha",label:"Castilla-La Mancha",emoji:""},{value:"extremadura",label:"Extremadura",emoji:""},{value:"murcia",label:"Murcia",emoji:""},{value:"asturias",label:"Asturias",emoji:""},{value:"cantabria",label:"Cantabria",emoji:""},{value:"rioja",label:"La Rioja",emoji:""},{value:"aragon",label:"Aragn",emoji:""},{value:"navarra",label:"Navarra",emoji:""},{value:"ceuta",label:"Ceuta",emoji:""},{value:"melilla",label:"Melilla",emoji:""},{value:"no_residentes",label:"No Residentes",emoji:""}].map(a=>l.jsx("button",{onClick:()=>e(c=>({...c,region:a.value})),className:`md:flex-shrink-0 w-full h-20 md:w-20 flex flex-col items-center justify-center rounded-xl border-2 transition-all duration-300 ${t.region===a.value?"border-yellow-400 bg-yellow-400/20 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx("div",{className:"text-2xl mb-1",children:a.emoji}),l.jsx("div",{className:"text-xs font-semibold text-white leading-tight",children:a.label})]})},a.value))})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xl font-bold text-white mb-4",children:" Situacin Familiar"}),l.jsx("div",{className:"bg-white/10 rounded-2xl p-4",children:l.jsx("div",{className:"grid grid-cols-3 sm:flex sm:flex-row sm:space-x-4 gap-3 pb-2",children:[{value:"single",label:"Individual",emoji:""},{value:"married",label:"Conjunta",emoji:""},{value:"married_high_income",label:"Separada",emoji:""}].map(a=>l.jsx("button",{onClick:()=>e(c=>({...c,maritalStatus:a.value})),className:`w-full h-20 flex flex-col items-center justify-center rounded-2xl border-4 transition-all duration-300 ${t.maritalStatus===a.value?"border-pink-400 bg-pink-400/20 scale-105":"border-white/30 bg-white/10 hover:bg-white/20"}`,children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx("div",{className:"text-3xl mb-1",children:a.emoji}),l.jsx("div",{className:"text-xs font-semibold text-white leading-tight",children:a.label})]})},a.value))})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-lg font-bold text-white mb-4",children:" Hijos < 3 aos"}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-black text-pink-400 mb-2",children:t.childrenUnder3}),l.jsx("input",{type:"range",min:"0",max:"5",value:t.childrenUnder3,onChange:a=>e(c=>({...c,childrenUnder3:Number(a.target.value)})),className:"w-full h-3 bg-white/20 rounded-lg appearance-none cursor-pointer"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-lg font-bold text-white mb-4",children:" Hijos < 25 aos"}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl font-black text-blue-400 mb-2",children:t.hasChildren}),l.jsx("input",{type:"range",min:"0",max:"5",value:t.hasChildren,onChange:a=>e(c=>({...c,hasChildren:Number(a.target.value)})),className:"w-full h-3 bg-white/20 rounded-lg appearance-none cursor-pointer"})]})]})]}),l.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-600 text-white font-black text-2xl py-6 rounded-3xl hover:scale-105 transform transition-all duration-300 shadow-2xl",children:" CALCULAR MI SALARIO!"})]})]}),l.jsxs("div",{className:"space-y-8",children:[n&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-3xl p-8 text-white shadow-2xl",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-3xl font-black mb-4",children:"Tu Salario Neto"}),l.jsx("div",{className:"text-6xl font-black mb-2",children:o(n.netSalary)}),l.jsx("div",{className:"text-sm opacity-90 mb-4",children:"al mes"}),t.numberOfPays===14&&l.jsxs("div",{className:"mx-auto mb-6 inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2",children:[l.jsx("span",{className:"text-xs opacity-90",children:"+ 2 pagas extra de"}),l.jsx("span",{className:"text-lg font-black",children:o(n.monthlyBreakdown.extraMonth)})]}),l.jsxs("div",{className:"bg-white/20 rounded-2xl p-6",children:[l.jsx("div",{className:"text-3xl font-black mb-2",children:o(n.netAnnual)}),l.jsxs("div",{className:"text-lg opacity-90",children:["al ao (",t.numberOfPays," pagas)"]})]})]})}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Comparativas"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:"Tu Comunidad"}),l.jsxs("span",{className:"text-sm text-white/70",children:[n.comparison.regionRank>100?"Por encima":"Por debajo"," del promedio"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-white",children:o(n.comparison.yourNet)}),l.jsx("div",{className:"text-sm text-white/70",children:"Tu salario neto"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-4xl font-black text-yellow-400",children:[n.comparison.regionRank>100?"+":"",(n.comparison.regionRank-100).toFixed(0),"%"]}),l.jsx("div",{className:"text-xs text-white/70",children:"vs promedio"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-white/70",children:o(n.comparison.regionAverage)}),l.jsx("div",{className:"text-sm text-white/70",children:"Promedio regin"})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-2xl p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:"Espaa"}),l.jsxs("span",{className:"text-sm text-white/70",children:[n.comparison.spainRank>100?"Por encima":"Por debajo"," del promedio"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-white",children:o(n.comparison.yourNet)}),l.jsx("div",{className:"text-sm text-white/70",children:"Tu salario neto"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-4xl font-black text-green-400",children:[n.comparison.spainRank>100?"+":"",(n.comparison.spainRank-100).toFixed(0),"%"]}),l.jsx("div",{className:"text-xs text-white/70",children:"vs promedio"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-black text-white/70",children:o(n.comparison.spainAverage)}),l.jsx("div",{className:"text-sm text-white/70",children:"Promedio Espaa"})]})]})]})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Desglose Mensual"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl p-6",children:[l.jsx("h5",{className:"text-lg font-bold text-white mb-4",children:"Mes Normal"}),l.jsx("div",{className:"text-3xl font-black text-white mb-2",children:o(n.monthlyBreakdown.regularMonth)}),l.jsx("div",{className:"text-sm text-white/70",children:"12 meses al ao"})]}),t.numberOfPays===14&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-2xl p-6",children:[l.jsx("h5",{className:"text-lg font-bold text-white mb-4",children:"+ 2 Pagas Extra"}),l.jsx("div",{className:"text-3xl font-black text-white mb-2",children:o(n.monthlyBreakdown.extraMonth)}),l.jsx("div",{className:"text-sm text-white/70",children:"importe de cada paga extra"})]})]}),l.jsx("div",{className:"bg-white/5 rounded-2xl p-6",children:l.jsx(Zm,{data:{labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{label:"Salario Neto Mensual ()",data:[n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,t.numberOfPays===14?n.monthlyBreakdown.regularMonth+n.monthlyBreakdown.extraMonth:n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,n.monthlyBreakdown.regularMonth,t.numberOfPays===14?n.monthlyBreakdown.regularMonth+n.monthlyBreakdown.extraMonth:n.monthlyBreakdown.regularMonth],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)",t.numberOfPays===14?"rgba(255, 193, 7, 0.8)":"rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 0.8)",t.numberOfPays===14?"rgba(255, 193, 7, 0.8)":"rgba(59, 130, 246, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)",t.numberOfPays===14?"rgba(255, 193, 7, 1)":"rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)","rgba(59, 130, 246, 1)",t.numberOfPays===14?"rgba(255, 193, 7, 1)":"rgba(59, 130, 246, 1)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(a){return""+a.toLocaleString()},color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"white"},grid:{color:"rgba(255, 255, 255, 0.1)"}}},plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(a){return`${parseFloat(a.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:200})})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Coste Real para la Empresa"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[l.jsx("span",{className:"text-white font-semibold",children:"Salario bruto anual:"}),l.jsx("span",{className:"text-xl font-black text-green-400",children:o(n.companyCost.grossAnnual)})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[l.jsx("span",{className:"text-white font-semibold",children:"Cotizaciones empresa (23.5%):"}),l.jsx("span",{className:"text-xl font-black text-orange-400",children:o(n.companyCost.socialSecurityCompany)})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-red-500/20 to-pink-500/20 rounded-xl border-2 border-red-400/30",children:[l.jsx("span",{className:"text-white font-bold text-lg",children:"COSTE TOTAL EMPRESA:"}),l.jsx("span",{className:"text-2xl font-black text-red-400",children:o(n.companyCost.totalCost)})]})]}),l.jsx("div",{className:"bg-white/5 rounded-2xl p-4",children:l.jsx(TS,{data:{labels:["Salario Bruto","Cotizaciones Empresa"],datasets:[{data:[n.companyCost.grossAnnual,n.companyCost.socialSecurityCompany],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(249, 115, 22, 0.8)"],borderColor:["rgba(34, 197, 94, 1)","rgba(249, 115, 22, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"white"}},tooltip:{callbacks:{label:function(a){return`${a.label}: ${parseFloat(a.raw).toLocaleString(void 0,{maximumFractionDigits:0})}`}}}}},height:200})})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Desglose Tcnico"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[l.jsx("span",{className:"text-white font-semibold",children:"IRPF anual:"}),l.jsx("span",{className:"text-2xl font-black text-red-400",children:o(n.irpf*t.numberOfPays)})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[l.jsx("span",{className:"text-white font-semibold",children:"Seguridad Social anual:"}),l.jsx("span",{className:"text-2xl font-black text-orange-400",children:o(n.socialSecurity*t.numberOfPays)})]}),l.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl",children:[l.jsx("span",{className:"text-white font-semibold",children:"Tipo de retencin:"}),l.jsxs("span",{className:"text-2xl font-black text-purple-400",children:[n.retentionRate.toFixed(1),"%"]})]})]})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Consejos para Mejorar Financieramente"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-2xl p-4",children:[l.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:" Optimiza tu IRPF"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Planifica tu declaracin con anticipacin"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Aprovecha las deducciones por vivienda"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Considera planes de pensiones"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl p-4",children:[l.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:" Invierte tu dinero"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Aprovecha el inters compuesto"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Diversifica tus inversiones"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Invierte a largo plazo"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-2xl p-4",children:[l.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:" Mejora tu salario"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Formacin continua y especializacin"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Negocia tu salario anualmente"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Considera cambiar de empresa"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-2xl p-4",children:[l.jsx("h5",{className:"text-lg font-bold text-white mb-2",children:" Controla tus gastos"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Haz un presupuesto mensual"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Evita gastos innecesarios"}),l.jsx("p",{className:"text-white/80 text-sm",children:" Ahorra al menos el 20%"})]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 backdrop-blur-lg rounded-3xl p-8 border border-purple-400/30 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Sigue Mejorando tu Situacin Financiera!"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h5",{className:"text-xl font-bold text-white mb-3",children:"Calculadora de Millonario"}),l.jsx("p",{className:"text-white/80 mb-4",children:"Descubre cunto necesitas ahorrar para ser millonario y en cunto tiempo lo conseguirs."}),l.jsx("button",{onClick:()=>{const a=new CustomEvent("changeMode",{detail:"millonario"});window.dispatchEvent(a)},className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-black font-black py-3 rounded-xl hover:scale-105 transform transition-all duration-300",children:"CALCULAR CUNDO SER MILLONARIO!"})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h5",{className:"text-xl font-bold text-white mb-3",children:"Control de Gastos"}),l.jsx("p",{className:"text-white/80 mb-4",children:"Gestiona tus finanzas personales, controla tus gastos y alcanza tus objetivos financieros."}),l.jsx("button",{onClick:()=>{const a=new CustomEvent("changeMode",{detail:"gastos"});window.dispatchEvent(a)},className:"w-full bg-gradient-to-r from-green-400 to-blue-500 text-white font-black py-3 rounded-xl hover:scale-105 transform transition-all duration-300",children:"CONTROLAR MIS GASTOS!"})]})]})]}),l.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl",children:[l.jsx("h4",{className:"text-2xl font-black text-white mb-6 text-center",children:" Informacin Importante"}),l.jsxs("div",{className:"space-y-3 text-white/80",children:[l.jsx("p",{children:" Los clculos son aproximados y pueden variar segn tu situacin especfica."}),l.jsx("p",{children:" Consulta con un asesor fiscal para optimizar tu declaracin."}),l.jsx("p",{children:" Los tramos de IRPF pueden cambiar cada ao."}),l.jsx("p",{children:" La Seguridad Social se calcula sobre el salario bruto."}),l.jsx("p",{children:" Las pagas extra se cobran ms porque las cotizaciones se prorratean en los meses normales."})]})]})]})]})]})})},HO=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Poltica de Privacidad"}),l.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-6",children:[l.jsxs("p",{className:"text-lg",children:[l.jsx("strong",{children:"ltima actualizacin:"})," 19 de enero de 2025"]}),l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:l.jsxs("p",{className:"text-blue-800",children:[l.jsx("strong",{children:"Importante:"})," Esta poltica describe cmo FinanzasFcil recopila, utiliza y protege tu informacin personal cuando utilizas nuestro sitio web y servicios."]})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"1. Informacin que recopilamos"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"1.1 Informacin personal"}),l.jsx("p",{children:"Recopilamos informacin que nos proporcionas directamente, incluyendo:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Datos de contacto (nombre, direccin de email)"}),l.jsx("li",{children:"Informacin financiera que introduces en nuestras calculadoras (salarios, gastos, objetivos de ahorro)"}),l.jsx("li",{children:"Comentarios, preguntas y comunicaciones que nos envas"}),l.jsx("li",{children:"Informacin de registro si creas una cuenta"})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"1.2 Informacin tcnica"}),l.jsx("p",{children:"Recopilamos automticamente cierta informacin cuando visitas nuestro sitio:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Direccin IP y ubicacin geogrfica aproximada"}),l.jsx("li",{children:"Tipo de navegador y dispositivo"}),l.jsx("li",{children:"Pginas visitadas y tiempo de permanencia"}),l.jsx("li",{children:"Referencias de sitios web que te dirigieron a nosotros"}),l.jsx("li",{children:"Datos de cookies y tecnologas similares"})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"2. Cmo utilizamos tu informacin"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.1 Propsitos principales"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Proporcionar servicios:"})," Ejecutar nuestras calculadoras financieras y herramientas"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Personalizacin:"})," Adaptar el contenido y las recomendaciones a tus necesidades"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Comunicacin:"})," Responder a tus consultas y enviar actualizaciones del servicio"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mejora continua:"})," Analizar el uso para mejorar nuestros servicios"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cumplimiento legal:"})," Cumplir con obligaciones legales y regulatorias"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.2 Marketing y publicidad"}),l.jsx("p",{children:"Podemos utilizar tu informacin para enviarte contenido educativo financiero, ofertas especiales y actualizaciones sobre nuevos servicios. Siempre puedes optar por no recibir estas comunicaciones."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"3. Cookies y tecnologas de seguimiento"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.1 Tipos de cookies"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies esenciales:"})," Necesarias para el funcionamiento bsico del sitio"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de rendimiento:"})," Nos ayudan a entender cmo los usuarios interactan con el sitio"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de funcionalidad:"})," Recuerdan tus preferencias y configuraciones"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies de publicidad:"})," Utilizadas para mostrar anuncios relevantes"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.2 Google AdSense"}),l.jsxs("p",{children:["Utilizamos Google AdSense para mostrar anuncios. Google puede utilizar cookies para personalizar anuncios segn tus intereses. Puedes gestionar tus preferencias de anuncios en ",l.jsx("a",{href:"https://adssettings.google.com",className:"text-blue-600 hover:underline",children:"Google Ad Settings"}),"."]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"4. Compartir informacin con terceros"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.1 Proveedores de servicios"}),l.jsx("p",{children:"Compartimos informacin con proveedores que nos ayudan a operar nuestro negocio:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Google Analytics:"})," Para anlisis de trfico web"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Google AdSense:"})," Para mostrar anuncios relevantes"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Netlify:"})," Para hosting y servicios de infraestructura"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Servicios de email:"})," Para comunicaciones (si te suscribes)"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.2 Requisitos legales"}),l.jsx("p",{children:"Podemos divulgar informacin si es requerido por ley, orden judicial, o para proteger nuestros derechos, propiedad o seguridad."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"5. Seguridad de la informacin"}),l.jsx("p",{children:"Implementamos medidas de seguridad tcnicas y organizativas para proteger tu informacin:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Cifrado SSL/TLS para todas las transmisiones de datos"}),l.jsx("li",{children:"Acceso restringido a la informacin personal"}),l.jsx("li",{children:"Monitoreo regular de sistemas de seguridad"}),l.jsx("li",{children:"Capacitacin del personal en privacidad y seguridad"})]}),l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-6",children:l.jsxs("p",{className:"text-yellow-800",children:[l.jsx("strong",{children:"Nota importante:"})," Aunque implementamos medidas de seguridad robustas, ningn mtodo de transmisin por Internet es 100% seguro. No podemos garantizar la seguridad absoluta de tu informacin."]})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"6. Retencin de datos"}),l.jsx("p",{children:"Conservamos tu informacin personal durante el tiempo necesario para:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Cumplir con los propsitos para los que fue recopilada"}),l.jsx("li",{children:"Satisfacer requisitos legales y regulatorios"}),l.jsx("li",{children:"Resolver disputas y hacer cumplir acuerdos"})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"7. Tus derechos y opciones"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.1 Derechos de privacidad"}),l.jsx("p",{children:"Dependiendo de tu ubicacin, puedes tener los siguientes derechos:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Acceso:"})," Solicitar una copia de la informacin que tenemos sobre ti"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Rectificacin:"})," Corregir informacin inexacta o incompleta"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Eliminacin:"})," Solicitar la eliminacin de tu informacin personal"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Limitacin:"})," Restringir el procesamiento de tu informacin"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Portabilidad:"})," Recibir tu informacin en un formato estructurado"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Oposicin:"})," Oponerte al procesamiento de tu informacin"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.2 Gestin de cookies"}),l.jsx("p",{children:"Puedes controlar las cookies a travs de la configuracin de tu navegador. Ten en cuenta que deshabilitar ciertas cookies puede afectar la funcionalidad del sitio."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"8. Transferencias internacionales"}),l.jsx("p",{children:"Tu informacin puede ser transferida y procesada en pases fuera de tu pas de residencia. Nos aseguramos de que dichas transferencias cumplan con las leyes de proteccin de datos aplicables."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"9. Menores de edad"}),l.jsx("p",{children:"Nuestros servicios no estn dirigidos a menores de 16 aos. No recopilamos intencionalmente informacin personal de menores de 16 aos sin el consentimiento verificable de los padres."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"10. Cambios a esta poltica"}),l.jsx("p",{children:"Podemos actualizar esta Poltica de Privacidad ocasionalmente. Te notificaremos sobre cambios significativos mediante:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Publicacin de la nueva poltica en esta pgina"}),l.jsx("li",{children:"Notificacin por email (si tienes una cuenta)"}),l.jsx("li",{children:"Aviso prominente en nuestro sitio web"})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"11. Contacto"}),l.jsx("p",{children:"Si tienes preguntas, inquietudes o solicitudes relacionadas con esta Poltica de Privacidad, puedes contactarnos:"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informacin de contacto"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:underline",children:"lipastudios4@gmail.com"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Sitio web:"})," ",l.jsx("a",{href:"https://finanzasmuyfaciles.netlify.app",className:"text-blue-600 hover:underline",children:"https://finanzasmuyfaciles.netlify.app"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Asunto sugerido:"}),' "Consulta sobre Poltica de Privacidad"']})]})]}),l.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mt-6",children:l.jsxs("p",{className:"text-green-800",children:[l.jsx("strong",{children:"Compromiso de respuesta:"})," Nos comprometemos a responder a todas las consultas relacionadas con privacidad dentro de 72 horas hbiles."]})})]})]})})}),WO=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 py-24 px-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Trminos de Servicio"}),l.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 space-y-6",children:[l.jsxs("p",{className:"text-lg",children:[l.jsx("strong",{children:"ltima actualizacin:"})," 19 de enero de 2025"]}),l.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:l.jsxs("p",{className:"text-green-800",children:[l.jsx("strong",{children:"Bienvenido a FinanzasFcil:"})," Al acceder y utilizar nuestro sitio web, aceptas estar sujeto a estos Trminos de Servicio y todas las leyes y regulaciones aplicables."]})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"1. Aceptacin de los trminos"}),l.jsxs("p",{children:["Al acceder y utilizar ",l.jsx("strong",{children:"FinanzasFcil"})," (finanzasmuyfaciles.netlify.app), aceptas cumplir con estos Trminos de Servicio y todas las leyes y regulaciones aplicables. Si no ests de acuerdo con alguno de estos trminos, est prohibido el uso de este sitio."]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"2. Descripcin del servicio"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.1 Servicios ofrecidos"}),l.jsx("p",{children:"FinanzasFcil proporciona:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Calculadoras financieras:"})," Herramientas para calcular salarios netos, impuestos de autnomos, y proyecciones de ahorro"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Control de gastos:"})," Sistema para registrar y categorizar gastos personales"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Educacin financiera:"})," Artculos, guas y recursos educativos sobre finanzas personales"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Herramientas de planificacin:"})," Calculadoras de objetivos financieros y planificacin de jubilacin"]})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"2.2 Naturaleza de los servicios"}),l.jsx("p",{children:"Nuestros servicios son herramientas educativas y de clculo. Los resultados proporcionados son estimaciones basadas en informacin general y no constituyen asesoramiento financiero, legal o fiscal profesional."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"3. Uso aceptable"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.1 Uso permitido"}),l.jsx("p",{children:"Puedes utilizar nuestros servicios para:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Clculos financieros personales y educativos"}),l.jsx("li",{children:"Control y seguimiento de gastos personales"}),l.jsx("li",{children:"Educacin financiera personal"}),l.jsx("li",{children:"Planificacin financiera personal"})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"3.2 Uso prohibido"}),l.jsx("p",{children:"Est prohibido utilizar nuestros servicios para:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Actividades ilegales o fraudulentas"}),l.jsx("li",{children:"Violacin de derechos de propiedad intelectual"}),l.jsx("li",{children:"Transmisin de virus, malware o cdigo malicioso"}),l.jsx("li",{children:"Spam, phishing o actividades de acoso"}),l.jsx("li",{children:"Intentos de acceso no autorizado a nuestros sistemas"}),l.jsx("li",{children:"Uso comercial no autorizado de nuestros servicios"})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"4. Registro y cuentas de usuario"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.1 Creacin de cuenta"}),l.jsx("p",{children:"Al registrarte en nuestro servicio, debes proporcionar informacin precisa y completa. Eres responsable de mantener la confidencialidad de tu cuenta y contrasea."}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"4.2 Responsabilidades del usuario"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Mantener la informacin de tu cuenta actualizada"}),l.jsx("li",{children:"Proteger la confidencialidad de tu contrasea"}),l.jsx("li",{children:"Notificarnos inmediatamente cualquier uso no autorizado"}),l.jsx("li",{children:"Ser responsable de todas las actividades en tu cuenta"})]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"5. Propiedad intelectual"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"5.1 Derechos de autor"}),l.jsx("p",{children:"Todo el contenido de FinanzasFcil, incluyendo texto, grficos, logotipos, iconos, imgenes, clips de audio, descargas digitales y compilaciones de datos, es propiedad de FinanzasFcil o sus proveedores de contenido y est protegido por las leyes de derechos de autor."}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"5.2 Uso de marca"}),l.jsx("p",{children:'El nombre "FinanzasFcil" y todos los nombres, logotipos y marcas relacionadas son marcas comerciales de FinanzasFcil. No puedes utilizar estas marcas sin nuestro consentimiento previo por escrito.'}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"6. Limitacin de responsabilidad"}),l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-6",children:l.jsxs("p",{className:"text-yellow-800",children:[l.jsx("strong",{children:"Importante:"}),' Los servicios de FinanzasFcil se proporcionan "tal como estn" sin garantas de ningn tipo.']})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"6.1 Descargo de responsabilidad"}),l.jsx("p",{children:"FinanzasFcil no ser responsable de:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Prdidas financieras derivadas del uso de nuestras calculadoras"}),l.jsx("li",{children:"Decisiones tomadas basndose en los resultados de nuestras herramientas"}),l.jsx("li",{children:"Interrupciones del servicio o errores tcnicos"}),l.jsx("li",{children:"Prdida de datos o informacin del usuario"}),l.jsx("li",{children:"Daos indirectos, incidentales o consecuenciales"})]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"6.2 Precisin de la informacin"}),l.jsx("p",{children:"Aunque nos esforzamos por mantener la informacin actualizada y precisa, no garantizamos la exactitud, completitud o actualidad de toda la informacin proporcionada. Los usuarios deben verificar la informacin antes de tomar decisiones financieras importantes."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"7. Publicidad y contenido de terceros"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.1 Google AdSense"}),l.jsx("p",{children:"Nuestro sitio web utiliza Google AdSense para mostrar anuncios. Google puede utilizar cookies para personalizar anuncios segn tus intereses. La presencia de anuncios no constituye un respaldo de FinanzasFcil hacia los productos o servicios anunciados."}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"7.2 Enlaces externos"}),l.jsx("p",{children:"Nuestro sitio puede contener enlaces a sitios web de terceros. No somos responsables del contenido, polticas de privacidad o prcticas de estos sitios externos."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"8. Privacidad y proteccin de datos"}),l.jsxs("p",{children:["La recopilacin y uso de informacin personal se rige por nuestra",l.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:" Poltica de Privacidad"}),", que forma parte integral de estos Trminos de Servicio."]}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"9. Modificaciones del servicio"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"9.1 Cambios en los trminos"}),l.jsx("p",{children:"Nos reservamos el derecho de modificar estos Trminos de Servicio en cualquier momento. Las modificaciones entrarn en vigor inmediatamente despus de su publicacin en nuestro sitio web."}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"9.2 Cambios en el servicio"}),l.jsx("p",{children:"Nos reservamos el derecho de modificar, suspender o discontinuar cualquier parte de nuestros servicios con o sin previo aviso."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"10. Terminacin"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"10.1 Terminacin por el usuario"}),l.jsx("p",{children:"Puedes terminar tu cuenta en cualquier momento eliminando tu perfil o contactndonos directamente."}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"10.2 Terminacin por nuestra parte"}),l.jsx("p",{children:"Podemos suspender o terminar tu acceso a nuestros servicios inmediatamente, sin previo aviso, por violacin de estos trminos o por cualquier otra razn a nuestra discrecin."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"11. Ley aplicable y jurisdiccin"}),l.jsx("p",{children:"Estos Trminos de Servicio se rigen por las leyes de Espaa. Cualquier disputa que surja de estos trminos ser resuelta en los tribunales competentes de Espaa."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"12. Disposiciones generales"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"12.1 Divisibilidad"}),l.jsx("p",{children:"Si alguna disposicin de estos trminos es considerada invlida o inaplicable, las disposiciones restantes permanecern en pleno vigor y efecto."}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"12.2 Renuncia"}),l.jsx("p",{children:"El hecho de que no ejerzamos algn derecho o disposicin de estos trminos no constituir una renuncia a tal derecho o disposicin."}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"13. Contacto"}),l.jsx("p",{children:"Si tienes preguntas sobre estos Trminos de Servicio, puedes contactarnos:"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informacin de contacto"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Email:"})," ",l.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:underline",children:"lipastudios4@gmail.com"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Sitio web:"})," ",l.jsx("a",{href:"https://finanzasmuyfaciles.netlify.app",className:"text-blue-600 hover:underline",children:"https://finanzasmuyfaciles.netlify.app"})]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Asunto sugerido:"}),' "Consulta sobre Trminos de Servicio"']})]})]}),l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mt-6",children:l.jsxs("p",{className:"text-blue-800",children:[l.jsx("strong",{children:"Compromiso de respuesta:"})," Nos comprometemos a responder a todas las consultas relacionadas con estos trminos dentro de 72 horas hbiles."]})})]})]})})});function GO(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"Sobre FinanzasFcil"}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Quines somos?"}),l.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"FinanzasFcil es una plataforma web especializada en educacin financiera y herramientas de clculo gratuitas para mejorar la gestin personal del dinero. Nuestro equipo est formado por profesionales del sector financiero y desarrolladores especializados en crear herramientas tiles y fciles de usar."}),l.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Creemos que la educacin financiera debe ser accesible para todos, independientemente de su nivel de conocimientos o situacin econmica. Por eso, ofrecemos calculadoras gratuitas, guas prcticas y recursos educativos sin necesidad de registro."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Nuestra misin"}),l.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Democratizar el acceso a la informacin financiera de calidad, proporcionando herramientas precisas y actualizadas que ayuden a las personas a tomar mejores decisiones econmicas y alcanzar sus objetivos financieros."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Qu ofrecemos?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-3",children:" Calculadoras Financieras"}),l.jsxs("ul",{className:"text-blue-800 space-y-2",children:[l.jsx("li",{children:" Calculadora de salario neto 2025"}),l.jsx("li",{children:" Calculadora para autnomos"}),l.jsx("li",{children:" Simulador de libertad financiera"}),l.jsx("li",{children:" Herramientas de control de gastos"})]})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-green-900 mb-3",children:" Educacin Financiera"}),l.jsxs("ul",{className:"text-green-800 space-y-2",children:[l.jsx("li",{children:" Guas sobre IRPF y Seguridad Social"}),l.jsx("li",{children:" Consejos para autnomos"}),l.jsx("li",{children:" Estrategias de ahorro e inversin"}),l.jsx("li",{children:" Planificacin financiera personal"})]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Nuestros valores"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Privacidad"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Tus datos personales estn protegidos. No compartimos informacin sin tu consentimiento."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Accesibilidad"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Herramientas optimizadas para mvil y fciles de usar para cualquier persona."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-3",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Precisin"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Clculos actualizados con la normativa fiscal vigente en Espaa."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Transparencia y sostenibilidad"}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[l.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"FinanzasFcil se mantiene gracias a la publicidad responsable mediante Google AdSense. Esta publicidad nos permite ofrecer todas nuestras herramientas de forma completamente gratuita sin comprometer la experiencia del usuario."}),l.jsxs("ul",{className:"text-gray-700 space-y-2",children:[l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Sin registro obligatorio:"})," Puedes usar las herramientas bsicas sin crear cuenta"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Publicidad no intrusiva:"})," Anuncios relevantes que no interfieren con el uso"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Datos seguros:"})," No vendemos ni compartimos tu informacin personal"]}),l.jsxs("li",{children:[" ",l.jsx("strong",{children:"Herramientas actualizadas:"})," Mantenemos los clculos al da con la normativa"]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Contacto y soporte"}),l.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"Tienes preguntas, sugerencias o has encontrado algn error en nuestros clculos? Estamos aqu para ayudarte."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Email de soporte"}),l.jsx("p",{className:"text-blue-800",children:"soporte@finanzasmuyfaciles.netlify.app"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Tiempo de respuesta"}),l.jsx("p",{className:"text-blue-800",children:"24-48 horas laborables"})]})]})]})]}),l.jsx("div",{className:"text-center pt-8 border-t border-gray-200",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"ltima actualizacin: Enero 2025 | FinanzasFcil - Herramientas financieras gratuitas"})})]})]})})}function KO(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-8 text-center",children:"Contacto y Soporte"}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Cmo podemos ayudarte?"}),l.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:"En FinanzasFcil valoramos tu opinin y estamos aqu para ayudarte. Si tienes preguntas, sugerencias, has encontrado algn error en nuestros clculos o necesitas soporte tcnico, no dudes en contactarnos."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:" Contacto General"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:"Email principal:"}),l.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:text-blue-800 underline break-all",children:"lipastudios4@gmail.com"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:"Tiempo de respuesta:"}),l.jsx("p",{className:"text-blue-700",children:"24-48 horas laborables"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-800",children:"Horario de atencin:"}),l.jsx("p",{className:"text-blue-700",children:"Lunes a Viernes, 9:00-18:00 (CET)"})]})]})]}),l.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-green-900 mb-4",children:" Reportar Errores"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-green-700",children:"Si has encontrado un error en alguna de nuestras calculadoras, por favor incluye:"}),l.jsxs("ul",{className:"text-green-700 space-y-1 text-sm",children:[l.jsx("li",{children:" Calculadora utilizada"}),l.jsx("li",{children:" Valores introducidos"}),l.jsx("li",{children:" Resultado esperado vs obtenido"}),l.jsx("li",{children:" Captura de pantalla (opcional)"})]}),l.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"inline-block bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Reportar Error"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Tipos de consultas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-purple-50 rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Sugerencias"}),l.jsx("p",{className:"text-purple-700 text-sm",children:"Tienes ideas para mejorar nuestras herramientas? Nos encanta escuchar propuestas."})]}),l.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"Dudas Tcnicas"}),l.jsx("p",{className:"text-orange-700 text-sm",children:"Preguntas sobre cmo usar las calculadoras o interpretar los resultados."})]}),l.jsxs("div",{className:"bg-red-50 rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Problemas Tcnicos"}),l.jsx("p",{className:"text-red-700 text-sm",children:"Errores de funcionamiento, problemas de carga o incompatibilidades."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Soporte para Empresas"}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"Eres una empresa interesada en integrar nuestras calculadoras o necesitas una solucin personalizada? Ofrecemos servicios de consultora y desarrollo de herramientas financieras."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:"Email empresarial:"}),l.jsx("a",{href:"mailto:lipastudios4@gmail.com",className:"text-blue-600 hover:text-blue-800 underline",children:"lipastudios4@gmail.com"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:"Servicios:"}),l.jsx("p",{className:"text-gray-700 text-sm",children:"Integracin API, desarrollo personalizado, consultora financiera"})]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Otras formas de contacto"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-yellow-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-3",children:" Donaciones"}),l.jsx("p",{className:"text-yellow-800 mb-3",children:"Te gustan nuestras herramientas? Aydanos a mantener el servicio gratuito."}),l.jsx("p",{className:"text-yellow-700 text-sm",children:'Utiliza el botn " Donar" en la pgina principal para donar va PayPal.'})]}),l.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-indigo-900 mb-3",children:" Feedback Directo"}),l.jsx("p",{className:"text-indigo-800 mb-3",children:"Prefieres enviar feedback directamente desde la app?"}),l.jsx("p",{className:"text-indigo-700 text-sm",children:"Busca el botn  en el men de la aplicacin."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Preguntas frecuentes"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Cunto tardan en responder?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Normalmente respondemos en 24-48 horas laborables. Para errores crticos, priorizamos la respuesta en menos de 24 horas."})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Ofrecen soporte en otros idiomas?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Actualmente ofrecemos soporte en espaol. Para consultas en ingls, tambin podemos ayudarte, pero la respuesta puede tardar un poco ms."})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Puedo solicitar nuevas calculadoras?"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Por supuesto! Valoramos las sugerencias de nuestros usuarios. Si es tcnicamente viable y til para la comunidad, la consideraremos."})]})]})]}),l.jsx("div",{className:"text-center pt-8 border-t border-gray-200",children:l.jsx("p",{className:"text-gray-500 text-sm",children:"Gracias por confiar en FinanzasFcil. Tu feedback nos ayuda a mejorar cada da."})})]})]})})}const QO=[{title:"Presupuesto 50/30/20: La Regla de Oro de las Finanzas Personales",slug:"presupuesto-50-30-20",excerpt:"Aprende a repartir tus ingresos de forma eficiente: 50% necesidades, 30% deseos, 20% ahorro y pago de deudas.",content:`La regla 50/30/20 es uno de los mtodos de presupuestacin ms populares y efectivos para gestionar tus finanzas personales. Esta estrategia te ayuda a distribuir tus ingresos de manera equilibrada y sostenible.

## Cmo funciona la regla 50/30/20?

**50% para Necesidades Bsicas:**
- Vivienda (alquiler o hipoteca)
- Alimentacin y supermercado
- Transporte (gasolina, transporte pblico)
- Servicios bsicos (luz, agua, internet)
- Seguros esenciales
- Gastos mdicos bsicos

**30% para Deseos y Estilo de Vida:**
- Entretenimiento y ocio
- Comidas fuera de casa
- Suscripciones (Netflix, Spotify, etc.)
- Ropa y accesorios
- Viajes y vacaciones
- Hobbies y actividades recreativas

**20% para Ahorro y Pago de Deudas:**
- Fondo de emergencia
- Ahorro para objetivos especficos
- Pago de deudas adicionales
- Inversiones a largo plazo

## Ventajas de este mtodo

1. **Simplicidad**: Es fcil de entender y aplicar
2. **Flexibilidad**: Se adapta a diferentes niveles de ingresos
3. **Equilibrio**: Permite disfrutar del presente mientras preparas el futuro
4. **Motivacin**: El 30% para deseos mantiene la motivacin

## Cmo implementarlo paso a paso

1. **Calcula tus ingresos netos mensuales**
2. **Identifica y categoriza todos tus gastos**
3. **Ajusta gradualmente hasta alcanzar las proporciones**
4. **Revisa y ajusta mensualmente**

Recuerda: esta regla es un punto de partida. Puedes ajustarla segn tu situacin personal, objetivos financieros y etapa de vida.`},{title:"Gastos Hormiga: El Enemigo Silencioso de tu Presupuesto",slug:"gastos-hormiga",excerpt:"Los pequeos gastos diarios que parecen insignificantes pero pueden devorar tu presupuesto mensual.",content:`Los gastos hormiga son esos pequeos desembolsos que hacemos de forma rutinaria y que, aunque individualmente parecen insignificantes, sumados pueden representar una cantidad considerable al final del mes.

## Qu son los gastos hormiga?

Son gastos pequeos y frecuentes que muchas veces pasan desapercibidos:
- Caf diario en la cafetera (3-5)
- Aperitivos y snacks (2-4)
- Aplicaciones mviles y suscripciones (1-15/mes)
- Gastos de transporte no planificados
- Compras impulsivas online
- Propinas excesivas
- Gastos de parking

## El impacto real en tu economa

**Ejemplo prctico:**
- Caf diario: 4  22 das laborables = 88/mes
- Aperitivos: 3  20 das = 60/mes
- Aplicaciones: 10/mes
- **Total: 158/mes = 1.896/ao**

## Cmo detectar tus gastos hormiga

1. **Registra TODO durante una semana**
   - Anota cada gasto, por pequeo que sea
   - Incluye fecha, concepto y cantidad

2. **Categoriza los gastos**
   - Alimentacin fuera de casa
   - Entretenimiento
   - Transporte no planificado
   - Compras impulsivas

3. **Analiza patrones**
   - En qu das gastas ms?
   - Qu emociones te llevan a gastar?
   - Cules son tus "momentos dbiles"?

## Estrategias para reducirlos

**Para el caf:**
- Lleva tu propio caf al trabajo
- Establece un presupuesto semanal para cafs fuera
- Busca ofertas o programas de fidelidad

**Para las suscripciones:**
- Revisa mensualmente qu apps usas realmente
- Cancela las que no uses activamente
- Considera planes familiares para compartir costos

**Para compras impulsivas:**
- Implementa la regla de 24 horas
- Elimina aplicaciones de compras del mvil
- Usa listas de compras estrictas

## Herramientas de control

1. **Apps de gastos**: Registra automticamente tus transacciones
2. **Presupuesto semanal**: Asigna un lmite especfico para gastos variables
3. **Efectivo para gastos hormiga**: Retira una cantidad fija semanal
4. **Revisin mensual**: Analiza patrones y ajusta estrategias

Recuerda: el objetivo no es eliminar completamente estos gastos, sino hacerlos conscientes y controlados.`},{title:"Fondo de Emergencia: Tu Colchn de Seguridad Financiera",slug:"fondo-emergencia",excerpt:"Aprende a calcular, construir y mantener tu fondo de emergencia para protegerte ante imprevistos.",content:`El fondo de emergencia es uno de los pilares fundamentales de la salud financiera. Es tu red de seguridad que te protege ante situaciones inesperadas sin tener que recurrir a deudas o afectar tus objetivos financieros a largo plazo.

## Qu es un fondo de emergencia?

Es una cantidad de dinero lquida (fcilmente accesible) que tienes reservada exclusivamente para hacer frente a gastos imprevistos o situaciones de crisis financiera.

## Para qu sirve?

**Situaciones que cubre:**
- Prdida inesperada de empleo
- Gastos mdicos urgentes
- Reparaciones importantes del hogar o vehculo
- Crisis familiares
- Cambios en la situacin econmica personal

**Lo que NO es:**
- Dinero para vacaciones
- Fondo para inversiones
- Dinero para compras planeadas
- Presupuesto para gastos regulares

## Cunto dinero necesitas?

**Regla general: 3-6 meses de gastos bsicos**

**Para calcular tu fondo:**
1. Suma todos tus gastos fijos mensuales
2. Multiplica por 3-6 meses segn tu situacin

**Factores a considerar:**
- **3 meses**: Si tienes trabajo estable, ingresos mltiples
- **6 meses**: Si eres autnomo, tienes ingresos variables
- **12 meses**: Si trabajas en sectores inestables o tienes familia numerosa

## Cmo construir tu fondo de emergencia?

**Paso 1: Establece tu objetivo**
- Calcula tus gastos bsicos mensuales
- Define cuntos meses quieres cubrir
- Establece un plazo realista (6-24 meses)

**Paso 2: Automatiza el ahorro**
- Transfiere automticamente una cantidad fija cada mes
- Trtalo como un "gasto fijo" prioritario
- Aumenta gradualmente la cantidad

**Paso 3: Acelera el proceso**
- Destina ingresos extra (bonificaciones, regalos)
- Reduce gastos temporales para acelerar el ahorro
- Vende objetos que no uses

## Dnde guardar tu fondo de emergencia?

**Caractersticas ideales:**
- **Liquidez total**: Acceso inmediato cuando lo necesites
- **Seguridad**: Proteccin del capital
- **Rendimiento**: Aunque no es prioritario, busca algo de rentabilidad

**Opciones recomendadas:**
1. **Cuenta corriente separada**: Para acceso inmediato
2. **Cuenta remunerada**: Con algo de rentabilidad
3. **Depsito a plazo**: Con penalizacin por cancelacin anticipada
4. **Combinacin**: Parte en cuenta corriente, parte remunerada

## Cundo usar tu fondo de emergencia?

**S usar cuando:**
- Prdida de empleo
- Emergencia mdica
- Reparacin urgente del hogar/vehculo
- Crisis familiar real

**NO usar para:**
- Vacaciones
- Compras no esenciales
- Inversiones
- Deudas que no sean de emergencia

## Mantenimiento del fondo

**Revisin anual:**
- Ajusta el monto segn cambios en tus gastos
- Considera inflacin y cambios de situacin
- Revisa las condiciones de tu cuenta

**Despus de usar el fondo:**
- Replencelo lo antes posible
- Prioriza su reconstruccin sobre otros objetivos
- Ajusta temporalmente otros gastos si es necesario

## Errores comunes a evitar

1. **No tener fondo de emergencia**: El error ms grave
2. **Invertir el fondo**: Debe estar lquido
3. **Usarlo para gastos no urgentes**: Pierde su propsito
4. **No reponerlo**: Deja de ser efectivo
5. **Hacerlo demasiado grande**: Puede limitar otras oportunidades

Recuerda: el fondo de emergencia es tu primera lnea de defensa financiera. Es mejor tenerlo y no necesitarlo, que necesitarlo y no tenerlo.`},{title:"Mtodo Bola de Nieve: Cmo Eliminar Deudas de Forma Eficiente",slug:"metodo-bola-de-nieve",excerpt:"La estrategia psicolgica ms efectiva para pagar deudas: ordena de menor a mayor y gana motivacin con cada victoria.",content:`El mtodo bola de nieve es una estrategia de pago de deudas que se basa en el poder de la motivacin psicolgica. Consiste en pagar las deudas ordenadas de menor a mayor importe, generando victorias rpidas que mantienen la motivacin.

## Cmo funciona el mtodo bola de nieve?

**Paso 1: Lista todas tus deudas**
- Anota cada deuda con su saldo pendiente
- Incluye tarjetas de crdito, prstamos personales, etc.
- NO consideres la hipoteca (es una deuda "buena")

**Paso 2: Ordnalas de menor a mayor saldo**
- La deuda ms pequea va primero
- La ms grande va al final

**Paso 3: Paga el mnimo en todas excepto la primera**
- Mantn los pagos mnimos en todas las deudas
- Destina dinero extra solo a la deuda ms pequea

**Paso 4: Cuando elimines una deuda, suma su cuota a la siguiente**
- La cuota de la deuda eliminada se suma a la siguiente
- El "efecto bola de nieve" acelera el pago

## Ejemplo prctico

**Deudas iniciales:**
- Tarjeta A: 500 (mnimo: 25)
- Prstamo B: 2.000 (mnimo: 100)
- Tarjeta C: 5.000 (mnimo: 150)
- **Dinero extra disponible: 200**

**Mes 1-20:**
- Tarjeta A: 225 (25 mnimo + 200 extra)
- Prstamo B: 100 (mnimo)
- Tarjeta C: 150 (mnimo)
- **Total pagado: 475**

**Mes 21: Tarjeta A eliminada **

**Mes 21-40:**
- Prstamo B: 325 (100 mnimo + 225 de la tarjeta A)
- Tarjeta C: 150 (mnimo)
- **Total pagado: 475**

**Mes 41: Prstamo B eliminado **

**Mes 41-60:**
- Tarjeta C: 475 (150 mnimo + 325 de prstamo B)
- **Total pagado: 475**

## Ventajas del mtodo bola de nieve

**Ventajas psicolgicas:**
- **Motivacin constante**: Cada deuda eliminada es una victoria
- **Progreso visible**: Ves resultados rpidos
- **Momentum**: La motivacin aumenta con cada xito
- **Simplificacin**: Menos deudas que gestionar

**Ventajas prcticas:**
- **Libera flujo de caja**: Cada deuda eliminada libera su cuota
- **Reduce estrs**: Menos facturas que pagar
- **Mejora score crediticio**: Menos deudas activas

## Cundo usar el mtodo bola de nieve?

**Ideal para:**
- Personas que necesitan motivacin psicolgica
- Cuando tienes muchas deudas pequeas
- Si necesitas ver progreso rpido
- Para mantener la constancia a largo plazo

**Considera el mtodo avalancha si:**
- Tienes deudas con tasas de inters muy diferentes
- Priorizas el ahorro de intereses sobre la motivacin
- Tienes disciplina para pagar deudas grandes primero

## Consejos para el xito

**1. Haz un plan detallado:**
- Lista exacta de deudas y pagos
- Cronograma de pagos
- Fechas objetivo para cada eliminacin

**2. Automatiza los pagos:**
- Configura transferencias automticas
- Evita la tentacin de gastar el dinero extra
- Mantn la disciplina

**3. Celebra cada victoria:**
- Cada deuda eliminada es un logro
- Comparte tu progreso con familia/amigos
- Mantn un registro visual de tu avance

**4. No acumules nuevas deudas:**
- Cierra las tarjetas eliminadas (opcional)
- Evita nuevas compras a crdito
- Mantn un presupuesto estricto

**5. Acelera cuando puedas:**
- Destina ingresos extra al pago
- Vende objetos que no uses
- Busca formas de aumentar ingresos temporalmente

## Errores comunes a evitar

1. **No pagar mnimos**: Puede generar intereses y penalizaciones
2. **Acumular nuevas deudas**: Echa por tierra todo el progreso
3. **No tener fondo de emergencia**: Puede forzar a usar tarjetas de nuevo
4. **No celebrar victorias**: Pierde el efecto motivacional
5. **Abandonar el plan**: La consistencia es clave

## Alternativa: Mtodo Avalancha

Si priorizas el ahorro de intereses, considera pagar primero la deuda con mayor tasa de inters, independientemente del saldo. Ahorrars ms dinero pero puede ser menos motivador.

**Conclusin:** El mtodo bola de nieve es especialmente efectivo para personas que necesitan motivacin constante. La clave est en la consistencia y en no acumular nuevas deudas durante el proceso.`},{title:"Automatizacin Financiera: Cmo Hacer que tu Dinero Trabaje Solo",slug:"automatiza-finanzas",excerpt:"Aprende a configurar transferencias automticas para ahorrar, pagar facturas y gestionar tus finanzas sin esfuerzo.",content:`La automatizacin financiera es una de las estrategias ms poderosas para lograr tus objetivos financieros sin depender de la fuerza de voluntad. Al programar transferencias automticas, eliminas la tentacin de gastar dinero que debera ir destinado a objetivos importantes.

## Qu es la automatizacin financiera?

Es el proceso de configurar transferencias automticas y pagos programados para que tu dinero se distribuya correctamente sin intervencin manual, basndose en reglas predefinidas.

## Beneficios de automatizar tus finanzas

**Beneficios psicolgicos:**
- **Elimina la tentacin**: El dinero se separa antes de que puedas gastarlo
- **Reduce el estrs**: No tienes que recordar hacer transferencias
- **Crea hbitos**: La consistencia se convierte en automtica
- **Libera tiempo mental**: No tienes que pensar en gestionar dinero

**Beneficios prcticos:**
- **Consistencia**: Pagos regulares sin interrupciones
- **Eficiencia**: Menos tiempo dedicado a gestin financiera
- **Reduccin de errores**: Menos probabilidad de olvidar pagos
- **Mejor organizacin**: Dinero separado por objetivos

## El Sistema de 4 Cuentas

**Cuenta 1: Cuenta Principal (Ingresos)**
- Recibe tu salario
- Solo para transferencias automticas
- No para gastos diarios

**Cuenta 2: Gastos Fijos**
- Hipoteca/alquiler
- Servicios bsicos
- Seguros
- Suscripciones fijas

**Cuenta 3: Gastos Variables**
- Supermercado
- Transporte
- Ocio
- Gastos imprevistos

**Cuenta 4: Ahorro e Inversin**
- Fondo de emergencia
- Objetivos especficos
- Inversiones a largo plazo

## Cmo configurar tu automatizacin

**Paso 1: Analiza tu flujo de dinero**
- Cundo cobras tu salario?
- Cules son tus gastos fijos mensuales?
- Cunto puedes destinar a ahorro?

**Paso 2: Define tus porcentajes**
**Ejemplo con salario de 2.500:**
- Gastos fijos: 60% (1.500)
- Gastos variables: 25% (625)
- Ahorro: 15% (375)

**Paso 3: Programa las transferencias**
- **Da 1**: Transferir a gastos fijos (1.500)
- **Da 1**: Transferir a gastos variables (625)
- **Da 1**: Transferir a ahorro (375)

## Configuracin paso a paso

**1. Gastos Fijos (Automticos)**
- Salario  Cuenta Gastos Fijos
- Hipoteca: 800
- Luz/Agua/Gas: 150
- Internet/Telfono: 80
- Seguros: 120
- Otros servicios: 350

**2. Ahorro (Automtico)**
- Salario  Cuenta Ahorro
- Fondo emergencia: 200
- Objetivo vacaciones: 100
- Inversin: 75

**3. Gastos Variables (Manual controlado)**
- Salario  Cuenta Gastos Variables
- Supermercado: 400
- Transporte: 150
- Ocio: 75

## Herramientas para automatizacin

**Bancos tradicionales:**
- Transferencias programadas
- Domiciliaciones
- Alertas y notificaciones

**Apps especializadas:**
- **YNAB**: Presupuesto y automatizacin
- **Mint**: Seguimiento automtico
- **PocketGuard**: Control de gastos
- **Qapital**: Ahorro automtico

**Inversin automtica:**
- **Robo-advisors**: Indexa, Finizens
- **Planes de pensiones**: Aportaciones automticas
- **Fondos indexados**: Inversin peridica

## Qu automatizar y qu no

**S automatizar:**
- Ahorro para objetivos
- Pago de facturas fijas
- Inversiones regulares
- Fondo de emergencia
- Pagos de deudas

**NO automatizar:**
- Gastos variables diarios
- Compras grandes (requieren decisin consciente)
- Inversiones especulativas
- Gastos de ocio

## Consejos para el xito

**1. Empieza gradualmente:**
- No automatices todo de una vez
- Comienza con el ahorro ms importante
- Ajusta segn tu situacin

**2. Revisa regularmente:**
- Controla mensualmente que todo funcione
- Ajusta cantidades segn cambios en ingresos/gastos
- Optimiza segn tus objetivos

**3. Mantn flexibilidad:**
- Puedes pausar transferencias si es necesario
- Ajusta fechas segn tu flujo de caja
- Ten un plan B para meses difciles

**4. Usa mltiples cuentas:**
- Separa objetivos por cuentas diferentes
- Facilita el seguimiento
- Evita confusin

## Errores comunes a evitar

1. **Automatizar sin plan**: Define objetivos claros primero
2. **No revisar regularmente**: La automatizacin no es "poner y olvidar"
3. **Automatizar gastos variables**: Puede llevar a sobre-gasto
4. **No tener margen de error**: Deja espacio para imprevistos
5. **Complicar demasiado**: Mantn el sistema simple

## Ejemplo de configuracin completa

**Salario: 3.000**

**Transferencias automticas (da 1):**
- Gastos fijos: 1.800 (60%)
- Ahorro: 600 (20%)
- Gastos variables: 600 (20%)

**Distribucin del ahorro:**
- Fondo emergencia: 300
- Objetivo vacaciones: 150
- Inversin: 150

**Distribucin gastos fijos:**
- Hipoteca: 1.000
- Servicios: 400
- Seguros: 200
- Otros: 200

**Resultado:** Dinero que llega a tu cuenta principal para gastos diarios: 0 (todo automatizado).

La automatizacin financiera es la clave para construir riqueza de forma consistente. Una vez configurada correctamente, tu dinero trabajar para ti sin que tengas que pensar en ello.`},{title:"Objetivos SMART: El Marco Perfecto para tus Metas Financieras",slug:"objetivos-smart-ahorro",excerpt:"Aprende a definir objetivos financieros especficos, medibles, alcanzables, relevantes y con tiempo definido.",content:`Los objetivos SMART son un marco probado para establecer metas efectivas en cualquier rea de la vida, incluyendo las finanzas personales. Este mtodo te ayuda a crear objetivos claros, alcanzables y que realmente puedas cumplir.

## Qu significa SMART?

**S - Especfico (Specific)**
**M - Medible (Measurable)**
**A - Alcanzable (Achievable)**
**R - Relevante (Relevant)**
**T - Tiempo definido (Time-bound)**

## Desglose de cada componente

### S - Especfico
Tu objetivo debe ser claro y detallado. Evita vaguedades como "ahorrar dinero".

** Malo:** "Quiero ahorrar ms dinero"
** Bueno:** "Quiero ahorrar 3.000 para un fondo de emergencia"

### M - Medible
Debes poder cuantificar tu progreso y saber cundo has alcanzado tu objetivo.

** Malo:** "Quiero tener ms seguridad financiera"
** Bueno:** "Quiero tener un fondo de emergencia de 6 meses de gastos (9.000)"

### A - Alcanzable
Tu objetivo debe ser realista considerando tu situacin actual.

** Malo:** "Ahorrar 50.000 en 6 meses" (con salario de 2.000)
** Bueno:** "Ahorrar 6.000 en 12 meses" (500/mes)

### R - Relevante
Debe estar alineado con tus valores y objetivos de vida ms amplios.

** Malo:** "Ahorrar para un coche de lujo" (si tienes deudas)
** Bueno:** "Ahorrar para un coche de lujo" (despus de tener fondo de emergencia)

### T - Tiempo definido
Debe tener una fecha lmite clara.

** Malo:** "Ahorrar para la jubilacin"
** Bueno:** "Ahorrar 100.000 para la jubilacin en 25 aos"

## Ejemplos de objetivos SMART financieros

### 1. Fondo de Emergencia
**Objetivo:** "Ahorrar 6.000 para un fondo de emergencia de 3 meses en 18 meses"
- **Especfico:** 6.000 para fondo de emergencia
- **Medible:** Puedo verificar el progreso mensualmente
- **Alcanzable:** 333/mes (asumiendo ingresos de 2.500/mes)
- **Relevante:** Proteccin ante imprevistos
- **Tiempo:** 18 meses

### 2. Pago de Deudas
**Objetivo:** "Eliminar 8.000 de deuda de tarjetas de crdito en 24 meses"
- **Especfico:** 8.000 de deuda de tarjetas
- **Medible:** Seguimiento mensual del saldo pendiente
- **Alcanzable:** 333/mes para pago de deudas
- **Relevante:** Mejora del score crediticio y reduccin de estrs
- **Tiempo:** 24 meses

### 3. Compra de Vivienda
**Objetivo:** "Ahorrar 30.000 para entrada de vivienda en 36 meses"
- **Especfico:** 30.000 para entrada
- **Medible:** Progreso mensual hacia el objetivo
- **Alcanzable:** 833/mes (ajustando segn ingresos)
- **Relevante:** Estabilidad y patrimonio
- **Tiempo:** 36 meses

### 4. Jubilacin
**Objetivo:** "Ahorrar 500.000 para la jubilacin en 30 aos"
- **Especfico:** 500.000 para jubilacin
- **Medible:** Seguimiento anual de inversiones
- **Alcanzable:** 1.389/mes con inters compuesto
- **Relevante:** Independencia financiera en la jubilacin
- **Tiempo:** 30 aos

## Cmo crear tus objetivos SMART

### Paso 1: Brainstorming
- Qu quieres lograr financieramente?
- Por qu es importante para ti?
- Cmo te sentiras al lograrlo?

### Paso 2: Refinamiento
- Haz cada objetivo ms especfico
- Agrega nmeros y fechas
- Verifica que sea alcanzable

### Paso 3: Planificacin
- Divide el objetivo en hitos mensuales
- Identifica acciones especficas
- Establece mtricas de seguimiento

### Paso 4: Implementacin
- Crea recordatorios regulares
- Revisa el progreso mensualmente
- Ajusta segn sea necesario

## Herramientas para seguimiento

### Hojas de clculo
- Progreso mensual
- Grficos de evolucin
- Clculos automticos

### Apps especializadas
- **YNAB**: Presupuesto y objetivos
- **Mint**: Seguimiento automtico
- **PocketGuard**: Control de gastos

### Mtodos visuales
- Grficos de progreso
- Tableros de objetivos
- Calendarios de hitos

## Consejos para el xito

### 1. Prioriza tus objetivos
- Mximo 3-5 objetivos a la vez
- Enfcate en los ms importantes
- No te disperses

### 2. Celebra hitos intermedios
- Cada 25% del progreso
- Mantn la motivacin
- Reconoce tu esfuerzo

### 3. S flexible pero consistente
- Ajusta cantidades si es necesario
- Mantn la disciplina
- No abandones por un mes difcil

### 4. Revisa y actualiza regularmente
- Evaluacin mensual
- Ajustes segn cambios de vida
- Nuevos objetivos cuando completes otros

## Errores comunes a evitar

1. **Objetivos demasiado ambiciosos**: Pueden generar frustracin
2. **Objetivos vagos**: Sin direccin clara
3. **Demasiados objetivos**: Falta de foco
4. **Sin seguimiento**: No sabes si progresas
5. **Sin flexibilidad**: No adaptas a cambios

## Ejemplo de planificacin completa

**Situacin:** Salario 2.500, gastos 2.000, ahorro disponible: 500

**Objetivos SMART:**
1. **Fondo emergencia:** 6.000 en 12 meses (500/mes)
2. **Vacaciones:** 2.400 en 6 meses (400/mes) - despus del fondo de emergencia
3. **Entrada vivienda:** 30.000 en 5 aos (500/mes) - despus de vacaciones

**Cronograma:**
- Meses 1-12: Fondo de emergencia
- Meses 13-18: Vacaciones
- Meses 19-78: Entrada vivienda

Los objetivos SMART transforman deseos vagos en planes de accin concretos. Son la diferencia entre soar con mejorar tus finanzas y realmente lograrlo.`},{title:"IRPF para Autnomos: Gua Completa 2025",slug:"irpf-autonomos-2025",excerpt:"Todo lo que necesitas saber sobre el IRPF como autnomo: tipos impositivos, deducciones, pagos trimestrales y optimizacin fiscal.",content:`El Impuesto sobre la Renta de las Personas Fsicas (IRPF) es uno de los aspectos ms importantes que todo autnomo debe dominar. Esta gua te ayudar a entender cmo funciona, cmo calcularlo y cmo optimizarlo legalmente.

## Qu es el IRPF para autnomos?

El IRPF es un impuesto progresivo que grava los rendimientos de tu actividad profesional. Como autnomo, tus ingresos estn sujetos a este impuesto, pero tambin tienes derecho a deducir los gastos necesarios para obtener esos ingresos.

## Tipos impositivos del IRPF 2025

### Escala general del IRPF
- **Hasta 12.450**: 9,5%
- **12.450 - 20.200**: 12%
- **20.200 - 35.200**: 15%
- **35.200 - 60.000**: 18,5%
- **60.000 - 300.000**: 22,5%
- **Ms de 300.000**: 24,5%

### Escala del ahorro
- **Hasta 6.000**: 9,5%
- **6.000 - 50.000**: 10,5%
- **50.000 - 200.000**: 11,5%
- **Ms de 200.000**: 13%

## Clculo del IRPF para autnomos

### Paso 1: Determinar la base imponible
**Ingresos - Gastos deducibles = Base imponible**

### Paso 2: Aplicar reducciones
- **Reduccin general**: 5.550 (2025)
- **Reduccin por rendimientos del trabajo**: Hasta 2.000

### Paso 3: Calcular la cuota ntegra
Aplicar los tipos impositivos a la base liquidable

### Paso 4: Aplicar deducciones
- Deducciones autonmicas
- Deducciones por familia numerosa
- Deducciones por donaciones
- Otras deducciones aplicables

## Gastos deducibles para autnomos

### Gastos directamente relacionados con la actividad
- **Material y suministros**: Papelera, software, material de oficina
- **Servicios profesionales**: Asesora, contabilidad, abogados
- **Alquiler de local**: Oficina, almacn, local comercial
- **Gastos de vehculo**: Combustible, mantenimiento, seguro (proporcional)
- **Formacin**: Cursos, libros, seminarios relacionados con la actividad
- **Telecomunicaciones**: Internet, telfono mvil (proporcional)
- **Seguros**: Seguro de responsabilidad civil, seguro de actividad

### Gastos de estructura
- **Amortizaciones**: Equipos informticos, mobiliario, maquinaria
- **Gastos financieros**: Intereses de prstamos para la actividad
- **Gastos de constitucin**: Notarios, registros, trmites iniciales

### Gastos generales
- **Gastos de difcil justificacin**: Hasta 2.000 anuales
- **Gastos de representacin**: Comidas de trabajo (lmites especficos)

## Pagos trimestrales del IRPF

### Cundo pagar?
- **Primer trimestre**: 1-20 de abril
- **Segundo trimestre**: 1-20 de julio
- **Tercer trimestre**: 1-20 de octubre
- **Cuarto trimestre**: 1-30 de enero (siguiente ao)

### Cunto pagar?
**Opcin 1: Pago fraccionado**
- 20% de los ingresos del trimestre
- Sin considerar gastos deducibles

**Opcin 2: Estimacin objetiva**
- Basada en mdulos (solo ciertos sectores)
- Clculo ms complejo pero potencialmente ms favorable

**Opcin 3: Estimacin directa**
- Basada en ingresos reales menos gastos reales
- Requiere contabilidad detallada

## Optimizacin fiscal legal

### 1. Maximiza las deducciones
- Lleva un registro detallado de gastos
- Justifica todos los gastos con facturas
- Separa gastos personales de profesionales

### 2. Planifica los ingresos
- Si puedes, distribuye ingresos entre aos
- Considera el efecto de los tramos impositivos
- Evala la conveniencia de constituir una sociedad

### 3. Aprovecha las deducciones autonmicas
- Cada comunidad tiene deducciones especficas
- Infrmate sobre incentivos locales
- Considera cambiar de residencia fiscal si es conveniente

### 4. Optimiza la estructura empresarial
- Evala si te conviene ser autnomo o sociedad
- Considera el rgimen de estimacin objetiva
- Analiza la conveniencia de colaborar con otros profesionales

## Errores comunes a evitar

### 1. No llevar contabilidad
- Sin registro de gastos, no puedes deducir
- Puedes tener problemas en inspecciones
- Pierdes oportunidades de optimizacin

### 2. Mezclar gastos personales y profesionales
- Solo son deducibles los gastos de la actividad
- Hacerlo puede generar sanciones
- Mantn cuentas separadas

### 3. No planificar los pagos trimestrales
- Puedes tener sorpresas en la declaracin anual
- Los intereses de demora son elevados
- Planifica tus pagos con anticipacin

### 4. No aprovechar las deducciones
- Muchos autnomos no conocen todas las deducciones
- Infrmate sobre incentivos fiscales
- Consulta con un asesor si es necesario

## Herramientas tiles

### Calculadoras online
- Calculadoras de IRPF para autnomos
- Simuladores de pagos trimestrales
- Herramientas de planificacin fiscal

### Software contable
- **A3Contable**: Software especfico para autnomos
- **ContaSOL**: Gratuito y completo
- **Factusol**: Incluye facturacin y contabilidad

### Asesoramiento profesional
- Asesores fiscales especializados
- Gestores administrativos
- Asociaciones de autnomos

## Planificacin fiscal anual

### Enero-Marzo: Planificacin
- Revisa el ao anterior
- Planifica objetivos del nuevo ao
- Estima ingresos y gastos

### Abril-Junio: Primer semestre
- Realiza pagos trimestrales
- Revisa el progreso
- Ajusta estimaciones

### Julio-Septiembre: Segundo semestre
- Contina con pagos trimestrales
- Prepara documentacin
- Optimiza gastos restantes

### Octubre-Diciembre: Cierre
- Realiza ltimos pagos
- Recopila documentacin
- Prepara declaracin anual

## Consejos prcticos

### 1. Automatiza tu contabilidad
- Usa software contable
- Digitaliza facturas
- Mantn archivos organizados

### 2. Revisa regularmente
- Control mensual de gastos
- Revisin trimestral de pagos
- Anlisis anual de optimizacin

### 3. Mantente informado
- Cambios normativos
- Nuevas deducciones
- Modificaciones en tipos impositivos

### 4. Busca asesoramiento
- Para temas complejos
- Para optimizacin fiscal
- Para evitar errores costosos

El IRPF para autnomos puede parecer complejo, pero con la informacin correcta y una buena planificacin, puedes optimizarlo legalmente y reducir tu carga fiscal. La clave est en la organizacin, el conocimiento y, cuando sea necesario, el asesoramiento profesional.`}];function YO(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-24 px-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Artculos de Finanzas Personales"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Guas completas y consejos prcticos para mejorar tu educacin financiera y alcanzar tus objetivos econmicos."})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:QO.map(t=>l.jsx("article",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:l.jsxs("div",{className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 leading-tight",children:t.title}),l.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:t.excerpt}),l.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:l.jsx("div",{className:"text-gray-800 whitespace-pre-line text-sm leading-relaxed",children:t.content.length>500?t.content.substring(0,500)+"...":t.content})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-3 py-1 rounded-full",children:"Finanzas Personales"}),l.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-3 py-1 rounded-full",children:"Gua Completa"})]}),l.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Leer Ms"})]})]})},t.slug))}),l.jsx("div",{className:"mt-16 text-center",children:l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Quieres ms contenido financiero?"}),l.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Suscrbete a nuestro boletn para recibir artculos exclusivos y consejos financieros directamente en tu email."}),l.jsxs("div",{className:"max-w-md mx-auto flex gap-3",children:[l.jsx("input",{type:"email",placeholder:"Tu email",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500"}),l.jsx("button",{className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Suscribirse"})]})]})})]})})}function XO(){return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 py-24 px-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Guas Completa de Finanzas Personales"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Guas paso a paso, tutoriales detallados y recursos educativos para dominar tus finanzas personales."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8 hover:shadow-2xl transition-all duration-300",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tu Primer Presupuesto en 30 Das"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Gua completa para crear tu primer presupuesto personal desde cero, paso a paso."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Anlisis de ingresos y gastos"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Categorizacin de gastos"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Herramientas y apps recomendadas"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Seguimiento y ajustes"]})]}),l.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:"Empezar Gua"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8 hover:shadow-2xl transition-all duration-300",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inversin para Principiantes"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Aprende a invertir tu dinero de forma segura y rentable, desde conceptos bsicos hasta estrategias avanzadas."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Conceptos bsicos de inversin"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Tipos de activos y riesgo"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Plataformas y brokers"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Estrategias de diversificacin"]})]}),l.jsx("button",{className:"w-full bg-green-600 text-white py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold",children:"Empezar Gua"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8 hover:shadow-2xl transition-all duration-300",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Emprendimiento Financiero"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Todo lo que necesitas saber para emprender: desde la idea hasta la financiacin y gestin."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Validacin de ideas de negocio"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Plan de negocio y financiero"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Fuentes de financiacin"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Gestin financiera empresarial"]})]}),l.jsx("button",{className:"w-full bg-purple-600 text-white py-3 rounded-xl hover:bg-purple-700 transition-colors font-semibold",children:"Empezar Gua"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8 hover:shadow-2xl transition-all duration-300",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Planificacin de Jubilacin"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Cmo planificar tu jubilacin desde joven para asegurar una vejez cmoda y sin preocupaciones econmicas."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Clculo de necesidades futuras"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Planes de pensiones y SIALP"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Inversin a largo plazo"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Estrategias de optimizacin fiscal"]})]}),l.jsx("button",{className:"w-full bg-orange-600 text-white py-3 rounded-xl hover:bg-orange-700 transition-colors font-semibold",children:"Empezar Gua"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8 hover:shadow-2xl transition-all duration-300",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gestin Inteligente de Deudas"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Estrategias profesionales para gestionar, reducir y eliminar deudas de forma eficiente y sostenible."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Anlisis de situacin deudora"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Negociacin con acreedores"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Consolidacin y refinanciacin"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Prevencin de nuevas deudas"]})]}),l.jsx("button",{className:"w-full bg-red-600 text-white py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold",children:"Empezar Gua"})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8 hover:shadow-2xl transition-all duration-300",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Finanzas Familiares"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Cmo gestionar las finanzas en familia: presupuesto familiar, educacin financiera para nios y planificacin conjunta."}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"1"}),"Presupuesto familiar conjunto"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"2"}),"Educacin financiera para nios"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"3"}),"Planificacin de gastos familiares"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-6 h-6 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-xs font-bold mr-3",children:"4"}),"Ahorro para educacin de hijos"]})]}),l.jsx("button",{className:"w-full bg-pink-600 text-white py-3 rounded-xl hover:bg-pink-700 transition-colors font-semibold",children:"Empezar Gua"})]})]}),l.jsx("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 text-white",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Recursos Adicionales"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Accede a plantillas, calculadoras y herramientas exclusivas para aplicar todo lo aprendido."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white/10 rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plantillas Gratuitas"}),l.jsx("p",{className:"text-sm opacity-80",children:"Presupuestos, seguimiento de gastos y planificadores financieros."})]}),l.jsxs("div",{className:"bg-white/10 rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Calculadoras Avanzadas"}),l.jsx("p",{className:"text-sm opacity-80",children:"Herramientas especializadas para clculos financieros complejos."})]}),l.jsxs("div",{className:"bg-white/10 rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Biblioteca de Recursos"}),l.jsx("p",{className:"text-sm opacity-80",children:"Libros recomendados, cursos y materiales de estudio."})]})]})]})})]})})}function JO(){const t=[{category:"Calculadoras Financieras",questions:[{question:"Cmo funciona la calculadora de salario neto?",answer:"Nuestra calculadora de salario neto convierte tu sueldo bruto a neto aplicando todas las deducciones correspondientes: IRPF segn tu tramo impositivo, cuotas de Seguridad Social (6.35% para contingencias comunes + 1.55% para desempleo + 0.1% para formacin profesional), y otras deducciones como sindicatos o seguros privados. El resultado es el dinero que realmente recibirs en tu cuenta bancaria."},{question:"Por qu mi salario neto es menor de lo esperado?",answer:"El salario neto puede ser menor debido a varios factores: 1) IRPF progresivo - a mayor salario, mayor porcentaje de retencin, 2) Pagas extra - se prorratean mensualmente, 3) Deducciones adicionales como sindicatos, seguros privados o anticipos, 4) Comunidad autnoma - algunas tienen tipos de IRPF diferentes. Nuestra calculadora incluye todos estos factores para darte el resultado ms preciso."},{question:"Es exacto el clculo de la calculadora de autnomos?",answer:"S, nuestra calculadora de autnomos utiliza los datos oficiales ms actualizados: cuota de Seguridad Social 2025 (294/mes base, ms 294 por cada tramo adicional), tramos de IRPF vigentes, bonificaciones por comunidades autnomas para autnomos nuevos, y todas las deducciones aplicables. Sin embargo, recomendamos consultar con un gestor para casos especficos complejos."},{question:"Cmo calcula la calculadora cundo ser millonario?",answer:"La calculadora utiliza la frmula del inters compuesto: Capital Final = Capital Inicial  (1 + tasa)^tiempo. Toma en cuenta tu ahorro mensual, tasa de rentabilidad esperada, capital inicial y ajustes por inflacin. Es una estimacin basada en promedios histricos del mercado, pero los resultados reales pueden variar segn las condiciones del mercado."}]},{category:"Control de Gastos",questions:[{question:"Cmo puedo empezar a controlar mis gastos?",answer:"Para empezar a controlar tus gastos: 1) Registra TODOS tus gastos durante una semana completa, 2) Categoriza cada gasto (alimentacin, transporte, ocio, etc.), 3) Usa una app como la nuestra o una hoja de clculo, 4) Establece presupuestos por categora, 5) Revisa semanalmente y ajusta. La clave es la constancia y ser honesto contigo mismo."},{question:"Qu categoras de gastos debo usar?",answer:"Recomendamos estas categoras principales: Necesidades (vivienda, alimentacin, transporte, servicios), Deseos (ocio, ropa, entretenimiento), Ahorro e inversin, Deudas. Puedes subcategorizar segn tus necesidades: alimentacin en casa vs. fuera, transporte pblico vs. privado, etc. Lo importante es que sea til para ti y te permita identificar patrones."},{question:"Cunto tiempo necesito para ver patrones en mis gastos?",answer:"Para ver patrones claros necesitas al menos 2-3 meses de datos. Sin embargo, en 2-3 semanas ya puedes identificar gastos problemticos. Los patrones estacionales (vacaciones, navidades) requieren un ao completo de datos. Lo importante es empezar ya y ser consistente en el registro."},{question:"Cmo puedo reducir mis gastos sin sacrificar calidad de vida?",answer:"Estrategias efectivas: 1) Regla 24h - espera un da antes de compras no esenciales, 2) Compara precios y usa cupones, 3) Cancela suscripciones que no uses, 4) Cocina ms en casa, 5) Usa transporte pblico o comparte vehculo, 6) Negocia facturas (seguros, internet, mvil), 7) Compra de segunda mano cuando sea posible. El objetivo es optimizar, no privarse."}]},{category:"Ahorro e Inversin",questions:[{question:"Cunto debo ahorrar cada mes?",answer:"La regla general es ahorrar entre el 10-20% de tus ingresos netos. Si eres principiante, empieza con el 10% y ve aumentando gradualmente. Prioriza: 1) Fondo de emergencia (3-6 meses de gastos), 2) Objetivos a corto plazo (vacaciones, coche), 3) Jubilacin. Si tienes deudas con intereses altos, pgales primero antes de ahorrar."},{question:"Dnde debo guardar mi dinero ahorrado?",answer:"Depende del objetivo: Fondo de emergencia - cuenta remunerada con acceso inmediato, Objetivos 1-3 aos - depsitos a plazo o cuentas remuneradas, Objetivos 5+ aos - fondos indexados o ETFs, Jubilacin - planes de pensiones o SIALP. La clave es diversificar segn el plazo y la necesidad de liquidez."},{question:"Cundo debo empezar a invertir?",answer:"Puedes empezar a invertir cuando: 1) Tengas un fondo de emergencia de 3-6 meses, 2) No tengas deudas con intereses altos (>5%), 3) Puedas permitirte perder el dinero invertido, 4) Tengas un horizonte de inversin de al menos 5 aos. Empieza con pequeas cantidades para aprender sin riesgo."},{question:"Qu es el inters compuesto y por qu es importante?",answer:"El inters compuesto es 'el inters sobre el inters'. Tus ganancias se reinvierten y generan ms ganancias. Ejemplo: 1.000 al 7% anual = 1.070 el primer ao, pero 1.145 el segundo (7% sobre 1.070). Es la fuerza ms poderosa para crear riqueza a largo plazo. Por eso empezar joven, aunque sea con poco, marca una diferencia enorme."}]},{category:"Gestin de Deudas",questions:[{question:"Qu debo pagar primero: ahorro o deudas?",answer:"Prioriza segn el tipo de deuda: 1) Deudas con intereses altos (>7%) - pgales primero, 2) Fondo de emergencia mnimo (1 mes de gastos) - hazlo simultneamente, 3) Deudas con intereses bajos (<5%) - puedes ahorrar e invertir mientras pagas. La regla: si el inters de la deuda es mayor que la rentabilidad esperada de inversin, paga la deuda primero."},{question:"Cul es la diferencia entre mtodo bola de nieve y avalancha?",answer:"Mtodo bola de nieve: pagas primero la deuda ms pequea para ganar motivacin. Mtodo avalancha: pagas primero la deuda con mayor inters para ahorrar dinero. Bola de nieve es mejor para motivacin, avalancha para ahorro. Elige segn tu personalidad y disciplina."},{question:"Puedo negociar mis deudas con los bancos?",answer:"S, es posible negociar: 1) Refinanciacin - cambiar condiciones del prstamo, 2) Consolidacin - unir varias deudas en una, 3) Quita - reduccin del capital adeudado (solo en casos extremos), 4) Pausa de pagos temporal. La clave es contactar al banco ANTES de entrar en impago y mostrar buena fe en el pago."},{question:"Cmo afectan las deudas a mi capacidad de ahorro?",answer:"Las deudas reducen tu capacidad de ahorro de dos formas: 1) Dinero que no puedes ahorrar - cada euro de deuda es un euro menos para ahorrar, 2) Coste de oportunidad - el inters que pagas es dinero que no puedes invertir. Pagar deudas es una inversin con rentabilidad garantizada igual al inters que dejas de pagar."}]},{category:"Fiscalidad y Autnomos",questions:[{question:"Qu gastos puedo deducir como autnomo?",answer:"Puedes deducir gastos necesarios para tu actividad: material y suministros, servicios profesionales (contabilidad, abogados), alquiler de local, gastos de vehculo (proporcional al uso profesional), formacin relacionada, telecomunicaciones (proporcional), seguros de actividad, amortizaciones de equipos. Mantn todas las facturas y separa gastos personales de profesionales."},{question:"Cundo debo hacer los pagos trimestrales del IRPF?",answer:"Los pagos trimestrales se realizan: 1er trimestre (enero-marzo) - hasta 20 de abril, 2 trimestre (abril-junio) - hasta 20 de julio, 3er trimestre (julio-septiembre) - hasta 20 de octubre, 4 trimestre (octubre-diciembre) - hasta 30 de enero. Puedes pagar el 20% de los ingresos o calcular segn gastos reales (estimacin directa)."},{question:"Me conviene ser autnomo o crear una sociedad?",answer:"Depende de varios factores: Autnomo es mejor si: ingresos < 60.000, trabajo individual, pocos gastos deducibles. Sociedad es mejor si: ingresos > 60.000, varios socios, muchos gastos deducibles, quieres limitar responsabilidad. Consulta con un asesor fiscal para tu caso especfico, ya que la decisin tiene implicaciones a largo plazo."},{question:"Qu es la cuota cero para autnomos nuevos?",answer:"La cuota cero es una bonificacin que permite a autnomos nuevos (primeros 12 meses) pagar 0 de cuota de Seguridad Social. Est disponible en todas las comunidades autnomas, aunque con diferencias en duracin y condiciones. Algunas comunidades la extienden hasta 24 meses. Es una excelente oportunidad para empezar con menores costes."}]},{category:"Planes y Objetivos",questions:[{question:"Cmo establezco objetivos financieros realistas?",answer:"Usa el mtodo SMART: Especfico (cunto exactamente), Medible (puedes hacer seguimiento), Alcanzable (realista con tu situacin), Relevante (importante para ti), Tiempo definido (fecha lmite). Ejemplo: 'Ahorrar 6.000 para fondo de emergencia en 18 meses' (333/mes). Empieza con objetivos pequeos para crear hbitos."},{question:"Cunto dinero necesito para la jubilacin?",answer:"La regla general es necesitar entre el 70-80% de tu salario actual para mantener tu nivel de vida. Si gastas 2.000/mes, necesitars 1.400-1.600/mes en jubilacin. Multiplica por 12 y luego por 25 (regla del 4% de retiro). Ejemplo: 1.500  12  25 = 450.000. Usa nuestras calculadoras para tu situacin especfica."},{question:"Cmo priorizo mis objetivos financieros?",answer:"Orden de prioridad tpico: 1) Fondo de emergencia (3-6 meses de gastos), 2) Eliminar deudas con intereses altos, 3) Ahorro para objetivos a corto plazo (1-3 aos), 4) Inversin para jubilacin, 5) Otros objetivos (casa, coche, etc.). Ajusta segn tu situacin personal, pero el fondo de emergencia siempre debe ser prioridad."},{question:"Qu hago si no puedo cumplir mis objetivos financieros?",answer:"Es normal ajustar objetivos: 1) Revisa si son realistas - quizs necesitas ms tiempo, 2) Busca formas de aumentar ingresos - freelance, venta de objetos, 3) Reduce gastos - revisa presupuesto mensualmente, 4) Divide objetivos grandes en sub-objetivos ms pequeos, 5) Celebra progresos parciales. Lo importante es mantener la direccin, no la velocidad exacta."}]}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-purple-50 py-24 px-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Preguntas Frecuentes"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Respuestas a las dudas ms comunes sobre finanzas personales, calculadoras y herramientas."})]}),l.jsx("div",{className:"space-y-12",children:t.map((e,n)=>l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:e.category}),l.jsx("div",{className:"space-y-6",children:e.questions.map((s,i)=>l.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-start",children:[l.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:"Q:"}),s.question]}),l.jsx("p",{className:"text-gray-700 leading-relaxed pl-6",children:s.answer})]},i))})]},n))}),l.jsxs("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 text-white text-center",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"No encuentras la respuesta que buscas?"}),l.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Nuestro equipo de expertos est aqu para ayudarte con cualquier duda especfica."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("a",{href:"mailto:soporte@finanzasmuyfaciles.netlify.app",className:"bg-white text-blue-600 px-6 py-3 rounded-xl font-semibold hover:bg-gray-100 transition-colors",children:" Enviar Email"}),l.jsx("a",{href:"/contacto",className:"bg-white/20 text-white px-6 py-3 rounded-xl font-semibold hover:bg-white/30 transition-colors",children:" Ms Formas de Contacto"})]})]})]})})}function ZO(){const t=[{category:"Plantillas Gratuitas",items:[{title:"Plantilla de Presupuesto Mensual",description:"Excel descargable para crear y seguir tu presupuesto personal",type:"Excel",size:"45 KB",downloads:"2,847",features:["Categoras predefinidas","Grficos automticos","Comparativas mensuales"]},{title:"Seguimiento de Gastos Diarios",description:"Plantilla para registrar todos tus gastos da a da",type:"PDF",size:"12 KB",downloads:"1,923",features:["Registro por categoras","Resumen semanal","Anlisis de patrones"]},{title:"Planificador de Objetivos Financieros",description:"Herramienta para establecer y seguir tus metas de ahorro",type:"Excel",size:"38 KB",downloads:"1,456",features:["Mltiples objetivos","Progreso visual","Recordatorios"]},{title:"Calculadora de Deudas",description:"Plantilla para gestionar y planificar el pago de deudas",type:"Excel",size:"52 KB",downloads:"987",features:["Mtodo bola de nieve","Mtodo avalancha","Comparativas"]}]},{category:"Guas en PDF",items:[{title:"Gua Completa de Finanzas Personales",description:"Manual completo de 50 pginas sobre gestin financiera",type:"PDF",size:"2.3 MB",downloads:"3,421",features:["Conceptos bsicos","Estrategias avanzadas","Casos prcticos"]},{title:"Manual para Autnomos 2025",description:"Todo lo que necesitas saber sobre fiscalidad autnoma",type:"PDF",size:"1.8 MB",downloads:"2,156",features:["IRPF actualizado","Gastos deducibles","Calendario fiscal"]},{title:"Gua de Inversin para Principiantes",description:"Introduccin completa al mundo de las inversiones",type:"PDF",size:"1.5 MB",downloads:"1,789",features:["Conceptos bsicos","Tipos de activos","Estrategias"]},{title:"Planificacin de Jubilacin",description:"Cmo preparar tu futuro econmico desde joven",type:"PDF",size:"1.2 MB",downloads:"1,234",features:["Clculos necesarios","Productos financieros","Optimizacin fiscal"]}]},{category:"Calculadoras Avanzadas",items:[{title:"Calculadora de Inters Compuesto",description:"Simula el crecimiento de tus ahorros a largo plazo",type:"Web",size:"Online",downloads:"5,234",features:["Mltiples escenarios","Grficos interactivos","Comparativas"]},{title:"Simulador de Hipoteca",description:"Calcula cuotas, intereses y amortizaciones",type:"Web",size:"Online",downloads:"4,567",features:["Diferentes tipos de inters","Amortizaciones anticipadas","Comparativas bancos"]},{title:"Calculadora de Coste de Vida",description:"Compara el coste de vida entre ciudades",type:"Web",size:"Online",downloads:"2,345",features:["Ms de 100 ciudades","Mltiples categoras","Ajustes por salario"]},{title:"Simulador de Pensiones",description:"Estima tu pensin futura segn diferentes escenarios",type:"Web",size:"Online",downloads:"3,123",features:["Escenarios variables","Optimizacin de aportaciones","Comparativas productos"]}]}],e=[{title:"Padre Rico, Padre Pobre",author:"Robert Kiyosaki",rating:4.2,category:"Educacin Financiera",description:"Fundamentos de la mentalidad financiera y la diferencia entre activos y pasivos."},{title:"El Inversor Inteligente",author:"Benjamin Graham",rating:4.5,category:"Inversin",description:"La biblia de la inversin en valor, escrito por el mentor de Warren Buffett."},{title:"Los Secretos de la Mente Millonaria",author:"T. Harv Eker",rating:4.1,category:"Mentalidad",description:"Cmo reprogramar tu mente para el xito financiero."},{title:"Un Paseo Aleatorio por Wall Street",author:"Burton Malkiel",rating:4.3,category:"Inversin",description:"Introduccin a la inversin pasiva y los fondos indexados."},{title:"Dinero: Domina el Juego",author:"Tony Robbins",rating:4,category:"Estrategia Financiera",description:"7 pasos simples para la libertad financiera."},{title:"El Hombre Ms Rico de Babilonia",author:"George S. Clason",rating:4.4,category:"Principios Bsicos",description:"Lecciones atemporales sobre el ahorro y la inversin."}],n=[{title:"Finanzas Personales desde Cero",provider:"Coursera",duration:"4 semanas",level:"Principiante",price:"Gratis",rating:4.6,description:"Curso completo de la Universidad de Michigan sobre gestin financiera personal."},{title:"Inversin en Bolsa para Principiantes",provider:"Udemy",duration:"8 horas",level:"Principiante",price:"29.99",rating:4.4,description:"Aprende los fundamentos de la inversin en mercados financieros."},{title:"Fiscalidad para Autnomos",provider:"Domestika",duration:"3 horas",level:"Intermedio",price:"19.99",rating:4.5,description:"Todo sobre impuestos, deducciones y optimizacin fiscal para autnomos."},{title:"Planificacin de Jubilacin",provider:"edX",duration:"6 semanas",level:"Intermedio",price:"Gratis",rating:4.3,description:"Estrategias avanzadas para asegurar tu futuro financiero."}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50 py-24 px-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recursos y Herramientas"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Plantillas gratuitas, guas descargables, calculadoras avanzadas y recursos educativos para dominar tus finanzas."})]}),l.jsx("div",{className:"space-y-16",children:t.map((s,i)=>l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:s.category}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.items.map((r,o)=>l.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),l.jsx("p",{className:"text-gray-600 mb-3",children:r.description})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${r.type==="Excel"?"bg-green-100 text-green-800":r.type==="PDF"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:r.type})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:["Tamao: ",r.size]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[r.downloads," descargas"]})]}),l.jsx("div",{className:"space-y-2 mb-4",children:r.features.map((a,c)=>l.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[l.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),a]},c))}),l.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:r.type==="Web"?"Usar Calculadora":"Descargar Gratis"})]},o))})]},i))}),l.jsxs("div",{className:"mt-16 bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Libros Recomendados"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((s,i)=>l.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[l.jsxs("div",{className:"flex items-start mb-4",children:[l.jsx("div",{className:"w-16 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg mr-4",children:s.title.charAt(0)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:s.title}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:s.author}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx("span",{className:"text-yellow-500 mr-1",children:""}),l.jsx("span",{className:"text-sm text-gray-600",children:s.rating}),l.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full ml-2",children:s.category})]})]})]}),l.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:s.description}),l.jsx("button",{className:"w-full mt-4 bg-purple-600 text-white py-2 rounded-xl hover:bg-purple-700 transition-colors font-semibold",children:"Ver en Amazon"})]},i))})]}),l.jsxs("div",{className:"mt-16 bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Cursos Online Recomendados"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((s,i)=>l.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-all duration-300",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.title}),l.jsx("p",{className:"text-gray-600 mb-3",children:s.description})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.price==="Gratis"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:s.price})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-sm text-gray-500",children:s.provider}),l.jsx("span",{className:"text-sm text-gray-500",children:s.duration}),l.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:s.level})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-yellow-500 mr-1",children:""}),l.jsx("span",{className:"text-sm text-gray-600",children:s.rating})]})]}),l.jsx("button",{className:"w-full bg-orange-600 text-white py-3 rounded-xl hover:bg-orange-700 transition-colors font-semibold",children:"Ver Curso"})]},i))})]}),l.jsxs("div",{className:"mt-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl p-8 text-white text-center",children:[l.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Recursos Exclusivos"}),l.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Suscrbete a nuestro newsletter y recibe recursos exclusivos, plantillas nuevas y consejos financieros directamente en tu email."}),l.jsxs("div",{className:"max-w-md mx-auto flex gap-3",children:[l.jsx("input",{type:"email",placeholder:"Tu email",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 placeholder-gray-500"}),l.jsx("button",{className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Suscribirse"})]}),l.jsx("p",{className:"text-sm mt-4 opacity-75",children:"Sin spam. Cancela cuando quieras. Recibe contenido de valor."})]})]})})}const Sf=[{value:"madrid",label:"Madrid",hasBonus:!0,bonusMonths:12},{value:"andalucia",label:"Andaluca",hasBonus:!0,bonusMonths:12},{value:"murcia",label:"Murcia",hasBonus:!0,bonusMonths:12},{value:"rioja",label:"La Rioja",hasBonus:!0,bonusMonths:12},{value:"baleares",label:"Baleares",hasBonus:!0,bonusMonths:24,specialCondition:"mujeres <35 aos"},{value:"castilla-leon",label:"Castilla y Len",hasBonus:!0,bonusMonths:0,hasDirectAid:!0},{value:"cataluna",label:"Catalua",hasBonus:!1},{value:"pais-vasco",label:"Pas Vasco",hasBonus:!1},{value:"navarra",label:"Navarra",hasBonus:!1},{value:"valencia",label:"Comunidad Valenciana",hasBonus:!1},{value:"galicia",label:"Galicia",hasBonus:!1},{value:"asturias",label:"Asturias",hasBonus:!1},{value:"cantabria",label:"Cantabria",hasBonus:!1},{value:"aragon",label:"Aragn",hasBonus:!1},{value:"extremadura",label:"Extremadura",hasBonus:!1},{value:"castilla-mancha",label:"Castilla-La Mancha",hasBonus:!1},{value:"ceuta",label:"Ceuta",hasBonus:!1},{value:"melilla",label:"Melilla",hasBonus:!1}],Nf={2024:{madrid:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],cataluna:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],"pais-vasco":[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],navarra:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],valencia:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}]},2025:{madrid:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],cataluna:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],"pais-vasco":[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],navarra:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}],valencia:[{min:0,max:12450,rate:.19},{min:12450,max:20200,rate:.24},{min:20200,max:35200,rate:.3},{min:35200,max:6e4,rate:.37},{min:6e4,max:3e5,rate:.45},{min:3e5,max:1/0,rate:.47}]}};function eL({onBack:t}){const[e,n]=F.useState(1),[s,i]=F.useState({community:"",calculationType:"neto",grossIncome:0,desiredNetIncome:0,deductibleExpenses:0,fiscalYear:"2024",isNewAutonomo:!1,hasOfficeExpenses:!1,officeExpenses:0,hasVehicleExpenses:!1,vehicleExpenses:0,hasTrainingExpenses:!1,trainingExpenses:0,hasOtherExpenses:!1,otherExpenses:0}),r=(E,A,R)=>{const M=Nf[R][A]||Nf[R].madrid||Nf[R].madrid;let S=0,w=E;for(const k of M){if(w<=0)break;const C=Math.min(w,k.max-k.min);S+=C*k.rate,w-=C}return S},o=F.useMemo(()=>{if(!s.community)return null;const E=Sf.find(j=>j.value===s.community);if(!E)return null;let A=s.grossIncome*12,R=s.desiredNetIncome||0;if(s.calculationType==="facturar"&&R>0){const j=R*12;let Z=j*1.4;for(let Y=0;Y<10;Y++){const ne=(s.hasOfficeExpenses?s.officeExpenses*12:0)+(s.hasVehicleExpenses?s.vehicleExpenses*12:0)+(s.hasTrainingExpenses?s.trainingExpenses*12:0)+(s.hasOtherExpenses?s.otherExpenses*12:0)+s.deductibleExpenses,oe=Z-ne,U=r(oe,s.community,s.fiscalYear);let H=294*12;s.isNewAutonomo&&E.hasBonus&&(H=0);const X=oe-U-H;if(Math.abs(X-j)<100)break;Z=Z+(j-X)*1.2}A=Z}else if(A<=0)return null;const M=(s.hasOfficeExpenses?s.officeExpenses*12:0)+(s.hasVehicleExpenses?s.vehicleExpenses*12:0)+(s.hasTrainingExpenses?s.trainingExpenses*12:0)+(s.hasOtherExpenses?s.otherExpenses*12:0)+s.deductibleExpenses,S=A-M,w=r(S,s.community,s.fiscalYear);let k=294*12;s.isNewAutonomo&&E.hasBonus&&(E.specialCondition==="mujeres <35 aos"&&E.value,k=0);const C=S-w-k,T=w+k,P=T/A*100;return{baseImponible:S,irpf:w,cuotaSS:k,netIncome:C,totalTaxes:T,taxPercentage:P,grossIncome:A,grossIncomeMonthly:A/12,community:E.label}},[s]),a=()=>{e<9&&n(e+1)},c=()=>{e>1&&n(e-1)},u=()=>{n(1),i({community:"",calculationType:"neto",grossIncome:0,desiredNetIncome:0,deductibleExpenses:0,fiscalYear:"2024",isNewAutonomo:!1,hasOfficeExpenses:!1,officeExpenses:0,hasVehicleExpenses:!1,vehicleExpenses:0,hasTrainingExpenses:!1,trainingExpenses:0,hasOtherExpenses:!1,otherExpenses:0})},h=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Qu quieres calcular?"}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsx("button",{onClick:()=>i({...s,calculationType:"neto"}),className:`p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${s.calculationType==="neto"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 shadow-lg scale-105":"border-gray-200 hover:border-blue-300 bg-white hover:bg-blue-50"}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 ${s.calculationType==="neto"?"bg-blue-500 text-white shadow-lg":"bg-blue-100 text-blue-600"}`,children:l.jsx(NI,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Cunto me queda neto?"}),l.jsx("p",{className:"text-gray-600",children:"Si facturo X euros, cunto me queda despus de impuestos?"})]})]})}),l.jsx("button",{onClick:()=>i({...s,calculationType:"facturar"}),className:`p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${s.calculationType==="facturar"?"border-green-500 bg-gradient-to-br from-green-50 to-green-100 shadow-lg scale-105":"border-gray-200 hover:border-green-300 bg-white hover:bg-green-50"}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 ${s.calculationType==="facturar"?"bg-green-500 text-white shadow-lg":"bg-green-100 text-green-600"}`,children:l.jsx(RI,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:"Cunto tengo que facturar?"}),l.jsx("p",{className:"text-gray-600",children:"Para ganar X euros netos, cunto debo facturar?"})]})]})})]})]}),f=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dnde vives?"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Esto es importante porque los impuestos cambian segn tu comunidad"}),l.jsxs("select",{value:s.community,onChange:E=>i({...s,community:E.target.value}),className:"w-full p-4 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",children:[l.jsx("option",{value:"",children:"Selecciona tu comunidad"}),Sf.map(E=>l.jsxs("option",{value:E.value,children:[E.label,E.hasBonus&&" (con bonificaciones)"]},E.value))]})]}),m=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s.calculationType==="facturar"?"Cunto quieres ganar neto al mes?":"Cunto facturas al mes?"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"number",value:s.calculationType==="facturar"?s.desiredNetIncome:s.grossIncome,onChange:E=>i({...s,[s.calculationType==="facturar"?"desiredNetIncome":"grossIncome"]:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:s.calculationType==="facturar"?"10000":"5000"})]})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"newAutonomo",checked:s.isNewAutonomo,onChange:E=>i({...s,isNewAutonomo:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"newAutonomo",className:"text-sm text-gray-700",children:"Soy autnomo nuevo (primeros 2 aos)"})]})]})]}),x=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Tienes gastos de oficina?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Alquiler, luz, internet, telfono, material de oficina..."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"hasOfficeExpenses",checked:s.hasOfficeExpenses,onChange:E=>i({...s,hasOfficeExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"hasOfficeExpenses",className:"text-sm font-medium text-gray-700",children:"S, tengo gastos de oficina"})]}),s.hasOfficeExpenses&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cunto gastas al mes en oficina?"}),l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"number",value:s.officeExpenses,onChange:E=>i({...s,officeExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"250"})]})]})]})]}),v=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Usas vehculo para trabajar?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Gasolina, mantenimiento, seguro, parking..."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"hasVehicleExpenses",checked:s.hasVehicleExpenses,onChange:E=>i({...s,hasVehicleExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"hasVehicleExpenses",className:"text-sm font-medium text-gray-700",children:"S, uso vehculo para trabajar"})]}),s.hasVehicleExpenses&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cunto gastas al mes en vehculo?"}),l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"number",value:s.vehicleExpenses,onChange:E=>i({...s,vehicleExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"170"})]})]})]})]}),b=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Inviertes en formacin?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Cursos, libros, conferencias, certificaciones..."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"hasTrainingExpenses",checked:s.hasTrainingExpenses,onChange:E=>i({...s,hasTrainingExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"hasTrainingExpenses",className:"text-sm font-medium text-gray-700",children:"S, invierto en formacin"})]}),s.hasTrainingExpenses&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cunto gastas al mes en formacin?"}),l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"number",value:s.trainingExpenses,onChange:E=>i({...s,trainingExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"80"})]})]})]})]}),I=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Tienes otros gastos deducibles?"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Seguros, gestora, asesora, material, software..."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"checkbox",id:"hasOtherExpenses",checked:s.hasOtherExpenses,onChange:E=>i({...s,hasOtherExpenses:E.target.checked}),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"hasOtherExpenses",className:"text-sm font-medium text-gray-700",children:"S, tengo otros gastos deducibles"})]}),s.hasOtherExpenses&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cunto gastas al mes en otros gastos?"}),l.jsxs("div",{className:"relative",children:[l.jsx(ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"number",value:s.otherExpenses,onChange:E=>i({...s,otherExpenses:Number(E.target.value)}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none",placeholder:"40"})]})]})]})]}),y=()=>{var E,A,R;return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Resumen de datos"}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Tipo de clculo:"}),l.jsxs("span",{className:"font-semibold",children:[s.calculationType==="neto"&&"Cunto me queda neto?",s.calculationType==="facturar"&&"Cunto tengo que facturar?"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Comunidad:"}),l.jsx("span",{className:"font-semibold",children:(E=Sf.find(M=>M.value===s.community))==null?void 0:E.label})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Ingresos brutos:"}),l.jsx("span",{className:"font-semibold",children:s.calculationType==="facturar"?`${((A=o==null?void 0:o.grossIncomeMonthly)==null?void 0:A.toFixed(0).toLocaleString())||"0"}/mes (${((R=o==null?void 0:o.grossIncome)==null?void 0:R.toLocaleString())||"0"}/ao)`:`${s.grossIncome.toLocaleString()}/mes (${(s.grossIncome*12).toLocaleString()}/ao)`})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Gastos deducibles:"}),l.jsx("span",{className:"font-semibold",children:(()=>{const M=(s.hasOfficeExpenses?s.officeExpenses:0)+(s.hasVehicleExpenses?s.vehicleExpenses:0)+(s.hasTrainingExpenses?s.trainingExpenses:0)+(s.hasOtherExpenses?s.otherExpenses:0),S=M*12+s.deductibleExpenses;return`${M.toLocaleString()}/mes (${S.toLocaleString()}/ao)`})()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Ao fiscal:"}),l.jsx("span",{className:"font-semibold",children:s.fiscalYear})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Autnomo nuevo:"}),l.jsx("span",{className:"font-semibold",children:s.isNewAutonomo?"S":"No"})]})]})]})},_=()=>{var E,A,R;return o?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Resultados"}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-8 shadow-2xl border border-white/50 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-200 rounded-full -translate-y-16 translate-x-16 opacity-20"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-purple-200 rounded-full translate-y-12 -translate-x-12 opacity-20"}),l.jsxs("div",{className:"text-center mb-8 relative z-10",children:[l.jsx("div",{className:"text-6xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-3 animate-pulse",children:s.calculationType==="facturar"?`${Math.round(o.grossIncomeMonthly||0).toLocaleString()}`:`${Math.round(o.netIncome/12).toLocaleString()}`}),l.jsx("p",{className:"text-xl text-gray-700 font-semibold",children:s.calculationType==="facturar"?"Debes facturar al mes":"Ingresos netos mensuales"}),l.jsx("p",{className:"text-lg text-gray-500 mt-2",children:s.calculationType==="facturar"?`${((E=o.grossIncome)==null?void 0:E.toLocaleString())||"0"} al ao`:`${o.netIncome.toLocaleString()} al ao`})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-red-200",children:[l.jsxs("div",{className:"text-3xl font-bold text-red-600 mb-2",children:[Math.round(o.irpf/12).toLocaleString(),""]}),l.jsx("p",{className:"text-sm font-semibold text-red-700 mb-1",children:"IRPF/mes"}),l.jsxs("p",{className:"text-xs text-red-600",children:[o.irpf.toLocaleString(),"/ao"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-orange-200",children:[l.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[Math.round(o.cuotaSS/12).toLocaleString(),""]}),l.jsx("p",{className:"text-sm font-semibold text-orange-700 mb-1",children:"SS/mes"}),l.jsxs("p",{className:"text-xs text-orange-600",children:[o.cuotaSS.toLocaleString(),"/ao"]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 text-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-purple-200",children:[l.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[Math.round(o.taxPercentage),"%"]}),l.jsx("p",{className:"text-sm font-semibold text-purple-700",children:"% Impuestos"})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-white to-gray-50 rounded-2xl p-6 shadow-lg border border-gray-200",children:[l.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-lg flex items-center gap-2",children:" Qu significa esto?"}),s.calculationType==="facturar"?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-gray-700 text-base leading-relaxed",children:["Para ganar ",l.jsxs("span",{className:"font-bold text-2xl text-green-600 bg-green-100 px-2 py-1 rounded-lg",children:[(A=s.desiredNetIncome)==null?void 0:A.toLocaleString(),""]})," netos al mes, necesitas facturar"," ",l.jsxs("span",{className:"font-bold text-2xl text-blue-600 bg-blue-100 px-2 py-1 rounded-lg",children:[Math.round(o.grossIncomeMonthly||0).toLocaleString(),""]})," al mes."]}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["Esto significa que por cada 100 que facturas, te quedan aproximadamente"," ",l.jsxs("span",{className:"font-bold text-lg text-purple-600",children:[(()=>{const M=o.grossIncomeMonthly||0;return M===0?"0":Math.round(o.netIncome/12/M*100)})(),""]})," netos."]})]}):l.jsxs("p",{className:"text-gray-700 text-base leading-relaxed",children:["Por cada ",l.jsx("span",{className:"font-bold text-gray-900",children:"100"})," que facturas al mes, te quedan aproximadamente"," ",l.jsxs("span",{className:"font-bold text-2xl text-blue-600 bg-blue-100 px-2 py-1 rounded-lg",children:[(()=>s.grossIncome===0?"0":Math.round(o.netIncome/12/s.grossIncome*100))(),""]})," ","despus de impuestos."]}),s.isNewAutonomo&&o.cuotaSS===0&&l.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl border border-green-200",children:l.jsx("p",{className:"text-green-700 font-semibold flex items-center gap-2",children:" Como eres autnomo nuevo, no pagas Seguridad Social este ao!"})}),l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[l.jsx("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:" Consejos para autnomos"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Reserva el 20-25% de tus ingresos para impuestos"}),l.jsx("li",{children:" Lleva un control mensual de tus gastos deducibles"}),l.jsx("li",{children:" Considera contratar un gestor para optimizar tu fiscalidad"}),l.jsx("li",{children:" Planifica tus pagos trimestrales de IRPF"})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[l.jsx("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:" Calendario fiscal 2024"}),l.jsxs("div",{className:"text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Enero:"})," Pago IRPF 4 trimestre 2023"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Abril:"})," Pago IRPF 1 trimestre 2024"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Julio:"})," Pago IRPF 2 trimestre 2024"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Octubre:"})," Pago IRPF 3 trimestre 2024"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Enero 2025:"})," Pago IRPF 4 trimestre 2024"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-4 border border-yellow-200",children:[l.jsx("h4",{className:"font-bold text-yellow-900 mb-2 flex items-center gap-2",children:" Gastos deducibles ms comunes"}),l.jsxs("div",{className:"text-sm text-yellow-800 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Oficina:"})," Alquiler, luz, internet, telfono"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Vehculo:"})," Gasolina, mantenimiento, seguro"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Formacin:"})," Cursos, libros, conferencias"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Material:"})," Ordenador, software, herramientas"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Otros:"})," Seguros, gestora, asesora"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200",children:[l.jsx("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:" Desglose de impuestos"}),l.jsxs("div",{className:"text-sm text-purple-800 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"IRPF:"})," ",Math.round(o.irpf/12).toLocaleString(),"/mes (",Math.round(o.taxPercentage*.7),"% de tus ingresos)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Seguridad Social:"})," ",Math.round(o.cuotaSS/12).toLocaleString(),"/mes (",Math.round(o.taxPercentage*.3),"% de tus ingresos)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Total impuestos:"})," ",Math.round((o.irpf+o.cuotaSS)/12).toLocaleString(),"/mes (",Math.round(o.taxPercentage),"%)"]})]})]}),s.calculationType==="facturar"&&l.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-4 border border-orange-200",children:[l.jsx("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:" Objetivo de facturacin"}),l.jsxs("div",{className:"text-sm text-orange-800 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Facturacin mensual necesaria:"})," ",Math.round(o.grossIncomeMonthly||0).toLocaleString(),""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Facturacin anual necesaria:"})," ",(R=o.grossIncome)==null?void 0:R.toLocaleString(),""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Eficiencia fiscal:"})," Por cada 100 facturados, te quedan ",(()=>{const M=o.grossIncomeMonthly||0;return M===0?"0":Math.round(o.netIncome/12/M*100)})()," netos"]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-4 border border-indigo-200",children:[l.jsx("h4",{className:"font-bold text-indigo-900 mb-2 flex items-center gap-2",children:" Pagos trimestrales de IRPF"}),l.jsxs("div",{className:"text-sm text-indigo-800 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Pago trimestral estimado:"})," ",Math.round(o.irpf/12*3).toLocaleString(),""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Pago anual total:"})," ",o.irpf.toLocaleString(),""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Prximo pago:"})," ",(()=>{const S=new Date().getMonth();return S<3?"Abril 2024":S<6?"Julio 2024":S<9?"Octubre 2024":"Enero 2025"})()]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-200",children:[l.jsx("h4",{className:"font-bold text-pink-900 mb-2 flex items-center gap-2",children:" Comparacin con otros regmenes"}),l.jsxs("div",{className:"text-sm text-pink-800 space-y-1",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Autnomo:"})," ",Math.round(o.taxPercentage),"% de impuestos"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Asalariado:"})," ~",Math.round(o.taxPercentage*.8),"% de impuestos"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Ventaja autnomo:"})," Ms gastos deducibles"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Ventaja asalariado:"})," Menos gestin administrativa"]})]})]})]})]})]})]}):null};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-8 px-4 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"2s"}}),l.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"4s"}})]}),l.jsxs("div",{className:"max-w-2xl mx-auto relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-white to-gray-50 backdrop-blur-sm rounded-2xl border border-gray-200 text-gray-700 hover:from-gray-50 hover:to-white transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[l.jsx(d1,{className:"w-5 h-5"}),"Volver"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Calculadora de Autnomos"}),l.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Calcula tus impuestos de forma inteligente"})]}),l.jsx("div",{className:"w-20"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-700 bg-white/50 px-3 py-1 rounded-full backdrop-blur-sm",children:["Paso ",e," de 9"]}),l.jsxs("span",{className:"text-sm font-bold text-blue-600 bg-blue-100 px-3 py-1 rounded-full",children:[Math.round(e/9*100),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 h-3 rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:`${e/9*100}%`}})})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl border border-gray-200 shadow-xl p-8",children:[e===1&&h(),e===2&&f(),e===3&&m(),e===4&&x(),e===5&&v(),e===6&&b(),e===7&&I(),e===8&&y(),e===9&&_(),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsx("button",{onClick:c,disabled:e===1,className:`px-8 py-4 rounded-2xl font-semibold transition-all duration-300 transform ${e===1?"bg-gray-100 text-gray-400 cursor-not-allowed scale-95":"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 hover:from-gray-300 hover:to-gray-400 hover:scale-105 hover:shadow-lg"}`,children:" Anterior"}),e<9?l.jsx("button",{onClick:a,disabled:e===1&&!s.calculationType||e===2&&!s.community||e===3&&(s.calculationType==="facturar"?s.desiredNetIncome||0:s.grossIncome)<=0||e===4&&s.hasOfficeExpenses&&s.officeExpenses<0||e===5&&s.hasVehicleExpenses&&s.vehicleExpenses<0||e===6&&s.hasTrainingExpenses&&s.trainingExpenses<0||e===7&&s.hasOtherExpenses&&s.otherExpenses<0,className:`px-8 py-4 rounded-2xl font-semibold transition-all duration-300 transform ${e===1&&!s.calculationType||e===2&&!s.community||e===3&&(s.calculationType==="facturar"?s.desiredNetIncome||0:s.grossIncome)<=0||e===4&&s.hasOfficeExpenses&&s.officeExpenses<0||e===5&&s.hasVehicleExpenses&&s.vehicleExpenses<0||e===6&&s.hasTrainingExpenses&&s.trainingExpenses<0||e===7&&s.hasOtherExpenses&&s.otherExpenses<0?"bg-gray-100 text-gray-400 cursor-not-allowed scale-95":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 hover:scale-105 hover:shadow-xl"}`,children:"Siguiente "}):l.jsx("button",{onClick:u,className:"px-8 py-4 rounded-2xl font-semibold bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 hover:shadow-xl",children:" Nueva Clculo"})]})]})]})]})}const Gt=(t,e,n,s)=>{typeof window<"u"&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:n,value:s})},Ms=(t,e)=>{typeof window<"u"&&window.gtag&&window.gtag("config","G-633RQLC6T0",{page_path:t,page_title:e})},Zn={millionaireCalculatorOpened:()=>Gt("calculator_opened","millionaire_calculator"),millionaireCalculationCompleted:(t,e)=>Gt("calculation_completed","millionaire_calculator",`age_${t}_savings_${e}`),salaryCalculatorOpened:()=>Gt("calculator_opened","salary_calculator"),salaryCalculationCompleted:(t,e)=>Gt("calculation_completed","salary_calculator",`gross_${t}_region_${e}`),expenseControlOpened:()=>Gt("app_opened","expense_control"),userRegistered:()=>Gt("user_registered","expense_control"),expenseAdded:(t,e)=>Gt("expense_added","expense_control",e,t),incomeAdded:(t,e)=>Gt("income_added","expense_control",e,t),quizCompleted:t=>Gt("quiz_completed","expense_control",`score_${t}`),navigationToExpenseControl:()=>Gt("navigation","app_flow","to_expense_control"),navigationToCalculator:t=>Gt("navigation","app_flow",`to_${t}`),timeSpentOnPage:(t,e)=>Gt("time_spent","engagement",t,e),featureUsed:t=>Gt("feature_used","engagement",t)},kS=({slot:t,style:e={display:"block"},format:n="auto",responsive:s=!0,className:i=""})=>(F.useEffect(()=>{try{typeof window<"u"&&window.adsbygoogle&&localStorage.getItem("adsense-approved")==="true"&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(o){console.log("AdSense error:",o)}},[]),(typeof window<"u"?localStorage.getItem("adsense-approved")==="true":!1)?l.jsx("div",{className:`adsense-container ${i}`,children:l.jsx("ins",{className:"adsbygoogle",style:e,"data-ad-client":"ca-pub-4837743291717475","data-ad-slot":t,"data-ad-format":n,"data-full-width-responsive":s?"true":"false"})}):l.jsxs("div",{className:`adsense-placeholder ${i}`,style:{...e,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"bold",textAlign:"center",padding:"20px"},children:[" Espacio publicitario",l.jsx("br",{}),l.jsx("small",{style:{opacity:.8,fontSize:"12px"},children:"AdSense en proceso de aprobacin"})]})),tL=({className:t})=>l.jsx(kS,{slot:"6673201053",format:"auto",responsive:!0,style:{display:"block",textAlign:"center",margin:"20px 0",minHeight:"90px"},className:t}),nL=({className:t})=>l.jsx(kS,{slot:"6673201053",format:"auto",responsive:!0,style:{display:"block",textAlign:"center",margin:"30px 0",minHeight:"90px"},className:`inline-ad ${t}`}),Zc=({type:t,data:e})=>(F.useEffect(()=>{const n=()=>{const i={"@context":"https://schema.org","@type":t,name:e.name,description:e.description,url:e.url,author:{"@type":"Organization",name:"Finanzas Fciles"},publisher:{"@type":"Organization",name:"Finanzas Fciles",url:"https://finanzasmuyfaciles.netlify.app"}};switch(t){case"WebSite":return{...i,potentialAction:{"@type":"SearchAction",target:"https://finanzasmuyfaciles.netlify.app/?q={search_term_string}","query-input":"required name=search_term_string"}};case"WebApplication":return{...i,applicationCategory:"FinanceApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},screenshot:e.screenshot,featureList:e.features};case"Calculator":return{...i,applicationCategory:"FinanceApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},featureList:e.features};case"AutonomosCalculator":return{...i,applicationCategory:"FinanceApplication",operatingSystem:"Web Browser",offers:{"@type":"Offer",price:"0",priceCurrency:"EUR"},featureList:["Clculo de IRPF para autnomos","Cuota de Seguridad Social 2025","Gastos deducibles por categoras","Comparativa entre comunidades autnomas","Bonificaciones para autnomos nuevos","Clculo de cunto facturar para ganancia neta deseada"],keywords:"calculadora autnomos, IRPF autnomos, cuota seguridad social, gastos deducibles, fiscalidad autnomos",audience:{"@type":"Audience",audienceType:"Autnomos y trabajadores por cuenta propia"}};default:return i}},s=document.createElement("script");return s.type="application/ld+json",s.textContent=JSON.stringify(n(),null,2),document.head.appendChild(s),()=>{s.parentNode&&s.parentNode.removeChild(s)}},[t,e]),null),sL=()=>{const[t,e]=F.useState(null),[n,s]=F.useState(!1),[i,r]=F.useState(!1);F.useEffect(()=>{(()=>{if(window.navigator.standalone===!0){r(!0);return}if(window.matchMedia("(display-mode: standalone)").matches){r(!0);return}if(window.matchMedia("(display-mode: minimal-ui)").matches){r(!0);return}})();const u=v=>{v.preventDefault(),e(v),s(!0)},h=()=>{console.log("PWA instalada"),r(!0),s(!1),e(null)};window.addEventListener("beforeinstallprompt",u),window.addEventListener("appinstalled",h);const f=/iPad|iPhone|iPod/.test(navigator.userAgent),m=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!i&&(f||m)&&s(!0);const x=window.setTimeout(()=>{!i&&!t&&s(!0)},4e3);return()=>{window.removeEventListener("beforeinstallprompt",u),window.removeEventListener("appinstalled",h),window.clearTimeout(x)}},[]);const o=async()=>{if(t)try{await t.prompt();const{outcome:c}=await t.userChoice;console.log(c==="accepted"?"Usuario acept instalar la PWA":"Usuario rechaz instalar la PWA"),e(null),s(!1)}catch(c){console.error("Error al instalar PWA:",c)}},a=()=>{const c=/iPad|iPhone|iPod/.test(navigator.userAgent),u=/Android/.test(navigator.userAgent);alert(c?`Para instalar en iOS:
1. Toca el botn Compartir
2. Selecciona "Agregar a pantalla de inicio"
3. Toca "Agregar"`:u?`Para instalar en Android:
1. Toca el men ()
2. Selecciona "Instalar app" o "Agregar a pantalla de inicio"
3. Confirma la instalacin`:`Para instalar:
1. Busca el icono de instalacin en la barra de direcciones
2. Haz clic en "Instalar"
3. Confirma la instalacin`)};return i||!n&&!t?null:l.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 max-w-sm",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Instalar FinanzasFcil"}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Accede ms rpido y usa sin conexin"}),l.jsxs("div",{className:"mt-3 flex space-x-2",children:[t?l.jsx("button",{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded-md font-medium transition-colors",children:"Instalar"}):l.jsx("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded-md font-medium transition-colors",children:"Instalar"}),l.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xs px-3 py-1.5 rounded-md transition-colors",children:"Ahora no"})]})]})]})})})},iL=()=>{const[t,e]=F.useState({});return F.useEffect(()=>{(()=>{var r,o;const i={userAgent:navigator.userAgent,isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent),isSafari:/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),hasServiceWorker:"serviceWorker"in navigator,hasManifest:"onbeforeinstallprompt"in window,displayMode:window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: minimal-ui)").matches?"minimal-ui":"browser",isStandalone:navigator.standalone||!1,swRegistration:null,swController:((r=navigator.serviceWorker)==null?void 0:r.controller)||null,manifestUrl:((o=document.querySelector('link[rel="manifest"]'))==null?void 0:o.getAttribute("href"))||"not found",currentUrl:window.location.href,origin:window.location.origin};"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(a=>{i.swRegistration=a,e(i)}).catch(a=>{i.swRegistration=`Error: ${a.message}`,e(i)}):e(i)})()},[]),new URLSearchParams(window.location.search).has("debug")?l.jsxs("div",{className:"fixed top-4 right-4 bg-black/90 text-white p-4 rounded-lg text-xs max-w-sm z-50 overflow-auto max-h-96",children:[l.jsx("h3",{className:"font-bold mb-2",children:" PWA Debug Info"}),l.jsx("div",{className:"space-y-1",children:Object.entries(t).map(([s,i])=>l.jsxs("div",{children:[l.jsxs("span",{className:"text-blue-300",children:[s,":"]})," ",l.jsx("span",{className:"text-green-300",children:typeof i=="object"?JSON.stringify(i):String(i)})]},s))}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("button",{onClick:()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(s=>{s.forEach(i=>{i.unregister()}),window.location.reload()})},className:"bg-red-600 text-white px-2 py-1 rounded text-xs",children:" Clear SW"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs ml-2",children:" Reload"})]})]}):null};function rL(){const[t,e]=F.useState("landing"),n=Lg({threshold:100,velocity:.2,safeZone:{top:140,bottom:100,left:50,right:50},onSwipeRight:()=>{t!=="landing"&&(e("landing"),Ms("/","Landing Page"))}});return F.useEffect(()=>{const s=i=>{i.detail==="millonario"?(e("tiktok-millonario"),Zn.millionaireCalculatorOpened(),Ms("/millonario","Calculadora Millonario")):i.detail==="gastos"&&(e("gastos"),Zn.navigationToExpenseControl(),Ms("/gastos","Control de Gastos"))};return window.addEventListener("changeMode",s),Ms("/","Finanzas Fciles - Landing"),()=>{window.removeEventListener("changeMode",s)}},[]),F.useEffect(()=>{switch(t){case"gastos":Zn.expenseControlOpened(),Ms("/gastos","Control de Gastos");break;case"tiktok-millonario":Zn.millionaireCalculatorOpened(),Ms("/millonario","Calculadora Millonario");break;case"salario":Zn.salaryCalculatorOpened(),Ms("/salario","Calculadora Salario Neto");break;case"landing":Ms("/","Finanzas Fciles - Landing");break}},[t]),t==="gastos"?l.jsx(BO,{onBack:()=>e("landing")}):t==="autonomos"?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-indigo-50",children:[l.jsx(Zc,{type:"AutonomosCalculator",data:{name:"Calculadora de Autnomos 2025 - IRPF y Seguridad Social",description:"Calculadora gratuita para autnomos en Espaa. Calcula IRPF, cuota de Seguridad Social, gastos deducibles y bonificaciones por comunidad autnoma.",url:"https://finanzasmuyfaciles.netlify.app/autonomos"}}),l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(eL,{onBack:()=>e("landing")})]}):t==="tiktok-millonario"?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600",children:[l.jsx(Zc,{type:"Calculator",data:{name:"Calculadora Cundo Ser Millonario? - Libertad Financiera",description:"Calculadora interactiva para saber cundo podrs cumplir tus sueos y alcanzar la libertad financiera. Calcula tu edad para ser millonario con grficos y animaciones.",url:"https://finanzasmuyfaciles.netlify.app/cuando-ser-millonario",features:["Clculo de inters compuesto","Grficos interactivos","Animaciones de confeti","Sliders interactivos","Comparativas de ahorro"]}}),l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(qO,{onBack:()=>e("landing")})]}):t==="salario"?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[l.jsx(Zc,{type:"Calculator",data:{name:"Calculadora Salario Neto 2025 - Sueldo Bruto a Neto Espaa",description:"Calculadora de salario neto 2025 para Espaa. Convierte tu sueldo bruto a neto con clculos precisos de IRPF, Seguridad Social y comparativas regionales.",url:"https://finanzasmuyfaciles.netlify.app/calculadora-salario-neto",features:["Clculo IRPF 2025","Deducciones Seguridad Social","Comparativas regionales","Grficos de pagas extra","Diseo mobile-first"]}}),l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx($O,{})]}):t==="privacy"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(HO,{})]}):t==="terms"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(WO,{})]}):t==="about"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(GO,{})]}):t==="contact"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(KO,{})]}):t==="articles"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(YO,{})]}):t==="guides"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(XO,{})]}):t==="faq"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(JO,{})]}):t==="resources"?l.jsxs("div",{className:"min-h-screen",children:[l.jsx("div",{className:"absolute top-20 left-4 z-10",children:l.jsx("button",{onClick:()=>e("landing"),className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-300 text-gray-700 hover:bg-white transition-colors shadow-lg",children:" Volver"})}),l.jsx(ZO,{})]}):t==="donate"?l.jsx("div",{className:"min-h-screen",children:l.jsx(IS,{isOpen:!0,onClose:()=>e("landing")})}):l.jsxs("div",{ref:n,className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[l.jsx(Zc,{type:"WebSite",data:{name:"Finanzas Fciles - Calculadoras Financieras Gratuitas",description:"Calculadora de salario neto 2024, calculadora cundo ser millonario, control de gastos gratis. Herramientas financieras para mejorar tu economa personal.",url:"https://finanzasmuyfaciles.netlify.app"}}),l.jsxs("div",{className:"text-center pt-16 pb-8",children:[l.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"FinanzasFcil"}),l.jsx("p",{className:"text-xl text-white/80 mb-4",children:"Calculadoras Financieras Gratuitas 2025"}),l.jsx("p",{className:"text-lg text-white/70 mb-8",children:"Salario neto, libertad financiera y control de gastos"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-16",children:[l.jsx("div",{className:"mb-8",children:l.jsx(tL,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:[l.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-6",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Control de Gastos Personal"}),l.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"App gratuita para gestionar gastos diarios, categorizar compras y controlar tu presupuesto mensual. Ideal para ahorrar dinero y mejorar tus finanzas personales."}),l.jsx("button",{onClick:()=>{Zn.navigationToExpenseControl(),e("gastos")},className:"bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-orange-600 hover:to-red-700 transition-all duration-300 shadow-2xl",children:"Empezar Ahora"})]})}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-6",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Cundo ser millonario?"}),l.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"Calculadora de libertad financiera para saber cundo sers millonario. Calcula con inters compuesto cunto necesitas ahorrar para alcanzar 1 milln de euros."}),l.jsx("button",{onClick:()=>{Zn.navigationToCalculator("millionaire"),e("tiktok-millonario")},className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-pink-600 hover:to-purple-700 transition-all duration-300 shadow-2xl",children:"CALCULAR! "})]})}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-6",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Calculadora Salario Neto 2025"}),l.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"Calculadora gratuita para convertir sueldo bruto a neto en Espaa 2025. Calcula IRPF, Seguridad Social y descubre cunto recibirs realmente en tu nmina."}),l.jsx("button",{onClick:()=>{Zn.navigationToCalculator("salary"),e("salario")},className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-2xl",children:"Calcular Salario"})]})}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm border-4 border-white/30 rounded-3xl p-8 shadow-2xl hover:scale-105 transform transition-all duration-300",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-6",children:""}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Calculadora de Autnomos"}),l.jsx("p",{className:"text-white/90 mb-6 text-lg",children:"Calcula IRPF, cuota de Seguridad Social y gastos deducibles. Incluye bonificaciones por comunidad autnoma para autnomos nuevos."}),l.jsx("button",{onClick:()=>{Zn.navigationToCalculator("autonomos"),e("autonomos")},className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold text-xl px-8 py-4 rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-2xl",children:"Calcular Impuestos"})]})})]}),l.jsx("div",{className:"mt-12",children:l.jsx(nL,{})}),l.jsx("div",{className:"mt-16 bg-white/5 backdrop-blur-sm rounded-3xl p-8",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsxs("div",{className:"flex justify-center flex-wrap gap-4 text-white/70",children:[l.jsx("button",{onClick:()=>e("articles"),className:"hover:text-white transition-colors underline",children:"Artculos"}),l.jsx("button",{onClick:()=>e("guides"),className:"hover:text-white transition-colors underline",children:"Guas"}),l.jsx("button",{onClick:()=>e("resources"),className:"hover:text-white transition-colors underline",children:"Recursos"}),l.jsx("button",{onClick:()=>e("faq"),className:"hover:text-white transition-colors underline",children:"FAQ"}),l.jsx("button",{onClick:()=>e("about"),className:"hover:text-white transition-colors underline",children:"Sobre nosotros"}),l.jsx("button",{onClick:()=>e("contact"),className:"hover:text-white transition-colors underline",children:"Contacto"}),l.jsx("button",{onClick:()=>e("privacy"),className:"hover:text-white transition-colors underline",children:"Privacidad"}),l.jsx("button",{onClick:()=>e("terms"),className:"hover:text-white transition-colors underline",children:"Trminos"}),l.jsx("button",{onClick:()=>e("donate"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/10 border border-white/20 hover:bg-white/20 hover:text-white transition-colors","aria-label":"Donar a travs de PayPal",children:l.jsx("span",{children:" Donar"})})]}),l.jsx("p",{className:"text-white/50 text-sm",children:" 2025 FinanzasFcil. Todos los derechos reservados."})]})}),l.jsxs("div",{className:"mt-16 bg-white/5 backdrop-blur-sm rounded-3xl p-8",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-8 text-center",children:"Preguntas Frecuentes sobre Calculadoras Financieras"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"Cmo calcular mi salario neto 2025?"}),l.jsx("p",{className:"text-white/80",children:"Nuestra calculadora de salario neto te ayuda a convertir tu sueldo bruto a neto considerando IRPF, Seguridad Social y todas las deducciones aplicables en Espaa."})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"Cundo ser millonario?"}),l.jsx("p",{className:"text-white/80",children:"Con la calculadora de libertad financiera puedes saber exactamente cunto necesitas ahorrar mensualmente para alcanzar 1 milln de euros."})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"Es gratis usar las calculadoras?"}),l.jsx("p",{className:"text-white/80",children:"S, todas nuestras calculadoras financieras son completamente gratuitas. No necesitas registrarte para usar las herramientas bsicas."})]}),l.jsxs("div",{className:"bg-white/10 rounded-2xl p-6",children:[l.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:"Cmo controlar mis gastos?"}),l.jsx("p",{className:"text-white/80",children:"Nuestra app de control de gastos te permite categorizar tus compras, establecer presupuestos y analizar tus patrones de gasto."})]})]})]}),l.jsxs("div",{className:"mt-16 text-center",children:[l.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-8",children:"Por qu elegir FinanzasFcil?"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Anlisis Inteligente"}),l.jsx("p",{className:"text-white/80",children:"Visualiza tus patrones de gasto y recibe insights personalizados"})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Objetivos Claros"}),l.jsx("p",{className:"text-white/80",children:"Establece metas financieras y haz un seguimiento de tu progreso"})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-6",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"100% Seguro"}),l.jsx("p",{className:"text-white/80",children:"Tus datos estn protegidos y solo t tienes acceso a ellos"})]})]})]})]}),l.jsx(sL,{}),l.jsx(iL,{})]})}"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registrado exitosamente:",t.scope),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&console.log("Nueva versin disponible")})})}).catch(t=>{console.log("SW fall al registrarse:",t)}),window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registrado en load:",t.scope)}).catch(t=>{console.log("SW fall en load:",t)})}));Tf.createRoot(document.getElementById("root")).render(l.jsx(ip.StrictMode,{children:l.jsx(rL,{})}));
